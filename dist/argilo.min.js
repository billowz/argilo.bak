!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define("argilo",["exports"],n):n(t.argilo={})}(this,function(h){"use strict";var d=window||global,o="constructor",s="prototype",e="__proto__",n="boolean",r="function",i="number",u="string";function a(t,n){return t===n||t!=t&&n!=n}function c(t){return null===t||t===undefined}function f(t){return typeof t===r}function l(t){if(t===undefined||null===t)return!1;var n=t[o];return n===undefined||n===Object}function t(n){return function(t){return t!==undefined&&null!==t&&t[o]===n}}var p=t(Boolean),v=t(Number),g=t(String),m=t(Date),b=t(RegExp),y=Array.isArray||t(Array),x=function x(t){return 0===t||!!t&&(t[o]===Number&&parseInt(t)===t.valueOf())},w=ArrayBuffer?ArrayBuffer.isView:function(){return!1};function E(t){if(t===undefined||null===t)return!1;switch(t[o]){case undefined:break;case Array:case String:case d.NodeList:case d.HTMLCollection:case d.Int8Array:case d.Uint8Array:case d.Int16Array:case d.Uint16Array:case d.Int32Array:case d.Uint32Array:case d.Float32Array:case d.Float64Array:return!0}var n=t.length;return n!==undefined&&typeof n===i&&(0===n||0<n&&parseInt(n)===n&&n-1 in t)}function A(t){if(t===undefined||null===t)return!0;switch(typeof t){case n:case i:case u:case r:return!0}return!1}var $=/^\s*$/;function _(t,n,e){n=n?"scope":"",e=e?"offset":"";for(var r=new Array(t+1),i=new Array(t+1),o=0;o<=t;o++)r[o]=(o||n?", ":"")+"args["+(e?"offset"+(o?" + "+o:""):o)+"]",i[o]="case "+o+": return fn"+(n&&".call")+"("+n+r.slice(0,o).join("")+");";return Function("return function(fn, "+(n&&n+", ")+"args"+(e&&", offset, len")+"){\nswitch("+(e?"len":"args.length")+"){\n"+i.join("\n")+"\n}\n"+(e&&"var arr = new Array(len);\nfor(var i=0; i<len; i++) arr[i] = arr[offset + i];")+"\nreturn fn.apply("+(n||"null")+", "+(e?"arr":"args")+");\n}")()}var C=_(8,1,0),O=_(8,0,0),S=_(8,1,1),k=_(8,0,1);function N(t,n,e){switch(n){case undefined:case null:return O(t,e)}return C(t,n,e)}function P(t,n,e){var r=arguments.length;return 1===r?(e=t,t=n=0):2===r&&(e=n,g(t)?n=0:(n=t,t=0)),t?Function("return function "+t+"("+(n?n.join(", "):"")+"){"+e+"}")():C(Function,Function,n?n.concat(e):[e])}var T=/\$\d+$/;function R(t){var n=t.name;return n?n.replace(T,""):""}var I=Function[s];I.bind||(I.bind=function(r){var i=this,o=arguments.length-1;if(0<o){for(var u=new Array(o),t=0;t<o;t++)u[t]=arguments[t+1];return function(){var t=arguments.length,n=0;for(u.length=o+t;n<t;n++)u[o+n]=arguments[n];var e=N(i,r,u);return t&&(u.length=o),e}}return function(){return N(i,r,arguments)}});var j="querySelector",L=j+"All",F="__queryResults";document[L]||(document[F]=[],document[L]=function(t){var n=document.documentElement.firstChild,e=document.createElement("STYLE");if(n.appendChild(e),e.styleSheet)e.styleSheet.cssText=t+"{x:expression(document["+F+"].push(this))}";else{var r=document.createTextNode(t+"{x:expression(document[QUERY_RESULTS].push(this))}");e.appendChild(r)}window.scrollBy(0,0);var i=document[F];return document[F]=[],i}),document[j]||(document[j]=function(t){var n=document[L](t);return n.length?n[0]:null});var D=/(^\s+)|(\s+$)/g;function V(t){return t.replace(D,"")}var B=/^[a-zA-Z]/;function M(t){return t.toUpperCase()}function z(t){return t.replace(B,M)}function H(t){return c(t)?"":String(t)}function U(t,n){return void 0===n&&(n=0),t.charCodeAt(n)}var q=Object[s].hasOwnProperty;function K(t,n){return q.call(t,n)}function X(t,n,e){return t&&q.call(t,n)?t[n]:e}var Z=Object.getPrototypeOf,G=Object.setPrototypeOf,Y=!!G,W=G?Z:Z?function(t){return t[e]||Z(t)}:function(t){return K(t,e)?t[e]:t[o][s]},Q=G||function(t,n){return t[e]=n};function J(){}function tt(t,n){J[s]=t;var e,r,i=new J;if(J[s]=undefined,n)for(e in n)(r=n[e])&&r[o]===Object&&(i[e]=r.value);return i}var nt=Object.create||(Object.getPrototypeOf?tt:function nt(t,n){var e=tt(t,n);return Q(e,t),e}),et=new String("STOP"),rt=lt(dt),it=lt(pt),ot=ht(dt),ut=ht(pt),at=ft(it,rt,ct),st=ft(ut,ot,ct);function ct(t,n,e,r){var i;if(e&&(n=n.bind(e)),!1===r){for(i in t)if(n(t[i],i,t)===et)return i}else for(i in t)if(K(t,i)&&n(t[i],i,t)===et)return i}function ft(o,u,a){return function(t,n,e,r){var i=E(t);return(i?i===String?o:u:a)(t,n,e,r)}}function lt(o){return function(t,n,e){e&&(n=n.bind(e));for(var r=0,i=t.length;r<i;r++)if(n(o(t,r),r,t)===et)return r}}function ht(i){return function(t,n,e){e&&(n=n.bind(e));for(var r=t.length;r--;)if(n(i(t,r),r,t)===et)return r}}function dt(t,n){return t[n]}function pt(t,n){return t.charAt(n)}var vt=new String("SKIP"),gt=xt(rt),mt=xt(it),bt=wt(ct),yt=ft(mt,gt,bt);function xt(r){return function(t,i,n){var e=t.length,o=new Array(e),u=0;return i?n&&(i=i.bind(n)):i=Et,r(t,function(t,n,e){var r=i(t,n,e);if(r===et||r===vt)return r;o[u++]=r}),u!==e&&(o.length=u),o}}function wt(r){return function(t,i,n,e){var o=nt(null);return i?n&&(i=i.bind(n)):i=Et,r(t,function(t,n,e){var r=i(t,n,e);if(r===et||r===vt)return r;o[n]=r},undefined,e),o}}function Et(t){return t}var At=/[-\/\\^$*+?.()|[\]{}]/g;function $t(t){return t.replace(At,"\\$&")}var _t=p(/(?:)/.sticky),Ct=p(/(?:)/.unicode);function Ot(t,n,e){void 0===e&&(e=kt);for(var r,i=nt(null),o=0,u=t.length;o<u;o++)i[n(r=t[o],o,t)]=e(r,o,t);return i}function St(t,n,e){var r=arguments.length;if(r<3&&(e=2!==r||n,n=","),g(t)){if(!t)return nt(null);t=t.split(n)}return Ot(t,kt,f(e)?e:function(){return e})}function kt(t){return t}function Nt(t,n,e){var r=arguments.length;if(r<3&&(2===r&&(e=n),n=","),g(t)){if(!t)return[];t=t.split(n)}if(e)for(var i=0,o=t.length;i<o;i++)t[i]=e(t[i],i);return t}var Pt=Object.prototype.toString,Tt={},Rt="undefined",It="Array",jt=["Uint8Array","Int8Array"],Lt=["Uint16Array","Int16Array"],Ft=["Uint32Array","Int32Array"],Dt=["Float32Array","Float64Array"],Vt=jt.concat(Lt).concat(Ft).concat(Dt).concat("ArrayBuffer");function Bt(t,n,e,r){Mt(arguments,Bt,function(){return zt(t,[Pt],["o"],"$0.call(o)",tn(en(n),function(t){return"'[object "+t+"]'"}),e,r)})}function Mt(t,e,n){1===t.length?Jt(t[0],function(t,n){return e.apply(null,[n].concat(t))}):n()}function zt(t){var n=1<arguments.length&&arguments[1]!==undefined?arguments[1]:[],e=arguments[2],r=arguments[3],i=arguments[4],o=arguments[5],u=arguments[6];i=en(i);var a=tn(n,function(t,n){return"$"+n});a.push("return function("+e.join(",")+"){\n"+(1<i.length?"switch("+r+"){\ncase "+i.join(":\n\t\tcase ")+": return "+!o+";\ndefault: return "+!!o+";\n}":"return ("+r+")"+(o?"!":"=")+"=="+i[0]+";")+"\n    }"),Ht(t,e,Function.apply(Function,a).apply(null,n)),u||zt("not"+nn(t,1),n,e,r,i,!o,1)}function Ht(t,n,e){1===arguments.length?Jt(t,function(t,n){Tt[n]=t}):Tt[t]=[n,e]}function Ut(t,n,e){for(var r in Tt)t[r]=(i=Tt[r],o=n,u=e,a=void 0,a=i[0],new Function("condition","callback","slice","return function("+a.join(",")+"){\nif("+(u?"!":"")+"condition("+a.join(",")+"))\n    callback(slice(arguments, "+a.length+"));\n}")(i[1],o,Qt));var i,o,u,a;return t}function qt(t,n){var e=arguments.length;1<e?t&&n():e&&t()}function Kt(t){if("function"==typeof t&&(t=t()),t instanceof Error)throw t;throw new Error(t)}function Xt(t,n){t||Kt(n)}Bt({bool:"Boolean",num:"Number",str:"String",fn:"Function",date:"Date",reg:"RegExp",obj:"Object",err:"Error",array:It,arrayLike:[[It,"Arguments","NodeList"].concat(Vt)],byteArray:[jt],shortArray:[Lt],intArray:[Ft],floatArray:[Dt],typedArrays:[Vt]}),Jt(Vt,function(t){return Bt(nn(t),t)}),function _f(t,n,e,r){Mt(arguments,_f,function(){return zt(t,undefined,["o"],"o",n,e,r)})}({nil:[[Rt,"null"]],nul:"null",def:[Rt,1,1],undef:[Rt,0,1],NaN:["o",1],infinite:["Infinity",0,1]}),Ht({finite:[["o"],function(t){return t==t&&t!==Infinity&&"[object Number]"===Pt.call(t)}],eq:[["a","b"],function(t,n){return t===n||t!=t&&n!=n}],notEq:[["a","b"],function(t,n){return t!==n&&(t==t||n==n)}]}),Ut(Xt,function(t){return Kt(t[0])},1),Xt.by=qt;var Zt=1,Gt=[];Yt("debug",0),Yt("info",1),Yt("warn",2),Yt("error",3);function Yt(t,n){function e(){Zt<=n&&e.print.apply(this,arguments)}return e.level=n,e.methods=function o(e,r){var i="["+e+"]: ";return Ut({by:qt,when:function(t){t&&r.print.apply(r,Qt(arguments,1))},print:function(t){if(arguments.length){var n=tn(arguments,function(t){return t});"string"==typeof t?n[0]=i+n[0]:n.unshift(i),r.__print(n,e)}}},function(t){return r.print.apply(r,t)})}(t,e),function i(t){var n=t.level,e=t.methods;for(var r in e)t[r]=n<Zt?Wt:e[r];return t}(Gt[n]=e)}function Wt(){}function Qt(t,n){for(var e=t.length,r=new Array(e-n);e-- >n;)r[e-n]=t[e];return r}function Jt(t,n){if(t instanceof Array)for(var e=t.length;e--;)n(t[e],e);else for(var r in t)n(t[r],r)}function tn(t,n){for(var e=t.length,r=new Array(e);e--;)r[e]=n(t[e],e);return r}function nn(t,n){return t.replace(/^[a-zA-Z]/,n?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()})}function en(t){return t instanceof Array?t:[t]}console||(console={log:function(){}}),console.info||(console.info=console.log),function Cf(e,n){Jt(Gt,function(t){t.__print=n?function(t,n){e[n].apply(e,t)}:function(t,n){return e[n](t,n)}})}(console,1);var rn=Object.defineProperty,on=rn&&function(){try{var n,t={};return rn(t,"s",{get:function(){return n},set:function(t){n=t}}),t.s=1,t.s===n}catch(e){}}();on||(rn=function rn(t,n,e){return Xt(e.get||e.set,"not support getter/setter on defineProperty"),t[n]=e.value,t});var un=rn,an=on?function(t,n,e,r,i,o){return rn(t,n,{value:e,configurable:r||!1,writeable:i||!1,enumerable:o||!1}),e}:function(t,n,e){return t[n]=e};function sn(t,n,e,r,i){void 0===e&&(e=0),t||(t={});for(var o,u,a=e,s=n.length;a<s;a++)if(o=n[a])for(u in o)r(u,t,o,i)&&(t[u]=o[u]);return t}function cn(t){return sn(t,arguments,1,fn)}function fn(t,n,e){return K(e,t)}function ln(t,n,e){return K(e,t)&&!K(n,t)}function hn(t,n,e,r){return K(e,t)&&r(t,n,e)}function dn(t,n,e,r,i){return Xt.fn(t,"Invalid Class"),sn(t[s],n,e,r,i),t}function pn(t){return dn(t,arguments,1,vn)}function vn(t,n,e){return t!==o}function gn(t,n,e){return t!==o&&!(t in n)}function mn(t,n){return dn(t,arguments,2,bn,n)}function bn(t,n,e,r){return t!==o&&r(t,n,e)}function yn(t,n){var e=nt(n[s]);(e[o]=t)[s]=e,Q(t,n)}function xn(t,n){Xt.fn(t,"Invalid Class");var e=2;return f(n)?yn(t,n):e=1,dn(t,arguments,e,vn),t}var wn=Function[s],En=Object[s];function An(t){switch(t=W(t)){case Object:case En:case wn:return undefined}return t}var $n="name",_n="extend",Cn="statics",On=St([$n,o,_n,Cn,s]);function Sn(t){var n=X(t,o),e=t[_n];Xt(!n||f(n),"Invalid Constructor"),Xt(!e||f(e),"Invalid Super Class"),e===Object&&(e=null);var r=function i(t,n,e){return n?new Function("apply","S","return function "+n+"(){\n    "+(t||e?"apply(S, this, arguments);":"")+"\n}")(C,t||e):t||(e?function(){C(e,this,arguments)}:function(){})}(n,t[$n],e);return e&&yn(r,e),mn(r,kn,t),pn(r,t[s]),cn(r,t[Cn]),r}function kn(t){return!On[t]}var Nn=In(gt),Pn=In(mt),Tn=In(bt),Rn=In(yt);function In(r){return function(t,i,n,e){return n&&(i=i.bind(n)),r(t,function(t,n,e){var r=i(t,n,e);return r===et||r===vt?r:r?t:vt},undefined,e)}}var jn=Mn(rt),Ln=Mn(it),Fn=Mn(ct),Dn=Mn(at),Vn=Mn(ut),Bn=Mn(st);function Mn(i){return function(t,r,n,e){return n&&(r=r.bind(n)),i(t,function(t,n,e){if(r(t,n,e))return et},undefined,e)}}var zn=Xn(rt),Hn=Xn(ct),Un=Xn(ot),qn=Zn(zn,"indexOf"),Kn=Zn(Un,"lastIndexOf");function Xn(e){return function(t,r,n){return e(t,function(t,n,e){if(eq(t,r))return STOP},undefined,n)}}function Zn(o,u){return function(t,n,e){var r=isArrayLike(t);if(r!==String)return(r?o:Hn)(t,n,e);var i=t[u](n);return 0<=i?i:void 0}}function Gn(t,n,e,r){var i,o,u=[],a=0;if(e&&(n=n.bind(e)),!1===r)for(i in t){if((o=n(t,i))===et)break;o!==vt&&(u[a++]=o)}else for(i in t)if(K(t,i)){if((o=n(t,i,a))===et)break;o!==vt&&(u[a++]=o)}return u}var Yn=Qn(Gn,function Of(t,n){return n}),Wn=Qn(Gn,function Sf(t,n){return t[n]});function Qn(i,o){return function(t,n,r,e){return r?(e&&(r=r.bind(e)),i(t,function(t,n){var e=r(t,n);return e?e===et||e===vt?e:o(t,n):vt},undefined,n)):i(t,o,undefined,n)}}var Jn="__list__";function te(t){this.binding=t||Jn}function ne(t,n,e,r,i){var o;return(n[1]=i)?(e[2]=o=i[2],i[2]=n):(e[2]=o=t.head,t.head=n),o?o[1]=e:t.tail=e,t.length+=r}function ee(t,n,e){var r=ie(t,n);if(!r[3])return ne(r[3]=t,r,r,1,e)}function re(t,n,e){var r=n.length;if(r){var i=ie(t,n[0]);Xt(!i[3],"Double add List, Object have added in this List"),i[3]=t;for(var o=i,u=i,a=1;a<r;a++)Xt(!(u=ie(t,n[a]))[3],"Double add List, Object have added in this List"),u[3]=t,o=(u[1]=o)[2]=u;return ne(t,i,u,r,e)}}function ie(t,n){var e=t.binding,r=n[e];return r&&r[0]===n?Xt(!r[3]||r[3]===t,"Double add List, Object is still in other List"):r=an(n,e,[n],!0,!0),r}function oe(t,n){var e=n[t.binding];if(e&&e[0]===n)return Xt(e[3]===t,"Object is not in this List"),e;Xt(0,"Object is not in List")}function ue(t,n,e){var r=oe(t,n)[e];if(r){for(;!r[3];)if(!(r=r[e]))return;return r[0]}}function ae(t,n){var e=n[1],r=n[2];e?e[2]=r:t.head=r,r?r[1]=e:t.tail=e,n.length=1}function se(t){for(var n,e=t.head;n=e;)e=n[2],n.length=1;t.head=undefined,t.tail=undefined,t.length=0}an(te,"binding",Jn),xn(te,{length:0,has:function(t){var n=t[this.binding];return!!n&&(n[0]===t&&n[3]===this)},add:function(t){return ee(this,t,this.tail)},addFirst:function(t){return ee(this,t)},insertAfter:function fa(t,n){return ee(this,t,n&&oe(this,n))},insertBefore:function la(t,n){return ee(this,t,n&&oe(this,n)[1])},addAll:function(t){return re(this,t,this.tail)},addFirstAll:function(t){return re(this,t)},insertAfterAll:function(t,n){return re(this,t,n&&oe(this,n))},insertBeforeAll:function(t,n){return re(this,t,n&&oe(this,n)[1])},prev:function(t){return ue(this,t,1)},next:function me(t){return ue(this,t,2)},first:function(){var t=this.head;return t&&t[0]},last:function rc(){var t=this.tail;return t&&t[0]},remove:function(t){var n=oe(this,t);if(this.scaning){var e=this.lazyRemoves;t[this.binding]=undefined,n[3]=undefined,e?e.push(n):this.lazyRemoves=[n]}else ae(this,n);return--this.length},each:function(t,n){Xt(!this.scaning,"Recursive calls are not allowed."),this.scaning=!0,n&&(t=t.bind(n));for(var e=this.head;e&&(e[3]!==this||!1!==t(e[0]));)e=e[2];!function r(t){var n=t.lazyRemoves;if(n){var e=n.length;if(e){if(t.length)for(;e--;)ae(t,n[e]);else se(t);n.length=0}}}(this),this.scaning=!1},toArray:function(){for(var t=new Array(this.length),n=this.head,e=0;n;)n[3]===this&&(t[e++]=n[0]),n=n[2];return t},clean:function(){if(this.length)if(this.scaning){for(var t=this.binding,n=this.lazyRemoves||(this.lazyRemoves=[]),e=this.head;e;)e[3]===this&&(e[0][t]=undefined,n.push(e)),e=e[2];this.length=0}else se(this)},clone:function(t,n){var e=new te(this.binding);if(this.length){n&&(t=t.bind(n));for(var r,i,o=this.head,u=undefined,a=0;o;)o[3]===this&&(r=t(o[0]))&&(Xt(!(r=ie(e,r))[3],"Double add List, Clone Callback should return a new Object"),r[3]=e,u=u?(r[1]=u)[2]=r:i=r,a++),o=o[2];a&&ne(e,i,r,a)}return e}});var ce="__id__",fe="__id__";function le(t,n){this.nodeMap=nt(null),this.list=new te,this.fnBinding=t||ce,this.scopeBinding=n||fe}an(le,"fnBinding",ce),an(le,"scopeBinding",ce),xn(le,{add:function(t,n,e){Xt.fn(t,"fn is not a Function."),n=ge(n);var r=this.list,i=this.nodeMap,o=ve(t,n,this),u=i[o];if(!u){u=[o,t,n,e];var a=r.add(u);return a&&(i[o]=u),a}},remove:function(t,n){Xt.fn(t,"fn is not a Function.");var e=this.list,r=this.nodeMap,i=ve(t,ge(n),this),o=r[i];return!!o&&(r[i]=undefined,e.remove(o))},has:function(t,n){return Xt.fn(t,"fn is not a Function."),!!this.nodeMap[ve(t,ge(n),this)]},size:function(){return this.list.length},clean:function(){this.nodeMap=nt(null),this.list.clean()},each:function(n,t){Xt.fn(n,"callback is not a Function."),t&&(n=n.bind(t)),this.list.each(function(t){return n(t[1],t[2],t[3])})}});var he=1,de=1,pe=0;function ve(t,n,e){var r=e.fnBinding,i=e.scopeBinding,o=t[r],u=n?n[i]:he;return o||(o=an(t,r,++pe)),u||(u=an(n,i,++de)),o+"&"+u}function ge(t){return t||undefined}var me,be=new le,ye=!1;function xe(t,n){n?t.call(n):t()}function we(){be.each(xe),be.clean(),ye=!1}if("function"==typeof MutationObserver){var Ee=0,Ae=new MutationObserver(we),$e=document.createTextNode(Ee);Ae.observe($e,{characterData:!0}),me=function me(){$e.data=Ee=Ee?0:1}}else me=function me(){setTimeout(we,0)};function _e(t,n){be.add(t,n),ye||(ye=!0,me())}var Ce={"\n":"\\n","\t":"\\t","\f":"\\f",'"':'\\"'},Oe=/[\n\t\f"]/g;function Se(t){return t.replace(Oe,function(t){return Ce[t]})}function ke(t,n,e,r){var i=(t=String(t)).length;if(n<=i)return t;var o=new Array(n-i+1).join(e||" ");return r?t+o:o+t}function Ne(r){return function(t){for(var n,e=0;e<4;e++)if((n=r[e])[0].test(t))return t.replace(n[0],n[1]);return t}}var Pe=Ne([[/([a-zA-Z]+[^aeiou])y$/,"$1ies"],[/([a-zA-Z]+[aeiou]y)$/,"$1s"],[/([a-zA-Z]+[sxzh])$/,"$1es"],[/([a-zA-Z]+[^sxzhy])$/,"$1s"]]),Te=Ne([[/([a-zA-Z]+[^aeiou])ies$/,"$1y"],[/([a-zA-Z]+[aeiou])s$/,"$1"],[/([a-zA-Z]+[sxzh])es$/,"$1"],[/([a-zA-Z]+[^sxzhy])s$/,"$1"]]),Re=/(\d)(?=(\d{3})+(?!\d))/g;var Ie=/%(\d+\$|\*|\$)?([-+#0, ]*)?(\d+\$?|\*|\$)?(\.\d+\$?|\.\*|\.\$)?([%sfducboxXeEgGpP])/g,je=Array[s].slice;function Le(t,E){var A=0;function $(t){return t=t?"*"==t?+E[A++]:"$"==t?+E[A]:"$"==t.charAt(t.length-1)?+E[t.slice(0,-1)-1]:+t:0,isFinite(t)?t<0?undefined:t:undefined}return{format:t=t.replace(Ie,function(t,n,e,r,i,o){if("%"===o)return"%";var u=function w(t){return t&&"*"!=t?"$"==t?E[A]:E[t.slice(0,-1)-1]:E[A++]}(n);r=$(r),(i=i&&$(i.slice(1)))||0===i||(i=-1=="fFeE".indexOf(o)&&"d"==o?0:undefined);var a,s,c,f,l,h=!1,d="",p=!1,v=!1,g=!1;for(f=0,l=e&&e.length;f<l;f++)switch(c=e.charAt(f)){case" ":case"+":d=c;break;case"-":h=!0;break;case"0":p=!0;break;case"#":v=!0;break;case",":g=!0}switch(o){case"c":return u=+u,(u=isNaN(u)||!isFinite(u)?"":String.fromCharCode(u)).length<r&&(u=ke(u,r,p?"0":" ",h)),u;case"s":return u===undefined||null===u||"number"==typeof u&&(isNaN(u)||!isFinite(u))?u="":(u+="",i&&u.length>i&&(u=u.slice(0,i))),u.length<r&&(u=ke(u,r,p?"0":" ",h)),u;case"d":return u=parseInt(u),isNaN(u)||!isFinite(u)?(u="",a=d):(u<0?(a="-",u=-u):a=d,u+=""),u.length<r&&(u=ke(u,r,"0",!1)),g&&(u=u.replace(Re,"$1,")),a+u;case"e":case"E":case"f":case"g":case"G":case"p":case"P":var m=+u;if(isNaN(m)||!isFinite(u))m="";else switch(m<0?(a="-",m=-m):a=d,o.toLowerCase()){case"f":m=i===undefined?m+"":m.toFixed(i);break;case"e":m=m.toExponential(i);break;case"g":m=i===undefined?m+"":m.toPrecision(i);break;case"p":if(i!==undefined){var b=String(u).replace(/[eE].*|[^\d]/g,"");b=(m?b.replace(/^0+/,""):b).length,m=m[!(i=Math.min(i,b))||i<=b?"toPrecision":"toExponential"](i)}else m+=""}if(m.length<r&&(m=ke(m,r,"0",!1)),g){var y=m.split(".");y[0]=y[0].replace(Re,"$1,"),m=y.join(".")}return u=a+m,-1!="EGP".indexOf(o)?u.toUpperCase():u;case"b":s=2;break;case"o":s=8;break;case"u":s=10;break;case"x":case"X":s=16;break;case"n":return"";default:return t}var x=u>>>0;return a=v&&10!=s&&x&&["0b","0","0x"][s>>3]||"",(x=x.toString(s)).length<r&&(x=ke(x,r,"0",!1)),u=a+x,"X"==o?u.toUpperCase():u}),count:A}}function Fe(t){return Le(t,je.call(arguments,1)).format}Fe.format=Le;var De=nt(null),Ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Be=/\\(\\)?/g,Me=/(?:\.|^)([^a-zA-Z_$][^.]*)/g;function ze(t,n){if(y(t))return t;Xt.str(t,"Require path[Array | String]");var i=De[t];return i||(!(i=[])!==n&&(De[t]=i),t.replace(Ve,function(t,n,e,r){i.push(e?r.replace(Be,"$1"):n||t)})),i.slice()}function He(t){return y(t)?t.join(".").replace(Me,Ue):(Xt.str(t,"Require path[Array | String]"),t)}function Ue(t,n){return"['"+n+"']"}function qe(t,n){var e=(n=ze(n)).length-1;if(-1===e)return t;for(var r=0;r<e;r++)if(null===(t=t[n[r]])||t===undefined)return undefined;return t?t[n[r]]:undefined}function Ke(t,n,e){var r=(n=ze(n)).length-1;if(-1!==r){for(var i,o,u=0;u<r;u++)(o=t[i=n[u]])||(t[i]=o={}),t=o;t[i=n[u]]=e}}var Xe=/\n/g;function Ze(t){this.orgbuff=t,this.orglen=t.length;var n=[t,0,0,null,null];this.curr=n,this.stack=[n]}xn(Ze,{enter:function(){var t=this.curr;this.curr=t=[t[0],t[1],t[2],t,null],this.stack.push(t)},reset:function(){var t=this.curr,n=t[3];if(t[2]!==n[2])return t[0]=n[0],t[1]=n[1],t[2]=n[2],!(t[4]=null)},exit:function(){var t=this.stack.pop();this.curr=t[3]},commit:function(){var t=this.stack.pop(),n=t[3];(this.curr=n)[0]=t[0],n[1]=t[1],n[2]=t[2],n[4]=t[4]},buff:function(t){var n=this.curr;return t&&(n[0]=n[0].substring(n[1]),n[1]=0),n[0]},offset:function(){return this.curr[1]},orgOffset:function(){return this.curr[2]},upOrgOffset:function(){var t=this.curr[3];return t?t[2]:0},nextCode:function(){var t=this.curr;return null===t[4]&&(t[4]=t[2]<this.orglen?t[0].charCodeAt(t[1]):0),t[4]},consume:function(t){if(t){var n=this.curr;n[1]+=t,n[2]+=t,n[4]=null}},position:function(t){for(var n=this.orgbuff,e=0,r=0;Xe.exec(n)&&t>=Xe.lastIndex;)r=Xe.lastIndex,e++;return Xe.lastIndex=0,[e,t-r]},source:function(){var t=this.orgbuff,n=1;return" 0: "+t.replace(Xe,function(){return"\n"+ke(n++,2)+": "})}});var Ge=0,Ye=xn(function Ye(t){this.parent=t,this.data=[]},{add:function(t){this.data.push(t)},addAll:function(t){for(var n=this.data,e=n.length,r=t.length;r--;)n[e+r]=t[r]},empty:function Wt(){this.setLen(0)},setLen:function(t){var n=this.data;n.length>t&&(n.length=t)}});function We(){}var Qe={attach:We,capturable:!1};function Je(t){return t}function tr(t,n){n.add(t)}function nr(){return!0}function er(t,n){this.id=Ge++,this.name=t;var e=!0,r=null,i=null;l(n)?(r=n.attach,i=n.error,e=!1!==n.capturable):f(n)?r=n:g(n)&&(i=n),this.capturable=e,this.attach=f(r)?r:tr,this.msg=g(i)?function(){return i}:f(i)?i:Je}function rr(t){return this.index[t.nextCode()]}xn(er,{$rule:!0,error:function(t,n,e,r){return(n=[t.orgOffset(),this.msg(n),e&&r?r[2]:e,r,this]).$err=!0,n},success:function(t,n,e){var r=t.curr,i=this.attach(n,e,t,this);return Xt(t.curr==r),i&&!i.$err?this.error(t,i,!1):i},setExpr:function(t){this.defName=this.mkExpr(t),this.EXPECT="Expect: "+t},mkExpr:function(t){return"<"+this.type+": "+t+">"},toString:function(){return this.name||this.defName},getStart:function(){return[]},test:nr});var ir=xn(function ir(t,n,e,r){er.call(this,t,r);var i=[],o=[];dr(n,e,function(t){o[t]||(i.push(t),o[t]=t)}),this.start=i,this.index=o,this.test=i.length?rr:nr},er,{comsume:function(t,n,e,r){return t.consume(e),this.success(t,n,r)},getStart:function(){return this.start}});function or(){return stream.nextCode()}var ur=xn(function ur(t,n,e,r){ir.call(this,t,n,e,r);var i=this.start,o=i.length,u="*";if(o){for(var a=[];o--;)a[o]=String.fromCharCode(i[o]);u='"'+a.join('" | "')+'"'}else this.test=or;this.setExpr(u)},ir,{type:"Character",match:function(t,n){return this.comsume(t,String.fromCharCode(t.nextCode()),1,n)}}),ar=xn(function ar(t,n,e,r,i){e=!1===e||x(e)?e:!!e||0;var o=_t&&!e,u=n.source,a=n.ignoreCase;n=new RegExp(o?u:"^(?:"+u+")",(a?"i":"")+(n.multiline?"m":"")+(o?"y":"")),ir.call(this,t,r,a,i),this.regexp=n,this.pick=e,this.match=function f(t,n,e){var r="this.regexp",i="stream",o=i+".buff",u="r.lastIndex";t+="_"+(n?"test":"exec")+"_pick_"+(!0===e?"all":e<0?"one_"+-e:e||0);var a=n?"var r = "+r+", b = "+o+"(), s = "+i+".offset();\n\t"+u+" = s;\n\tif (r.test(b))\n\t\t"+s(!1===e?"null":"b.substring(s, "+u+")",u+" - s"):"var m = "+r+".exec("+o+"(true));\n\tif (m)\n\t\t"+s(e<0?function c(t){for(var n=[],e=1;e<=t;e++)n.push("m["+e+"]");return n.join(" || ")}(-e):"m"+(!0===e?"":"["+(e||0)+"]"),"m[0].length");return new Function("return function "+t+"("+i+", rs){\n\t"+a+"\n\treturn this.error("+i+", this.EXPECT, this.capturable);\n}")();function s(t,n){return"return this.comsume(stream, "+t+", "+n+", rs)"}}(t||"reg"+this.id,o,e),this.setExpr(n.toString())},ir,{type:"RegExp"});var sr=xn(function sr(t,n,e,r){ar.call(this,t,new RegExp($t(n),e?"i":""),0,n.charCodeAt(0),r),this.setExpr(n)},ar,{type:"String"});function cr(t,n){var e=arguments,r=2;if((b(t)||!b(n)&&!g(n))&&(n=t,t=null,r=1),b(n)){var i=e[r++],o=e[r++],u=e[r++];return p(i)||x(i)||(u=o,o=i,i=0),g(o)||v(o)||y(o)||(u=o,o=null),hr(t,n,i,o,u)}if(g(n)||y(n)){var a=e[r++];u=e[r++];return p(a)||(u=a,a=!1),fr(t,n,a,u)}if(l(n)){var s=n.pattern,c=n.name,f=n.option;if(b(s))return hr(c,s,n.pick,n.startCodes,f);if(g(s))return fr(c,s,n.ignoreCase,f)}}function fr(t,n,e,r){return new(y(n)||n.length<=1?ur:sr)(t,n,e,r)}var lr=St("dDsStrnt0cbBfvwW","",1);function hr(t,n,e,r,i){var o=n;if(!e){var u=0;if(1==o.length&&"^"!==o&&"$"!==o?u="."===o?"":o:2==o.length&&"\\"===o[0]&&lr[o[1]]&&(u=o[1]),0!=u)return fr(t,u,n.ignoreCase,i)}return new ar(t,n,e,r,i)}function dr(t,n,e){if(g(t))for(var r=t.length;r--;)pr(t.charCodeAt(r),n,e);else if(y(t))for(r=t.length;r--;)dr(t[r],n,e);else x(t)&&pr(t,n,e)}function pr(t,n,e){e(t),n&&(t<=90?65<=t&&e(t+32):t<=122&&e(t-32))}var vr=xn(function vr(t,r,n){er.call(this,t,n);var i=this.getRules;this.getRules=function(){this.getRules=i,this.rules=r=function o(t,n,e){for(var r=0,i=n.length;r<i;r++)n[r],mr(t,n[r],e);return e}(this,f(r)?r():r,[]);var t=this.len=r.length;Xt(t,"Require Rules");var n=this.subNames();this.setExpr(n.join(this.split));for(var e=0;e<t;e++)n[e]="Expect["+e+"]: "+n[e];return this.EXPECTS=n,this.__init(r,t),this.getRules()}},er,{parse:function(t,n){var e=new Ye,r=new Ze(t),i=this.match(r,e);if(i){for(var o,u=r.source(),a=[];o=r.position(i[0]),a.unshift("["+ke(o[0],2)+":"+ke(o[1],2)+"] - "+i[4].toString()+": "+i[1]+' on "'+Se(t.substr(i[0],20))+'"'),i=i[3];);!1!==n&&a.push("[Source]",u);var s=new SyntaxError(a.join("\n"));throw s.source=u,s}return e.data},commit:function(t,n,e){var r=this.success(t,n,e);if(r)return t.exit(),r;t.commit()},exit:function(t,n,e){var r=this.error(t,n,this.capturable,e);return t.exit(),r},init:function(){return this.getRules(),this},__init:function(){},getRules:function(){return this.rules},subNames:function(t){for(var n=this.getRules(),e=[],r=0;r<this.len;r++)e[r]=n[r].toString(this.idStack(this.id,t));return e},toString:function(t){if(this.init(),this.name)return this.name;if(t){var n=this.id;return t[n]?1===t[n]?"<"+this.type+" -> $Self>":"<"+this.type+" -> $"+t[n]+">":this.mkExpr(this.subNames(t).join(this.split))}return this.defName},idStack:function(t,n){return n=cn({level:0,push:gr},n),t&&n.push(t),n}});function gr(t){return this[t]=++this.level,this}function mr(t,n,e){n.$rule?e.push(n):g(n)?e.push(cr(n,We)):b(n)?e.push(cr(n,!1,We)):l(n)?e.push(cr(n)):y(n)&&e.push(O(cr,n))}var br=xn(function br(t,n,e){vr.call(this,t,n,e)},vr,{type:"And",split:" + ",__init:function(t,n){var e=[],r=[];dr(t[0].getStart(this.idStack(this.id)),!1,function(t){r[t]||(e.push(t),r[t]=t)}),this.start=e,this.index=r,this.test=e.length?rr:nr},getStart:function(t){if(this.init(),this.start)return this.start;if(t){var n=this.id;return t[n]?[]:this.getRules()[0].getStart(this.idStack(n,t))}return this.start},match:function(t,n){var e,r=this.getRules(),i=this.len,o=new Ye(n),u=0;for(t.enter();u<i;u++)if(!r[u].test(t)||(e=r[u].match(t,o)))return this.exit(t,this.EXPECTS[u],e);return this.commit(t,o.data,n)}}),yr=xn(function yr(t,n,e){vr.call(this,t,n,e)},vr,{type:"Or",split:" | ",__init:function(t,n){var e,r,i,o,u=[],a=[],s=[[]];for(e=0;e<n;e++)a[e]=[],dr(o=t[e].getStart(this.idStack(this.id)),!1,function(t){a[e].push(t),s[t]||(s[t]=[],u.push(t))});for(e=0;e<n;e++)for((o=a[e]).length||(s[0].push(t[e]),o=u),r=o.length;r--;)(i=s[o[r]]).idx!==e&&(i.push(t[e]),i.idx=e);this.rStarts=a,this.start=s[0].length?[]:u,this.test=u.length&&!s[0].length?rr:this.test,u.length&&(this.index=s)},getStart:function(t){if(this.init(),this.start)return this.start;if(t){var n=this.id;if(t[n])return[];for(var e,r=this.getRules(),i=[],o=0;o<this.len;o++){if(!(e=r[o].getStart(this.idStack(n,t))).length)return[];i[o]=e}return i}return this.start},match:function(t,n){var e,r,i,o=this.index,u=o?o[t.nextCode()]||o[0]:this.getRules(),a=u.length,s=new Ye(n);for(t.enter(),i=0;i<a;i++){if(!(e=u[i].match(t,s))&&!(e=this.success(t,s.data,n)))return void t.commit();if(!e[2])return this.exit(t,this.EXPECTS[i],e);(!r||e[0]>=r[0])&&(r=e),t.reset(),s.empty()}return this.exit(t,this.EXPECT,r)}});function xr(u,a,t){return xn(function(t,n,e,r,i,o){e<0&&(e=0),r<=0&&(r=999999),Xt(e<r),a.call(this,t,i,o),this.min=e,this.max=r,this.type=n||u+"["+e+" - "+r+"]"},a,{__init:function(t,n){a.prototype.__init.call(this,t,n),this.min||(this.test=nr)},match:t})}var wr=xr("AndRepeat",br,function(t,n){var e,r,i,o=this.min,u=this.max,a=this.getRules(),s=this.len,c=new Ye(n),f=c.data,l=0;t.enter();t:for(;l<u;l++){for(i=f.length,t.enter(),r=0;r<s;r++)if(!a[r].test(t)||(e=a[r].match(t,c))){if(l<o||e&&!e[2])return e=this.exit(t,this.EXPECTS[r],e),t.exit(),e;t.exit(),c.setLen(i);break t}t.commit()}return this.commit(t,f,n)}),Er=xr("OrRepeat",yr,function(t,n){var e,r,i,o,u,a,s=this.min,c=this.max,f=this.index,l=new Ye(n),h=l.data,d=0;f||(a=(u=this.getRules()).length),t.enter();t:for(;d<c;d++){if(f&&(a=(u=f[t.nextCode()]||f[0]).length),a){for(r=null,o=h.length,t.enter(),i=0;i<a;i++){if(!(e=u[i].match(t,l))){t.commit();continue t}if(!e[2])return e=this.exit(t,this.EXPECTS[i],e),t.exit(),e;(!r||e[0]>=r[0])&&(r=e),t.reset(),l.setLen(o)}if(d<s)return e=this.exit(t,this.EXPECT,r),t.exit(),e}else if(d<s)return this.exit(t,this.EXPECT);break}return this.commit(t,h,n)});function Ar(){return Tr(arguments,0,function(t,n,e){return new br(t,n,e)})}function $r(){return Tr(arguments,0,function(t,n,e){return new yr(t,n,e)})}function _r(t,n,r,i,o,u){return Tr(t,n,function(t,n,e){return new u(t,r,i,o,n,e)})}function Cr(t,n,e,r,i,o){return _r(t,n,e,r,i,wr)}function Or(){return Cr(arguments,0,"Any",0,-1)}function Sr(){return Cr(arguments,0,"Many",1,-1)}function kr(){return Cr(arguments,0,"Option",0,1)}function Nr(t,n,e,r,i,o){return _r(t,n,e,r,i,Er)}function Pr(){return Nr(arguments,0,"AnyOne",0,-1)}function Tr(t,n,e){var r,i=t.length,o=0,u=null;if(l(t[n]))o=t[n].name,r=t[n].rules,u=t[n];else if(g(t[n])&&(o=t[n++]),y(t[n])||f(t[n]))r=t[n++],u=t[n];else{for(r=[];n<i-1;n++)r.push(t[n]);f(t[n])||l(t[n])||g(t[n])?u=t[n]:t[n]&&r.push(t[n])}return e(o,r,u)}var Rr=Object.freeze({MatchResult:Ye,UNATTACH:We,UNCAPTURABLE:{capturable:!1},UNATTACH_CAPTURABLE:Qe,Rule:er,MatchRule:ir,CharMatchRule:ur,RegMatchRule:ar,StrMatchRule:sr,match:cr,ComplexRule:vr,AndRule:br,OrRule:yr,AndRepeatRule:wr,OrRepeatRule:Er,and:Ar,or:$r,any:Or,many:Sr,option:kr,repeat:function kf(t,n){return Cr(arguments,2,0,t,n)},anyOne:Pr,manyOne:function Nf(){return Nr(arguments,0,"ManyOne",1,-1)},optionOne:function Pf(){return Nr(arguments,0,"OptionOne",0,1)},repeatOne:function Tf(t,n){return Nr(arguments,2,0,t,n)}});var Ir="__observer__",jr=St("length,change"),Lr=Array[s],Fr=Nt("fill,pop,push,reverse,shift,sort,splice,unshift",function(t){var i=Lr[t];return[t,function(){var t=this.length,n=N(i,this,arguments),e=this.length,r=this[Ir];return r.__write("change",this,this),t!==e&&r.__write("length",e,t),n}]}),Dr=Fr.length;var Vr=St([Ir,Jn,ce,fe]),Br=function Rf(u){if(f(d.Proxy))return{name:"Proxy",proxyEnabled:!0,impl:{__init:function(){var o=this;this.isArray,this.proxy=new Proxy(this.source,{get:function(t,n,e){return t[n]},set:function(t,n,e,r){if(u[n])t[n]=e;else{var i=t[n];t[n]=e,o.__write(n,e,i)}return!0}})}}}}(Vr)||function If(){var o,t="Define Property";if(on)o=function o(e,r){var t=e.source,i=t[r];un(t,r,{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){var n=i;i=t,e.__write(r,t,n)}})};else if("__defineGetter__"in{}){t="Define getter and setter";var n=Object[s],u=n.__defineGetter__,a=n.__defineSetter__;o=function o(e,r){var t=e.source,i=t[r];u.call(t,r,function(){return i}),a.call(t,r,function(t){var n=i;i=t,e.__write(r,t,n)})}}if(o)return{name:t,impl:{__init:function(){this.defined=nt(null)},__watch:function(t){var n=this.defined;n[t]&&(o(this,t),n[t]=!0)}}}}()||function jf(s){if(!function(){if(d&&d.VBArray)try{return d.execScript(["Function parseVB(code)","\tExecuteGlobal(code)","End Function"].join("\n"),"VBScript"),!0}catch(t){}return!1}())return!1;var l="__vbclass_binding__",t="__vbclass_constructor__",c="hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),i=nt(null),h=["\tPublic [",l,"]\r\n","\tPublic Default Function [",t,"](source)\r\n","\t\tSet [",l,"] = source\r\n","\t\tSet [",t,"] = Me\r\n","\tEnd Function\r\n\n"].join(""),o=1;function f(t){var n=[t.sort().join("|")].join(""),e=i[n];if(!e){var r="VBClass"+o++;e=r+"Provider",parseVB(function f(t,n){for(var e,r,i,o,u,a=["Class ",t,"\r\n",h,"\r\n"],s=0,c=n.length;s<c;s++)e=n[s],o=e,(u=a).push.call(u,"\tPublic Property Get [",o,"]\r\n","\tOn Error Resume Next\r\n","\t\tSet[",o,"] = [",l,'].doRead("',o,'")\r\n',"\tIf Err.Number <> 0 Then\r\n","\t\t[",o,"] = [",l,'].doRead("',o,'")\r\n',"\tEnd If\r\n","\tOn Error Goto 0\r\n","\tEnd Property\r\n\r\n"),r=e,(i=a).push.call(i,"\tPublic Property Let [",r,"](val)\r\n","\t\tCall [",l,'].doWrite("',r,'",val)\r\n',"\tEnd Property\r\n","\tPublic Property Set [",r,"](val)\r\n","\t\tCall [",l,'].doWrite("',r,'",val)\r\n',"\tEnd Property\r\n\r\n");return a.push("End Class"),a.join("")}(r,t)),parseVB(["Function ",e,"(desc)\r\n","\tDim o\r\n","\tSet o = (New ",r,")(desc)\r\n","\tSet ",e," = o\r\n","End Function"].join("")),i[n]=e}return e}function n(t){var n,e=t.source,r=t.proxy=function a(t,n){for(var e,r=nt(null),i=[],o=0,u=c.length;o<u;o++)r[e=c[o]]=!0,i[o]=e;for(e in t)r[e]||(i.push(e),r[e]=!0);for(e in s)s[e]&&!r[e]&&(t[e]=undefined,r[e]=!0,i.push(e));return d[f(i)](n)}(e,t),i=t.funcs=nt(null);for(var o in e)"function"==typeof(n=e[o])&&(i[o]=n.bind(r))}return{name:"VBProxy",proxyEnabled:!0,proxyChangeable:!0,sourceOwnProperty:!0,impl:{__init:function(){n(this)},__watch:function(t){t in this.proxy||(n(this),this.__proxyChanged())},doWrite:function(t,n){var e=this.source,r=this.proxy,i=this.funcs;if("function"==typeof n?i[t]=n.bind(r):i[t]&&(i[t]=!1),defaultProps[t])e[t]=n;else{var o=e[t];e[t]=n,this.__write(t,n,o)}},doRead:function(t){var n=this.source;return this.proxy,this.funcs[t]||n[t]}}}}(Vr);Xt(Br,"Observer is not supported.");var Mr=Br.proxyEnabled,zr=void 0!==Mr&&Mr,Hr=Br.proxyChangeable,Ur=void 0!==Hr&&Hr,qr=Br.sourceOwnProperty,Kr=void 0!==qr&&qr;function Xr(t){return Vr[t]||!1}function Zr(){return!1}var Gr=!1;function Yr(t){an(t,Ir,this),this.source=this.proxy=t,this.bubbles=nt(null),(this.isArray=y(t))?function r(t){for(var n,e=0;e<Dr;e++)t[(n=Fr[e])[0]]=n[1];return t}(t):this.__init()}xn(Yr,{__init:function(){},__watch:function(t){},__write:function(t,n,e){if(!Gr){var r=this.bubbles[t];!r||!r.length||n===e&&A(n)||r.each(function(t){return function r(t,n){if(t[ii]===pi){t[ii]=n;var e=hi.length;hi[e]=t,e||_e(gi)}}(t,e)})}},observe:function Ei(t,n,e){Xt.fn(n,"require function handler.");var r=(t=ze(t)).length-1;Xt(0<=r,"require non-empty path.");for(var i,o,u,a,s=this.watchs||(this.watchs=nt(null)),c=this,f=undefined,l=0;l<=r;l++)(o=s[i=t[l]])||(o=si(this,c,i,f),c&&(Xt(!c.isArray||jr[i]&&l==r,function(){return"invalid path["+He(t)+']: not support "'+He(t.slice(l))+'" in Array'+(l?"["+He(t.slice(0,l))+"]":"")+', change to "change" or "length".'}),fi(c,o))),l<r&&(s=(f=o)[Qr],c&&((a=c.source[i])?(u=h.getObserver(a))||(u=new Yr(a),bi(c,i,u)):u=undefined,c=u));return o[ai]=t,o[Wr].add(n,e)},unobserve:function Ai(t,n,e){Xt.fn(n,"require function handler.");var r=(t=ze(t)).length;return Xt(r,"require non-empty path."),!!this.watchs&&function s(t,n,e,r,i,o){var u=t[n[e]];if(u){var a=e===r?u[Wr].remove(i,o):s(u[Qr],n,e+1,r,i,o);return u[Jr]||u[Wr].size()||(li(u[ni],u,u[ei]),ci(u)),a}return!1}(this.watchs,t,0,r-1,n,e)},isObserved:function $i(t,n,e){Xt.fn(n,"require function handler.");var r=(t=ze(t)).length-1;Xt(0<=r,"require non-empty path.");var i,o=this.watchs,u=0;if(!o)return!1;for(;u<=r;u++){if(!(i=o[t[u]]))return!1;u<r&&(o=i[Qr])}return n?i[Wr].has(n,e):!!i[Wr].size()},set:zr?function(t,n,e){return xi(this,ze(t),n,e),this}:function(t,n,e){if(e){var r=Gr;xi(this,t,n,Gr=!0),Gr=r}else xi(this,t,n,!0);return this},get:function(t){return qe(this.source,t)},__proxyChanged:Zr,onProxyChange:Zr,unProxyChange:Zr},Br.impl);var Wr=0,Qr=1,Jr=2,ti=3,ni=4,ei=5,ri=6,ii=7,oi=8,ui=9,ai=10;function si(t,n,e,r){var i=[new le,nt(null),0,t,n,e,r,pi,pi];return r?(r[Qr][e]=i,r[Jr]++):t.watchs[e]=i,i}function ci(t){var n=t[ri],e=t[ei];n?(n[Qr][e]=undefined,n[Jr]--):t[ti].watchs[e]=undefined}function fi(t,n){if(!t)return!1;var e=t.bubbles,r=n[ei],i=e[r];return i||(i=e[r]=new te,t.isArray||t.__watch(r)),i.add(n)}function li(t,n,e){if(!t)return!1;var r=t.bubbles[e];return r&&r.remove(n)}var hi=[],di=[],pi={};function vi(t,n,e){t[oi]===pi?(t[ui]=n,t[oi]=e,di.push(t)):t[ui]=n}function gi(){for(var e,r,i,t=0,n=hi.length;t<n;t++)mi(e=hi[t],yi(e[ni],e[ei]),e[ii],vi),e[ii]=pi;for(t=hi.length=0,n=di.length;t<n;t++)e=di[t],r=e[ui],i=e[oi],r===i&&A(r)||e[Wr].each(function(t,n){n?t.call(n,e[ai],r,i,e[ti]):t(e[ai],r,i,e[ti])}),e[oi]=pi;di.length=0}function mi(t,n,e,r){t[Wr].size()&&r(t,n,e),t[Jr]&&(newObserver=n?wi(n):undefined,bi(t[ni],t[ei],newObserver),function s(t,n,e){var r,i,o,u,a=t[Qr];for(r in a)(i=a[r])&&i[ti]&&(o=i[ni])!==n&&(i[Wr].size()&&e(i,yi(n,r),yi(o,r)),li(o,i,r),fi(i[ni]=n,i),i[Jr]&&(u=(u=n.source[r])?wi(u):undefined,bi(n,r,u),s(i,u,e)))}(t,newObserver,r))}var bi=zr?function(t,n,e){e&&(t.source[n]=e.proxy)}:function(t,n,e){};function yi(t,n){if(t)return t.isArray&&"change"===n?t.proxy:t.source[n]}function xi(t,n,e,r){for(var i,o,u,a,s=0,c=n.length-1;s<c;s++)i=n[s],t?(u=(a=t.source)[i])&&(t=h.getObserver(u))||(u!==undefined&&null!==u||(u=r?a[i]={}:t.proxy[i]={}),t=undefined,o=u):((u=o[i])||(u=o[i]={}),o=u);i=n[s],t?r?t.source[i]=e:t.proxy[i]=e:o[i]=e}function wi(t){return h.getObserver(t)||new Yr(t)}function Ei(t,n,e,r){var i=wi(t);return i.observe(n,e,r),i.proxy}function Ai(t,n,e,r){var i=h.getObserver(t);return i?(i.unobserve(n,e,r),i.proxy):t}function $i(t,n,e,r){var i=h.getObserver(t);return i&&i.isObserved(n,e,r)}h.getObserver=function(t){var n=t[Ir];if(n&&n.source===t)return n},h.$hasOwnProp=function(t,n){return!Vr[n]&&K(t,n)},h.source=function(t){return t},h.proxy=h.source,h.$eq=a,h.onProxyChange=Zr,h.unProxyChange=Zr,zr&&(Kr&&(h.$hasOwnProp=function(t,n){if(Vr[n])return!1;var e=h.getObserver(t);return K(e?e.source:t,n)}),h.$hasOwnProp=function(t,n){if(Vr[n])return!1;var e=h.getObserver(t);return K(e?e.source:t,n)},h.getObserver=function(t){var n=t[Ir];if(n&&(n.source===t||n.proxy===t))return n},h.source=function(t){var n=t&&h.getObserver(t);return n?n.source:t},h.proxy=function(t){var n=t&&h.getObserver(t);return n?n.proxy:t},h.$eq=function(t,n){return a(t,n)||!!(t&&n&&(t=h.getObserver(t)))&&t===h.getObserver(n)},Ur&&(pn(Yr,{__proxyChanged:function(){var e=this,t=this.proxyListens,r=this.source,i=this.proxy;t&&t.each(function(t,n){n?t.call(n,r,i,e):t(r,i,e)})},onProxyChange:function(t,n){Xt.fn(t,"require function handler.");var e=this.proxyListens;return e||(e=this.proxyListens=new le),e.add(t,n)},unProxyChange:function(t,n){Xt.fn(t,"require function handler.");var e=this.proxyListens;return e&&e.remove(t,n)}}),h.onProxyChange=function(t,n,e){var r=h.getObserver(t);return r&&r.onProxyChange(n,e)},h.unProxyChange=function(t,n,e){var r=h.getObserver(t);return r&&r.unProxyChange(n,e)}));var _i=lt(Ni),Ci=ht(Ni),Oi=ft(it,_i,ki),Si=ft(ut,Ci,ki);function ki(t,n,e,r){var i;if(e&&(n=n.bind(e)),!1===r){for(i in t)if(!Xr(i)&&n(h.proxy(t[i]),i,t)===et)return i}else for(i in t)if(h.$hasOwnProp(t,i)&&n(h.proxy(t[i]),i,t)===et)return i}function Ni(t,n){var e=t[n];return e?h.proxy(e):e}var Pi=xt(_i),Ti=wt(ki),Ri=ft(mt,Pi,Ti),Ii=In(Pi),ji=In(Ti),Li=In(Ri),Fi=Mn(_i),Di=Mn(ki),Vi=Mn(Oi),Bi=Mn(Ci),Mi=Mn(Si),zi=Xn(_i),Hi=Xn(ki),Ui=Xn(Ci),qi=Zn(zi,"indexOf"),Ki=Zn(Ui,"lastIndexOf");function Xi(t,n,e,r){return h.$hasOwnProp(e,t)&&r(t,n,e)}function Zi(t,n,e){return h.$hasOwnProp(e,t)&&!h.$hasOwnProp(n,t)}function Gi(t,n,e){return h.$hasOwnProp(e,t)}function Yi(t,n,e,r){var i,o,u=[],a=0;if(e&&(n=n.bind(e)),!1===r){for(i in t)if(!Xr(i)){if((o=n(t,i))===et)break;o!==vt&&(u[a++]=o)}}else for(i in t)if(h.$hasOwnProp(t,i)){if((o=n(t,i))===et)break;o!==vt&&(u[a++]=o)}return u}var Wi,Qi=Qn(Yi,function Lf(t,n){return Xr(n)?Xr:n}),Ji=Qn(Yi,function Ff(t,n){return h.proxy(t[n])});var to,no="childNodes",eo="parent",ro="$virtNode",io="$virtElement",oo="$virtText",uo="$virtBindingText",ao="$virtComplexElement",so="$virtComment",co=xn(function co(t){Xt(t.$comp,"Require Compontent"),this.comp=t},((Wi={})[ro]=!0,Wi.prepare=function(){},Wi.mount=function(){},Wi.unmount=function(){},Wi.appendTo=function(t){return Xt(t.$virtComplexElement,"parent should be Virtual Complex Element"),t.append(this)},Wi.prependTo=function(t){return Xt(t.$virtComplexElement,"parent should be Virtual Complex Element"),t.prepend(this)},Wi.insertBeforeTo=function(t){return Xt(t[eo],"target is Root Node"),Xt(t[ro],"target should be Virtual Node"),t[eo].insertBefore(this,t)},Wi.insertAfterTo=function(t){return Xt(t[eo],"target is Root Node"),Xt(t[ro],"target should be Virtual Node"),t[eo].insertAfter(this,t)},Wi.replaceTo=function(t){return Xt(t[eo],"target is Root Node"),Xt(t[ro],"target should be Virtual Node"),t[eo].replace(this,t)},Wi.prevSibling=function(){var t=this[eo];return t&&t[no].prev(this)},Wi.nextSibling=function(){var t=this[eo];return t&&t[no].next(this)},Wi.remove=function(){var t=this[eo];return t&&(t[no].remove(this),this[eo]=undefined),this},Wi)),fo=xn(function fo(t,n){co.call(this,t),this.data=n},co,((to={})[oo]=!0,to.text=function Au(t){var n=this.data;return 0===arguments.length?n:((t=H(t))!==n&&(this.update(t),this.data=t),this)},to)),lo=St("argilo,Math,Date,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,parseInt,parseFloat,"+(window?"window,document,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent":"global")),ho=/\s/g,po=/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\"']|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void |(\|\|)/g,vo=/"(\d+)"/g,go=/[^\w$\.][A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*)*/g,mo=/^[A-Za-z_$][\w$]*/,bo=/^[A-Za-z_$#@][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,yo=[];function xo(t){return t.replace(vo,$o)}function wo(t){var n=yo.length;return yo[n]=t,'"'+n+'"'}var Eo=/\n|\t|\r/g;function Ao(t){switch(t){case"\n":return"\\n";case"\t":return"\\t";case"\r":return"\\r"}}function $o(t,n){var e=yo[n];switch(e.charAt(0)){case'"':case"'":case"`":return e.replace(Eo,Ao)}return e}var _o,Co,Oo=1,So=2,ko=3,No=nt(null),Po=0;function To(t){return lo[t]||Co&&Co[t]}function Ro(t,n,e){var r=t.charAt(0),i=t.slice(1);if(To(i.match(mo)[0]))return t;var o=n+t.length,u=e.charAt(o),a=Oo;switch(u){case"(":a=ko;break;case"=":"="!==e.charAt(o+1)&&(a=So);break;case"/":case"*":case"+":case"-":case"%":case"&":case"|":case"~":case"^":"="===e.charAt(o+1)&&(a=So);break;case">":case"<":e.charAt(o+1)===u&&"="===e.charAt(o+2)&&(a=So)}var s=_o(r,i,a);return s?(s[1]&&(No[s[1]]||(Po++,No[s[1]]=!0)),s[0]):t}function Io(t,n){var e="return"+xo((" "+t.replace(ho,"")).replace(go,Ro));try{return P(n,e)}catch(r){throw console.error(t,e),r}}var jo=/\s*\|\s*(?:\|\s*)*/,Lo=/\s*,\s*|\s+/g;function Fo(t,n,e,r,i){_o=e,Co=i;var o=function p(t){return t.replace(po,wo)}(this.expr=t).split(jo),u=o.length;this.executor=Io(o[0],n);for(var a,s,c,f,l=this.filters=new Array(u-1),h=1;h<u;h++){for(c=xo((f=V(o[h]).split(Lo)).shift()),a=0,s=f.length;a<s;a++)f[a]=Io(f[a],n);l[h-1]=[r(c),f,c]}var d=this.identities=function v(){if(!Po)return[];var t,n=new Array(Po),e=0;for(t in No)n[e++]=t;return No=nt(null),Po=0,n}();this.simple=!(1!==d.length||!function g(t){if(bo.test(t)){var n=t.match(mo);return!!n&&!To(n[0])}return!1}(o[0]))&&o[0],yo.length=0,_o=undefined,Co=undefined}function Do(t,n,e){this.params=t,this.scope=n,this.args=e}xn(Fo,{execute:function(t,n){N(this.executor,t,n)},eachFilter:function(t,n,e){for(var r,i=this.filters,o=0,u=i.length;o<u;o++)if(!1===t((r=i[o])[0],new Do(r[1],n,e)))return!1},reachFilter:function(t,n,e){for(var r,i=this.filters,o=i.length;o--;)if(!1===t((r=i[o])[0],new Do(r[1],n,e)))return!1}}),xn(Do,{get:function qe(t,n){var e=this.scope,r=this.args,i=this.params;if(arguments.length)return i[t]?N(i[t],e,r):n;for(var o=i.length,u=new Array(o);o--;)u[o]=N(i[o],e,r);return u},iter:function(){var t=this.scope,n=this.args,e=this.params,r=e.length,i=0;return function(){return i<r?N(e[i++],t,n):et}}});var Vo="$node";var Bo=nt(null);function Mo(t,n,e){return function o(t,n,e){switch(n[0]){case Vo:return undefined;case"this":n.shift()}var r=He(n),i=e===Oo?"this.$scope."+r:'this.getScope("'+n[0]+'").'+r;return e!==ko&&"$"!==n[0].charAt(0)||(r=undefined),"#"===t&&(r=undefined,t=""),[t+i,r]}(t,ze(n),e)}var zo=[Vo];function Ho(t,n,e){Fo.call(this,t,zo,Mo,this.parseFilter.bind(this),e),this.transforms=n}xn(Ho,Fo,{value:function(t,n){return this.execute(t,n)},transformValue:function(t,n){return this.transform(this.execute(t,n),t,n)},transform:function(e,t,n){return this.eachFilter(function(t,n){e=f(t)?t(e,n):t.transform.call(t,e,n)},t,n),e},checkRestore:function(){var t=this;Xt.by(function(){t.reachFilter(function(t){Xt.fn(t.restore,"Transform["+name+"] not support restore")})})},restore:function xo(r,t,n){return this.reachFilter(function(t,n,e){Xt.fn(t.restore,"Transform["+e+"] not support restore"),r=t.restore.call(t,r,n)},t,n),r},parseFilter:function(t){var n=this.transforms,e=n&&n[t]||Bo[t];return Xt(e,"Transform["+t+"] is undefined"),Xt(f(e)||f(e.transform),"Invalid Transform["+t+"].transform handler on "+(n&&n[t]?"Local":"Global")+" Transforms"),Xt(!e.restore||f(e.transform),"Invalid Transform["+t+"].restore handler on "+(n&&n[t]?"Local":"Global")+" Transforms"),e}}),Bo.json={transform:function(t,n){if(g(t))return'"'+t+'"';var e=+n.get(0);return JSON.stringify(t,n.get(1),isNaN(e)?0:e)},restore:function xo(t){return t&&g(t)?JSON.parse(t):t}},Bo.trim={transform:function(t){return g(t)?V(t):t},restore:function xo(t){return g(t)?V(t):t}},Bo.capitalize=function(t){return g(t)?t.charAt(0).toUpperCase()+t.slice(1):t},Bo.uppercase=function(t){return g(t)?t.toUpperCase():t},Bo.lowercase=function(t){return g(t)?t.toLowerCase():t},Bo.plural=function(t){return g(t)?Pe(t):t},Bo.singular=function(t){return g(t)?Te(t):t},Bo.unit=function(t,n){var e=n.get(0),r=n.get(1);return 1<t&&(e=Pe(e)),r?Fe(r,t,e):t+" "+e};var Uo,qo=["B","KB","MB","GB","TB","PB"],Ko=/(KB|B|MB|GB|TB|PB)$/,Xo=St(qo,function(t,n){return 1<<10*n});Bo.bytes={transform:function(t,n){var e=+t;if(isNaN(e))return t;var r=n.get(0,2),i=Math.pow(10,r),o=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e*i/Math.pow(1024,o))/i+" "+qo[o]},restore:function xo(t){if(!g(t))return t;var n,e=t.replace(Ko,function(t){return n=t,""});return n?(e=+e,isNaN(e)?t:Math.round(e*Xo[n])):t}},Bo.format=function(t,n){var e=n.get();return e.splice(1,0,t),O(Fe,e)};var Zo,Go,Yo=xn(function Yo(t,n){fo.call(this,t),this.expr=n},fo,((Uo={})[uo]=!0,Uo.prepare=function(t){return new Ho(t)},Uo.mount=function(){var t=this.expr,n=this.comp;this.text(t.transformValue(n,[this])),n.observeExpr(t,this.exprHandler,this)},Uo.unmount=function(){this.comp.unobserveExpr(this.expr,this.exprHandler,this)},Uo.exprHandler=function(t,n){var e=this.expr,r=this.comp;this.text(e.simple?e.transform(n,r,[this]):e.transformValue(r,[this]))},Uo)),Wo=xn(function Wo(t,n){co.call(this,t),this.init(n),this.initAttrs(n.attrs),this.initDirectives(n.directives)},co,((Zo={})[io]=!0,Zo.prepare=function(t){var r=this,i=t.directives;if(i){var o=i.length;Xt.by(o,function(){for(var t,n,e=0;e<o;e++)n=(t=i[e]).Directive,Xt(r[n[s].$nodeKey],"Can not bind directive["+t.dname+": "+R(n)+"] on "+R(r.constructor)+", require "+n[s].$nodeName)}),o||(t.directives=null)}},Zo.init=function(){},Zo.initDirectives=function(t){if(t){for(var n=t.length,e=new Array(n),r=0;r<n;r++)e[r]=t[r](this);this.directives=e}},Zo.mount=function(){var t=this.directives;if(t)for(var n=t.length,e=0;e<n;e++)t[e].bind()},Zo.unmount=function(){var t=this.directives;if(t)for(var n=t.length;n--;)t[n].unbind()},Zo)),Qo=Wo[s],Jo=Qo.prepare,tu=Qo.mount,nu=Qo.unmount,eu=xn(function eu(t,n){Wo.call(this,t,n),this.initChildren(n.children)},Wo,((Go={})[ao]=!0,Go.$childKey=ro,Go.$childName="Virtual Node",Go.prepare=function(t,n){Jo.call(this,t,n);var e=t.children;if(e)for(var r=e.length,i=0;i<r;i++)Xt((n=e[i].VNode)[s][this.$childKey],"Child Node["+i+": "+e[i].ename+"] should be "+this.$childName)},Go.initChildren=function(t){for(var n,e=this[no]=new te,r=t.length,i=new Array(r),o=0;o<r;o++)i[o]=n=t[o](this.comp),(n.parent=this).initChild(n);e.addAll(i)},Go.initChild=function(t){},Go.mount=function(){tu.call(this),this[no].each(uu)},Go.unmount=function(){this[no].each(au),nu.call(this)},Go.childCount=function(){return this[no].length},Go.first=function(){return this[no].first()},Go.last=function rc(){return this[no].last()},Go.prev=ru("prev"),Go.next=ru("next"),Go.append=iu("add"),Go.prepend=iu("addFirst"),Go.insertBefore=ou("insertBefore"),Go.insertAfter=ou("insertAfter"),Go.replace=function(t,n){return Xt(t[this.$childKey],"node should be "+this.$childName),Xt(this[no].has(n),"target is not existing in this Node"),t.remove(),this[no].insert(t,n),n.remove(),t.parent=this},Go.eachChildren=function(t,n){return this[no].each(t,n)},Go));function ru(n){return function(t){return Xt(t[this.$childKey],"node should be "+this.$childName),this[no][n](t)}}function iu(n){return function(t){Xt(t[this.$childKey],"node should be "+this.$childName),t.remove(),this[no][n](t),t.parent=this}}function ou(e){return function(t,n){return Xt(t[this.$childKey],"node should be "+this.$childName),Xt(this[no].has(n),"target is not existing in this Node"),t.remove(),this[no][e](t,n),t.parent=this}}function uu(t){t.mount()}function au(t){t.unmount()}var su,cu=xn(function cu(t,n){eu.call(this,this,n);var e=null;l(t)||(Xt(t&&t.$comp,"Require Parent Compontent"),t=(e=t).$scope);var r=wi(t);this.scope=r.proxy,this.$scope=r.source,this.$observer=r,this.parent=e},eu,{$comp:!0,prepare:function(t){},initAttrs:function(){},$getScope:function(t){for(var n,e=this.$observer;!K(e.source,t)&&(n=e.$parent)&&t in n.source;)e=n;return e},getScope:function(t){return this.$getScope(t).proxy},observe:function(t,n,e){return t=ze(t),this.$getScope(t[0]).observe(t,n,e),this},unobserve:function(t,n,e){return this.$getScope(t[0]).unobserve(t,n,e),this},observeExpr:function(t,n,e){for(var r=t.identities,i=r.length,o=0;o<i;o++)this.observe(r[o],n,e);return this},unobserveExpr:function(t,n,e){for(var r=t.identities,i=r.length,o=0;o<i;o++)this.unobserve(r[o],n,e);return this},onProxyChange:function(t,n){return this.$observer.onProxyChange(t,n),this},unProxyChange:function(t,n){return this.$observer.unProxyChange(t,n),this},destroy:function(){}}),fu=xn(function fu(t,n){co.call(this,t),this.comment=n},co,((su={})[so]=!0,su)),lu=nt(null);function hu(t,n){this.comp=t.comp,this.node=t,this.params=n}function du(t,n){return t=t.toLowerCase(),Xt(!lu[t],"Double Register Directive["+t+"]"),f(n)||(n.extend||(n.extend=hu),n=Sn(n)),Xt(n[s].$directive,"Invalid Directive["+t+"], should extend Directive"),lu[t]=n}xn(hu,{$directive:!0,$nodeKey:"$virtElement",$nodeName:"Virtual Element",prepare:function(){},bind:function(){},unbind:function(){},observeExpr:function(t,n,e){return this.comp.observeExpr(t,n,e)},unobserveExpr:function(t,n,e){return this.comp.unobserveExpr(t,n,e)}});var pu,vu,gu,mu=nt(null),bu=nt(mu);function yu(t,n){return Xt(!mu[t],"Double Register Virtual Element: "+R(n)+" <"+t+">"),Xt(n[s][io],"Invalid Virtual Element: "+R(n)+" <"+t+">"),mu[t]=n}function xu(t){return Xt(!pu,"Double Register Virtual Text"),Xt(t[s][oo],"Invalid Virtual Node: "+R(t)),pu=t}function wu(t){return Xt(!vu,"Double Register Virtual Binding Text"),Xt(t[s][uo],"Invalid Virtual Binding Text: "+R(t)),vu=t}function Eu(t){return Xt(!gu,"Double Register Virtual Comment "),Xt(t[s][so],"Invalid Virtual Comment: "+R(t)),gu=t}function Au(t,n){return $u(n?vu:pu,t)}function $u(n,e){function t(t){return new n(t,e)}return e=n[s].prepare(e,n)||e,t.VNode=n,t.option=e,t}var _u="addEventListener",Cu="attachEvent",Ou="documentElement",Su="defaultView",ku="parentWindow",Nu="appendChild",Pu="insertBefore",Tu="replaceChild",Ru="parentNode",Iu="contains",ju="innerHTML",Lu="createElement",Fu="ownerDocument",Du="setAttribute",Vu="getAttribute",Bu="removeAttribute",Mu="selected",zu="disabled",Hu="readOnly",Uu="tabIndex",qu="htmlFor",Ku="className",Xu="preventDefault",Zu="stopPropagation",Gu="stopImmediatePropagation",Yu="clientTop",Wu="clientLeft",Qu="scrollLeft",Ju="scrollTop",ta="pageXOffset",na="pageYOffset",ea="clientX",ra="clientY",ia="pageX",oa=document[Ou],ua=document[Lu]("div");function aa(t){return t.window&&t.document?t:9===t.nodeType?t[Su]||t[ku]:undefined}function sa(t,n){if(n||(n=oa),n[Iu])return n[Iu](t);for(;t=t[Ru];)if(t===n)return!0;return!1}function ca(t){return g(t)?document.querySelector(t):E(t)?t[0]:t}function fa(t,n){var e=n.nextSibling;e?e!==t&&n[Ru][Pu](t,e):n[Ru][Nu](t)}function la(t,n){t!==n.previousSibling&&n[Ru][Pu](t,n)}function ha(t){var e=t[s].remove;return{$htmlNode:!0,appendTo:function(t){return t[ro]?t.append(this):ca(t)[Nu](this.el),this},prependTo:function(t){return t[ro]?t.prepend(this):function r(t,n){var e=t.firstChild;e?e!==n&&t[Pu](n,e):t[Nu](n)}(ca(t),this.el),this},insertBeforeTo:function(t){return t[ro]?t.parent.insertBefore(this,t):fa(this.el,ca(t)),this},insertAfterTo:function(t){return t[ro]?t.parent.insertAfter(this,t):la(this.el,ca(t)),this},replaceTo:function(t){return t[ro]?t.parent.replace(this,t):(taget=ca(t),t[Ru][Tu](this.el,t)),this},remove:function(){var t=this.el,n=t[Ru];return n&&n.removeChild(t),e.call(this)}}}var da="outerHTML",pa={$htmlElement:!0,init:function(t){var n=document[Lu](this.tagName);(n.__element__=this).el=n,this.initDomEvent()},inDoc:function(){return sa(this.el)},outerHtml:function(){var t=this.el;if(t[da])return t[da];DIV[Nu](t.cloneNode(!0));var n=DIV[ju];return DIV[ju]="",n},focus:function(){return this.el.focus(),this}};function va(r,t,i,o){var u=nt(null),a=o&&nt(null);return t&&n(t),{addHook:n,getHook:function(t){return u[t]||r},hookMember:function(t,n){var e=u[t];return e&&e[n]},memberHook:function(t,n){var e=u[t];return e&&e[n]?e:r[n]?r:void 0},hookRevice:function(t){return a[t]}};function n(t,n){if(1!==arguments.length)return s(t,n);for(var e in t)K(t,e)&&s(e,t[e])}function s(t,n){var e;l(n)||((e={})[i]=n,n=e);return a&&n[o]&&(a[n[o]]=t),u[t]=n}}var ga="name",ma="get",ba="set",ya=va({get:function qe(t,n){return t[n]},set:function Ke(t,n,e){t[n]=e}},{tabIndex:{get:function qe(t,n){var e=t.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):rfocusable.test(t.nodeName)||rclickable.test(t.nodeName)&&t.href?0:undefined}}},{tabindex:Uu,readonly:Hu,"for":qu,"class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ga),xa=ya.hookMember,wa=ya.memberHook,Ea=(ya.addHook,{initAttrs:function(t){t&&this.attr(t)},attr:function(t,n){var e=this.el;if(1===arguments.length){if(g(t))return e[Vu](t);ki(t,function(t,n){e[Du](n,t)})}else e[Du](t,n);return this},removeAttr:function(t){return this.el[Bu](t),this},prop:function(t,n){var e=this.el;if(1===arguments.length){if(g(t))return $a(e,t);ki(t,function(t,n){_a(e,n,t)})}else _a(e,t,n);return this},checked:Aa("checked"),selected:Aa(Mu),disabled:Aa(zu),readonly:Aa(Hu),tabindex:Aa(Uu),"for":Aa(qu)});function Aa(e){return function(t){var n=this.el;return arguments.length?(_a(n,e,t),this):$a(n,e)}}function $a(t,n){return n=xa(n,ga),wa(n,ma)[ma](t,n)}function _a(t,n,e){n=xa(n,ga),wa(n,ba)[ba](t,n,e)}var Ca="classList",Oa=/\s+/g,Sa={className:function(t){var n=this.el;return arguments.length?(n[Ku]=function e(t){return g(t)?V(t):Ra(t).join(" ")}(t),this):V(n[Ku]).split(Oa)},addClass:ua[Ca]?ka("add"):function(t,n){return(n=Ta(n)).length&&(t[Ku]=V(Pa(t[Ku],n)+" "+n.join(" "))),this},removeClass:ua[Ca]?ka("remove"):function(t,n){return(n=Ta(n)).length&&(t[Ku]=V(Pa(t[Ku],n))),this},margeClass:function(t){var n,e=this.el,r=[],i=[];for(n in t)switch(t[n]){case!0:r.push(n);case!1:i.push(n)}return e[Ku]=V(Pa(e[Ku],i)+" "+r.join(" ")),this}};function ka(r){return function(t){t=Ta(t);for(var n=this.el[Ca],e=t.length;e--;)n[r](t[e]);return this}}var Na=nt(null);function Pa(t,n){n=n.join("|");var e=Na[n]||(Na[n]=new RegExp("(\\s+|^)("+n+")","g"));return t.replace(e,"")}function Ta(t){return g(t)?V(t).split(Oa):Ra(t)}function Ra(t){if(y(t))return t;var n,e=[],r=0;for(n in t)!0===t[n]&&(e[r++]=n);return e}var Ia=!!window.dispatchEvent,ja=!!window.XDomainRequest,La=-1!==navigator.userAgent.indexOf("MSIE 9"),Fa=[];function Da(t){for(;t=Fa.shift();)t();Fa=undefined}var Va="readyState",Ba="doScroll";if("complete"===document[Va])_e(Da);else if(document[_u])document[_u]("DOMContentLoaded",Da);else if(document[Cu]&&(document[Cu]("onreadystatechange",function(){"complete"===document[Va]&&Da()}),oa[Ba]&&null===window.frameElement&&window.external)){var Ma=function Ma(){try{oa[Ba]("left"),Da()}catch(t){_e(Ma)}};Ma()}var za=St("animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom"),Ha=nt(null),Ua=va({get:function qe(t,n){return"background"===n&&(n="backgroundColor"),rs(t,n)},set:function Ke(t,n,e){t.style[n]=e}}),qa=Ua.memberHook,Ka=Ua.addHook;Ha["float"]=Ia?"cssFloat":"styleFloat";var Xa="offsetParent",Za="getBoundingClientRect",Ga="filter",Ya="position";function Wa(t,n,e){n=hs(n),c(e)?e="":!za[n]&&isFinite(e)&&(e+="px"),qa(n,"set").set(t,es(n),e,n)}var Qa={css:function(t,n){var e=this.el;if(1===arguments.length){if(g(t)){t=hs(t);var r=qa(t,"get").get(e,es(t),t),i=parseFloat(r);return isFinite(i)?i:r}ki(t,function(t,n){Wa(e,n,t)})}else Wa(e,t,n);return this},offset:function(){var t=this.el,n=t[Fu],e={top:0,left:0};if(!n)return e;var r=n.body,i=n[Su]||n[ku];if(!sa(t))return e;if(t[Za]){var o=t[Za]();e.top=o.top,e.left=o.left}var u=oa[Yu]||r[Yu],a=oa[Wu]||r[Wu],s=Math.max(i[na]||0,oa[Ju],r[Ju]),c=Math.max(i[ta]||0,oa[Qu],r[Qu]);return e.top+=s-u,e.left+=c-a,e},position:function(){var t,n,e=this.el;if("fixed"===rs(e,Ya)){t=(r=e[Za]()).top,n=r.left}else{var r=this.offset(e),i=function u(t){var n=t[Xa];for(;n&&"static"===rs(n,Ya);)n=n[Xa];return n||oa}(e);if(t=r.top-us(i,"borderTopWidth")+this.scrollTop(i),n=r.left-us(i,"borderLeftWidth")+this.scrollLeft(i),"HTML"!==i.tagName){var o=this.offset(i);t-=o.top,n-=o.left}}return{top:t-us(e,"marginTop"),left:n-us(e,"marginLeft")}},scrollTop:function(){var t=this.el,n=aa(t);return(n?Ju in n?n[Ju]:oa[na]:t[na])||0},scrollLeft:function(){var t=this.el,n=aa(t);return(n?Qu in n?n[Qu]:oa[ta]:t[ta])||0},scrollTo:function(t,n){var e=this.el,r=aa(e);r?r.scrollTo(t,n):(e[ta]=t,e[na]=n)}};var Ja=["","-webkit-","-o-","-moz-","-ms-"],ts=oa.style,ns=Ja.length;function es(t){var n=Ha[t];if(n)return n;for(var e=0;e<ns;e++)if((n=hs(Ja[e]+t))in ts)return Ha[t]=n;throw new Error("invalid style["+t+"]")}var rs,is="getComputedStyle",os=!!window[is];function us(t,n){var e=rs(t,n),r=parseFloat(e);return r==r?r:0}if(os)rs=function rs(t,n){var e,r=window[is](t,null);return r&&""===(e=n===Ga?r.getPropertyValue(n):r[n])&&(e=t.style[n]),e};else{var as="runtimeStyle",ss=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,cs=/^(top|right|bottom|left)$/,fs={thin:ja?"1px":"2px",medium:ja?"3px":"4px",thick:ja?"5px":"6px"};rs=function rs(t,n){var e=t.currentStyle,r=e[n];if(ss.test(r)&&!cs.test(r)){var i=t.style,o=i.left,u=t[as].left;t[as].left=e.left,i.left="fontSize"===n?"1em":r||0,r=i.pixelLeft+"px",i.left=o,t[as].left=u}return"medium"===r&&"none"===e[n=n.replace("Width","Style")]&&(r="0px"),""===r?"auto":fs[r]||r}}var ls=/[-_][^-_]/g;function hs(t){return t?t.replace(ls,ds):t}function ds(t){return t.charAt(1).toUpperCase()}var ps="opacity";if(os)Ka(ps,{get:function qe(t,n){var e=rs(t,n);return""===e?1:e}});else{var vs=Ga+"s",gs=/alpha\([^)]*\)/i;Ka(ps,{get:function qe(t,n){var e=t[vs].alpha||t[vs]["DXImageTransform.Microsoft.Alpha"];return(e&&e.enabled?e[ps]:100)/100},set:function Ke(t,n,e){var r=t.style,i=isFinite(e)&&e<=1?"alpha("+ps+"="+100*e+")":"",o=r[Ga]||"";r.zoom=1,r[Ga]=trim(gs.test(o)?o.replace(gs,i):o+" "+i),r[Ga]||r[Bu](Ga)}})}var ms={value:function(t){var n=this.el,e=n.tagName;return"INPUT"===e&&(e=n.type),arguments.length?(As(e,"set").set(n,t,e),this):As(e,"get").get(n,e)}},bs=nt(null),ys="selectedIndex",xs="select-one",ws="options",Es=va({get:function qe(t){return t.value||""},set:function Ke(t,n){t.value=H(n)}},{option:{get:function qe(t){return $s(t)}},select:{get:function qe(t){var n=t.type==xs,e=t[ys];if(e<0)return n?undefined:[];var r,i=t[ws],o=i.length,u=0;if(!n){for(var a=[];u<o;u++)((r=i[u])[Mu]||u===e)&&a.push($s(r));return a}for(;u<o;u++)if((r=i[u])[Mu]||u===e)return $s(r)},set:function Ke(t,n){var e,r,i=t.type==xs,o=t[ws],u=o.length,a=0;if(i){for(;a<u;a++)if($s(e=o[a])===n){e[Mu]=!0;break}}else for(t[ys]=-1,c(n)?r=bs:y(n)?r=St(n):l(n)?r=n:(r=nt(null))[n]=!0;a<u;a++)!0===r[$s(e=o[a])]&&(e[Mu]=!0)}}}),As=Es.memberHook;Es.addHook;function $s(t){var n=t.attributes.value;return!n||n.specified?t.value:t.text}var _s=va(null,null,"type","type"),Cs=_s.getHook,Os=_s.hookRevice,Ss=_s.addHook,ks="__element__",Ns="__domEvents",Ps="__addDomListen",Ts="__delDomListen",Rs="__emitDomEvent",Is={initDomEvent:function(){(this.el[ks]=this)[Ns]=nt(null)},on:function(t,n,e){if(Xt.fn(n,"Invalid Event Listener"),1===this[Ps](t,n,e)){var r=this.el,i=Cs(t);if(i&&(i.type&&(t=i.type),i.bind&&!1===i.bind(r,t)))return;!function o(t,n){var e=(t=qs(t))[Ks]||(t[Ks]=nt(null)),r=e[n]||0;r||zs(t,n,oc);e[n]=r+1}(r,t)}},un:function(t,n,e){if(Xt.fn(n,"Invalid Event Listener"),0===this[Ts](t,n,e)){var r=this.el,i=Cs(t);if(i&&(i.type&&(t=i.type),i.unbind&&!1===i.unbind(r,t)))return;!function o(t,n){var e=(t=qs(t))[Ks],r=e&&e[n];r&&(1===r&&Hs(t,n,oc),e[n]=r-1)}(r,t)}},once:function(t,n,e){Xt.fn(n,"Invalid Event Listener");this.el;var r=n[ce],i=this;function o(){C(n,this,arguments),i.un(t,o,e)}r&&(o[ce]=r),this.on(t,o,e),r||(n[ce]=cb[ce])},__addDomListen:function(t,n,e){var r=this[Ns];return(r[t]||(r[t]=new le)).add(n,e)},__delDomListen:function(t,n,e){var r=this[Ns][t];return r&&r.remove(n,e)}};Is[Rs]=function(t,e){var r=this,n=this[Ns][t];if(n&&n.size()){if(!e.$hookEvent){var i=(e=uc(t,e)).target;e.targetEl=i,e.target=i[ks]}e.current=this,e[Bs]=!1,n.each(function(t,n){return!1!==t.call(n||r,e,r)&&!e[Bs]})}return e};var js="originalEvent",Ls="returnValue",Fs="getPreventDefault",Ds="timeStamp",Vs="originalProps",Bs="isImmediatePropagationStopped",Ms="cancelBubble",zs=Ia?function(t,n,e){t[_u](n,e,"focus"!==n&&"blur"!==n)}:function(t,n,e){t[Cu]("on"+n,e)},Hs=Ia?function(t,n,e){t.removeEventListener(n,e)}:function(t,n,e){t.detachEvent("on"+n,e)},Us=St("click,dblclick,keydown,keypress,keyup,mousedown,mousemove,mouseup,mouseover,mouseout,wheel,mousewheel,input,beforeinput,compositionstart,compositionupdate,compositionend,cut,copy,paste,beforecut,beforecopy,beforepaste,focusin,focusout,DOMFocusIn,DOMFocusOut,DOMActivate,dragend,datasetchanged");function qs(t){return Us[t.type]?oa:t}Ia&&(Us.change=Us.select=!0);var Ks="__dispatch_events__";var Xs=/^key/,Zs="charCode",Gs="keyCode",Ys="which",Ws=["char","key",Zs,Gs],Qs={fix:function dc(t,n){t[Vs](Ws),t[Ys]||(t[Ys]=null!=n[Zs]?n[Zs]:n[Gs])}},Js=/^(?:mouse|contextmenu|drag)|click/,tc="button",nc=[tc,tc+"s",ea,ra,"offsetX","offsetY",ia,"pageY","screenX","screenY","toElement"],ec={fix:function dc(t,n){var e=n[tc];if(t[Vs](nc),!t[ia]&&n[ea]){var r=t.target[Fu]||document,i=r[Ou],o=r.body;t[ia]=n[ea]+(i&&i[Qu]||o&&o[Qu]||0)-(i&&i[Wu]||o&&o[Wu]||0),t.pageY=n[ra]+(i&&i[Ju]||o&&o[Ju]||0)-(i&&i[Yu]||o&&o[Yu]||0)}t[Ys]||e===undefined||(t[Ys]=1&e?1:2&e?3:4&e?2:0)}},rc=0,ic=/move|scroll/;function oc(t){var n,e=t.type,r=ac(t);if(e=Os(e)||e,ic.test(e)){var i=new Date;if(i-rc<16)return;rc=i}if(!0!==r[zu]||"click"!==e)if(Us[e])for(;(n=r[ks])&&(t=n[Rs](e,t)),(r=r[Ru])&&!t[Ms];);else(n=r[ks])&&n[Rs](e,t)}function uc(t,n){var e=new cc(n,t),r=Cs(t);return r||(r=Js.test(t)?ec:Xs.test(t)?Qs:{},r=Ss(t,r)),r.fix&&r.fix(e,n),e}function ac(t){var n=t.target||t.srcElement||document;return 3==n.nodeType?n[Ru]:n}var sc="altKey,bubbles,cancelable,ctrlKey,eventPhase,metaKey,shiftKey,view".split(",").concat(hc,lc,Ys,"currentTarget");function cc(t,n){this.type=n||t.type,this[js]=t,this.target=ac(t),this[Ls]=!(t.defaultPrevented||!1===t[Ls]||t[Fs]&&t[Fs]()),this[Ds]=t[Ds]||(new Date).getTime(),this[Vs](sc)}var fc=cc.prototype;fc.$hookEvent=!0,fc[Vs]=function(t){for(var n=this[js],e=0,r=t.length;e<r;e++)this[t[e]]=n[t[e]]},fc[Xu]=function(){var t=this[js];this[Ls]=!1,t[Ls]=!1,t[Xu]&&t[Xu]()},fc[Zu]=function(){var t=this[js];this[Ms]=!0,t[Ms]=!0,t[Zu]&&t[Zu]()},fc[Gu]=function(){var t=this[js];this[Bs]=!0,t[Gu]&&t[Gu](),this[Zu]()};var lc="propertyName",hc="relatedTarget";if(oa.onmouseenter===undefined){var dc=function dc(t){var n=t.target,e=t[hc];return!e||e!==n&&!(16&n.compareDocumentPosition(e))};Ss({mouseover:{type:"mouseenter",fix:dc},mouseout:{type:"mouseleave",fix:dc}})}if(window.AnimationEvent?Ss("animationend","AnimationEvent"):window.WebKitAnimationEvent&&Ss("animationend","WebKitAnimationEvent"),document.onmousewheel===undefined){var pc=document.onwheel?"wheel":"DOMMouseScroll",vc="wheel"===pc?"deltaY":"detail",gc="wheelDelta",mc=gc+"Y";Ss("mousewheel",{type:pc,fix:function dc(t){t[mc]=t[gc]=0<t[vc]?-120:120,t[mc]=0}})}var bc="input";if(document[Lu](bc).oninput===undefined){var yc=function yc(t){ac(t)[wc]&&oc(uc("change",t))};delete Us[bc],Ss(bc,{type:"propertychange",fix:function dc(t){return"value"===t[lc]}});var xc=0,wc="__change_event";Ss("change",{bind:function(t){if("checkbox"==t.type||"radio"==t.type)return 0==xc++&&zs(oa,"click",yc),!(t[wc]=!0)},unbind:function(t){if("checkbox"==t.type||"radio"==t.type)return 0==--xc&&Hs(oa,"click",yc),t[wc]=!1}})}else if(La){var Ec="oldValue";Ss(bc,{fix:function dc(t){var n=t.target;n[Ec]=n.value}}),zs("selectionchange",function(t){var n=document.activeElement;switch(n.tagName){case"INPUT":if("text"!==n.type)return;case"TEXTAREA":n.value!==n[Ec]&&(n[Ec]=n.value,oc(uc(bc,t)))}})}var Ac=xn(function Ac(t,n){Wo.call(this,t,n)},Wo,ha(Wo),pa,Ea,Sa,Qa,ms,Is),$c=eu[s],_c=$c.append,Cc=($c.appendAll,$c.prepend),Oc=$c.insertBefore,Sc=$c.insertAfter,kc=$c.replace,Nc="textContent",Pc=g(ua[Nc])?Nc:"innerText",Tc=xn(function Tc(t,n){eu.call(this,t,n)},eu,ha(eu),pa,Ea,Sa,Qa,ms,Is,{$htmlComplexElement:!0,$childKey:"$htmlNode",$childName:"HTML Virtual Node",initChild:function(t){this.el[Nu](t.el)},html:function(t){var n=this.el;return arguments.length?(n[ju]=t,this):n[ju]},text:function(t){var n=this.el;return arguments.length?(n[Pc]=t,this):n[Pc]},append:function(t){return _c.call(this,t),this.el[Nu](t.el),this},prepend:function(t){return Cc.call(this,t),prependChild(this.el,t.el),this},insertBefore:function(t,n){return Oc.call(this,t,n),doInsertBefore(t.el,n.el),this},insertAfter:function(t,n){return Sc.call(this,t,n),doInsertAfter(t.el,n.el),this},replace:function(t,n){return kc.call(this,t,n),n.el[Ru][Tu](t.el,n.el),this}}),Rc=xn(function(t){cu.call(this,t)},cu,{$htmlComp:!0}),Ic=Eu(xn(function gu(t){fu.call(this,t),this.el=document.createComment(t)},fu,ha(fu),{$htmlComment:!0})),jc={update:function(t){this.el.data=t}},Lc=xu(xn(function pu(t,n){fo.call(this,t,n),this.el=Dc(n)},fo,ha(fo),jc)),Fc=wu(xn(function vu(t,n){Yo.call(this,t,n),this.el=Dc("")},Yo,ha(Yo),jc));function Dc(t){return document.createTextNode(t)}function Vc(t,n){for(var e=0,r=(n=n.split(",")).length;e<r;e++)yu(n[e],Sn({extend:t,name:t.name,tagName:n[e]}))}Vc(Ac,"area,br,col,embed,hr,img,input,param,source,track,wbr"),Vc(Tc,"address,article,aside,footer,h1,h2,h3,h4,h5,h6,hgroup,nav,section,blockquote,dd,dir,div,dl,dt,figcaption,figure,li,main,ol,p,pre,ul,a,abbr,b,bdi,bdo,cite,code,data,dfn,em,i,kbd,mark,nobr,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,tt,u,var,audio,map,video,applet,iframe,noembed,object,picture,canvas,noscript,del,ins,caption,colgroup,table,tbody,td,tfoot,th,thead,tr,button,datalist,fieldset,form,label,legend,meter,optgroup,option,output,progress,select,details,dialog,menu,menuitem,summary,content,element,shadow,slot"),Vc(Tc,"template"),Vc(Tc,"textarea"),Vc(Tc,"script"),Vc(Tc,"style"),Vc(Tc,"link,meta,base"),Vc(Tc,"title");var Bc=nt(null),Mc="$event";function zc(t,n,e){if((n=ze(n))[0]!==Mc)return doIdentityHandler(t,n,e)}var Hc=[Vo,Mc];function Uc(t,n,e){Fo.call(this,t,Hc,zc,this.parseFilter.bind(this),e),this.eventFilters=n}function qc(t,n){return t(n[1],n)}xn(Uc,Fo,{transformValue:function(t,n){return this.transform(this.execute(t,n),t,n)},filter:function(t,n){return!1!==this.eachFilter(qc,t,n)},parseFilter:function(t){var n=this.eventFilters,e=n&&n[t]||Bc[t];return Xt(e,"EventFilter["+t+"] is undefined"),Xt(f(e),"Invalid EventFilter["+t+"] on "+(n&&n[t]?"Local":"Global")+" EventFilters"),e}});var Kc={esc:27,tab:9,enter:13,space:32,"delete":[8,46],up:38,left:37,right:39,down:40};Bc.key=function(t,n){var e=t.which,r=n.get(),i=r.length;if(!i)return!0;for(var o,u,a,s,c=0;c<i;c++)if(o=r[c],g(o)&&(o=+(u=o),isNaN(o)&&(Xt(x(o=Kc[u])||y(o),"Invalid Key Code["+u+"]"),y(o)))){for(a=0,s=o.length;a<s;a++)if(e===o[a])return!0}else if(e===o)return!0;return!1},Bc.stop=function(t){t[Zu]()},Bc.prevent=function(t){t.preventDefault()},Bc.self=function(t){return t.target===t.currentTarget};var Xc=xn(function Xc(t,n,e){hu.call(this,t,e)},hu,{$nodeKey:"$htmlElement",$nodeName:"HTML Virtual Element"}),Zc=xn(function Zc(t,n){Xc.call(this,t,n),this.expr=n.expr},Xc,{prepare:function(t){t.expr=new Ho(t.value)},realValue:function(){return this.expr.value(this.comp,[this.node])},value:function(){return this.expr.transformValue(this.comp,[this.node])},transform:function(t){return this.expr.transform(t,this.comp,[this.node])},blankValue:function(t){return arguments.length||(t=this.value()),c(t)?"":t},observeHandler:function(t,n){this.update(this.expr.simple?this.transform(n):this.value())},bind:function(){this.observeExpr(this.expr,this.observeHandler,this),this.update(this.value())},unbind:function(){this.unobserveExpr(this.expr,this.observeHandler,this)},update:function(t){throw new Error("abstract method")}}),Gc=xn(function Gc(t,n,e){Xc.call(this,t,e),this.expr=e.expr},Xc,{prepare:function(t){t.expr=new Uc(t.value)},handler:function(t){var n=this.expr,e=this.comp,r=this.node,i=[r,t];if(t[Zu](),n.filter(e,i)){var o=n.value(e,i);f(o)?o.call(e,t,r):Xt(!n.sample,"Invalid Event Handler: "+this.params.value)}},bind:function(){var t=this.node,n=this.handler,e=this.eventType;if(e.push)for(var r=0;r<e.length;r++)t.on(e[r],n,this);else t.on(e,n,this)},unbind:function(){var t=this.node,n=this.handler,e=this.eventType;if(e.push)for(var r=0;r<e.length;r++)t.un(e[r],n,this);else t.un(e,n,this)}});Ot(yt(["blur","change","click","dblclick","error","focus","keydown","keypress","keyup","load","mousedown","mousemove","mouseout","mouseover","mouseup","resize","scroll","select","submit","unload",{eventName:"input",eventType:["input","propertychange"]}],function(t){return g(t)&&(t={eventName:t,eventType:t}),t.extend=Gc,t.name=z(t.eventName)+"EventDirective",du("on"+t.eventName,t)}),function(t){return t.name});var Yc="display";function Wc(t,n){n.extend=Zc,n.name=z(t)+"Directive",du(t,n)}ct({text:{update:function(t){this.node.text(this.blankValue(t))}},html:{update:function(t){this.node.html(this.blankValue(t))}},show:{update:function(t){this.node.css(Yc,t?"":"none")}},hide:{update:function(t){this.node.css(Yc,t?"none":"")}},focus:{update:function(t){t&&this.node.focus()}},value:{update:function(t){this.node.value(this.blankValue(t))}},checked:{update:function(t){var n=this.node;n.checked(ef(n.value(),t))}},selected:{update:function(t){var n=this.node;n.selected(ef(n.value(),t))}},"class":{update:function(t){g(t)&&(t=trim(t).split(/\s+/g));var n=nt(null),e=this.cache;if(e)for(var r in e)!0===e[r]&&(n[r]=!1);if(E(t))for(var i=t.length;i--;)n[t[i]]=!0;else if(t)for(var r in t)!0===t[r]&&(n[r]=!0);this.cache=n,this.node.margeClass(n)}},style:{update:function(t){var n;if("string"==typeof t&&(t=trim(t))){var e=t.split(styleSplitReg);n={};for(var r,i=0,o=e.length;i<o;i++)n[(r=e[i].split(cssSplitReg))[0]]=r[1]}else l(t)&&(n=t);var u=this.csses;if(u)if(n)for(var a in u)n[a]||css(el,a,"");else for(var a in u)css(el,a,"");if(this.csses=n)for(var a in n)css(el,a,n[a])}}},function(t,n){Wc(n,t)});var Qc=Zc[s],Jc=Qc.prepare,tf=Qc.bind,nf=Qc.unbind;function ef(t,n){if(y(n)){for(var e=n.length;e--;)if(n[e]===t)return!0;return!1}return g(n)?n===t:l(n)?!!n[t]:!!n}Wc("input",{prepare:function(t,n){Jc.call(this,t,n),t.expr.checkRestore()},constructor:function(t,n){Zc.call(this,t,n),Xt(this.expr.simple,"Invalid Expression["+n.value+"] on directive[input]");var e=t.tagName,r="change",i=this.elemValue;switch(e){case"input":switch(t.el.type){case"radio":case"checkbox":e=itype,i=this.checkedValue;break;default:r="input"}break;case"textarea":r="input";break;case"select":break;default:throw new TypeError("<"+e+"> not support Directive[input], should be <input | textarea | select>")}this.type=e,this.event=r,this.domValue=i},update:function(t){this.node.value(this.blankValue(t))},elemValue:function(t){var n=this.node;if(0===arguments.length)return n.value();n.value(t)},checkedValue:function(t){var n=this.node;if(0===arguments.length)return n.checked()?n.value():undefined;n.checked(t==n.value())},onChange:function(t){var n=this.expr;this.comp.set(n.simple,n.restore(this.domValue(),this.comp,[this.node])),t[Zu]()},bind:function(){tf.call(this),this.node.on(this.event,this.onChange,this)},unbind:function(){this.node.un(this.event,this.onChange,this),nf.call(this)}});var rf="{",of=St("input"),uf=(St("textarea"),rf.length),af="}".length,sf="\"'`[{",cf=cr(sf.split(""),We),ff=cr(/"(?:[^\\"\n]|\\.)*"|'(?:[^\\'\n]|\\.)*'|`(?:[^\\`]|\\.)*`/,!1,"'\"`",We),lf=Ar("ExprObject",function(){return["{",Pr("ObjBody",[ff,lf,hf,cf,new RegExp("[^"+$t(sf+"}")+"]+")],We),"}"]},We),hf=Ar("ExprArray",function(){return["[",Pr("ArrayBody",[ff,lf,hf,cf,new RegExp("[^"+$t(sf+"]")+"]+")],We),"]"]}),df=Ar("Expr",[["ExprStart",rf,$f],Pr("ExprBody",[ff,lf,hf,cr((sf+rf[0]).split(""),We),new RegExp("[^"+$t(sf+rf[0]+"}"[0])+"]+")],We),["ExprEnd","}",$f]],function(t,n,e){var r=t[0],i=t[1];n.add([e.orgbuff.substring(r,i-af),r-uf,i])});function pf(t,n,e){return Ar(t,[cr(n,$f),Pr([df,rf[0],new RegExp("(?:[^\\\\"+(e?"":"\\n")+n+$t(rf[0])+"]|\\\\.)+")]),cr(n,$f)],function(t,n,e){var r=e.orgbuff,i=t[0],o=t[2]-1,u=t[1];if(u.length){for(var a,s=i-1,c=0,f=u.length,l=[];c<f;c++)i<(a=u[c][1])&&l.push(h(r,i,a)),l.push("("+u[c][0]+")"),i=u[c][2];i<o&&l.push(h(r,i,o)),n.add(["expr",l.join(" + "),s,o+1])}else n.add(["string",r.substring(i,o)])});function h(t,n,e){return'"'+Se(t.substring(n,e))+'"'}}var vf=Or("Attrs",[cr("AttrName",/([@:$_a-zA-Z][\w-\.]*)\s*/,1),kr("AttrValue",[[/=\s*/,!1,"=",We],$r("AttrValue",[pf("SQString","'"),pf("DQString",'"'),pf("MString","`",!0),Ar(df,Ef("expr",function(t){return t[0][0]})),cr("Number",/-?(0|[1-9]\d*)(\.\d+)?([eE][+-]?\d+)?/,"-0123456789",Ef("number",function(t){return+t})),cr("NaN",Af("number",NaN)),cr("undefined",Af("undefined",undefined)),cr("null",Af("null",undefined)),cr("true",Af("boolean",!0)),cr("false",Af("boolean",!1))],{capturable:!1,attach:function(t,n){n.add(t[0])}}),/\s*/])],function(t,n){for(var e={},r=0,i=t.length;r<i;r+=2)e[t[r]]=t[r+1][0];n.add(e)}),gf="[_a-zA-Z][\\w-]*",mf=cr("ElemName",new RegExp("<("+gf+")\\s*"),1,"<"),bf=Pr("NodeCollection",function(){return[yf,Ar(df,function(t,n,e){n.add({type:"expr",data:t[0][0]})}),cr("<",function(t,n,e,r){if(47===e.nextCode())return r.error(e,"expect: /<[^/]/",!0);xf(t,n)}),cr(rf[0],xf),cr(new RegExp("[^\\\\<"+$t(rf[0])+"]+|\\\\"+$t(rf[0])),xf)]}),yf=Ar("Elem",[mf,vf,$r("ElemBody",[cr(/\/>\s*/,!1,"/",We),Ar("childNodes",[cr(/>/,!1,">",We),bf,kr([cr("ElemClose",new RegExp("</("+gf+")>\\s*"),1,"<")],function(t,n,e){var r=t[0],i=n.parent.parent.data[0];if(r){if(r!==i){if(!of[i])return"expect: </"+i+">";e.reset()}}else if(!of[i])return"expect: </"+i+">"})])])],function(t,n){var e=t[0],r=t[2][0]&&t[2][0][0],i={type:"elem",tag:e,attrs:t[1],children:r};n.add(i),r&&of[e]&&(n.addAll(r),r.length=0)});function xf(t,n){var e,r=n.data,i=r.length;i&&(e=r[i-1])&&"text"===e.type?e.data+=t:n.add({type:"text",data:t})}var wf=Ar("Elem-Content",[/\s*/,Sr(yf),cr("EOF",/\s*$/,We)],function(t,n){n.addAll(t[0])}).init();function Ef(e,r){return function(t,n){n.add([e,r(t)])}}function Af(t,n){return Ef(t,function(t){return t})}function $f(t,n,e){n.add(e.orgOffset())}h.global=d,h.create=nt,h.assign=cn,h.assignIf=function Df(t){return sn(t,arguments,1,ln)},h.assignBy=function Vf(t,n){return sn(t,arguments,2,hn,n)},h.extend=pn,h.extendIf=function Bf(t){return dn(t,arguments,1,gn)},h.extendBy=mn,h.inherit=xn,h.superCls=An,h.subclassOf=function Mf(t,n){if(n===Object)return!0;for(var e=t;e=An(e);)if(e===n)return!0;return!1},h.createClass=Sn,h.each=at,h.eachArray=rt,h.eachStr=it,h.eachObj=ct,h.reach=st,h.reachArray=ot,h.reachStr=ut,h.eachChain=function zf(t,n,e,r){r&&(e=e.bind(r));for(var i=0,o=t.length;i<o;i++)if((n=e(t[i],i,n,t))===et)return et;return n},h.STOP=et,h.map=yt,h.mapArray=gt,h.mapStr=mt,h.mapObj=bt,h.SKIP=vt,h.filter=Rn,h.filterArray=Nn,h.filterStr=Pn,h.filterObj=Tn,h.find=Dn,h.findArray=jn,h.findStr=Ln,h.findObj=Fn,h.rfind=Bn,h.rfindStr=Vn,h.indexOf=qn,h.indexOfArray=zn,h.indexOfObj=Hn,h.lastIndexOf=Kn,h.lastIndexOfArray=Un,h.obj2array=Gn,h.keys=Yn,h.values=Wn,h.eq=a,h.isNull=function Hf(t){return null===t},h.isUndef=function Uf(t){return t===undefined},h.isNil=c,h.isFn=f,h.is=function qf(t,n){if(t===undefined||null===t)return!1;var e=t[o];if(n[o]!==Array)return e?e===n:n===Object;if(e){for(var r=0,i=n.length;r<i;r++)if(e===n[r])return!0}else for(r=0,i=n.length;r<i;r++)if(n[r]===Object)return!0;return!1},h.isObj=l,h.isBool=p,h.isNum=v,h.isStr=g,h.isDate=m,h.isReg=b,h.isArray=y,h.isInt=x,h.isTypedArray=w,h.isArrayLike=E,h.isInstOf=function Kf(t,n){return t!==undefined&&null!==t&&t instanceof n},h.isPrimitive=A,h.isBlank=function Xf(t){return!t||(t[o]===String?$.test(t):0===t.length)},h.applyScope=C,h.applyNoScope=O,h.applyScopeN=S,h.applyNoScopeN=k,h.apply=N,h.applyN=function Zf(t,n,e,r,i){switch(n){case undefined:case null:return k(t,e,r,i)}return S(t,n,e,r,i)},h.createFn=P,h.fnName=R,h.trim=V,h.upperFirst=z,h.strval=H,h.charCode=U,h.genCharCodes=function Gf(t,n){t=U(t),n=U(n);for(var e=new Array(n-t+1),r=t;r<=n;r++)e[r-t]=t;return e},h.reEscape=$t,h.reUnion=function Yf(t){return t.length?"(?:"+gt(t,function(t){return"(?:"+t+")"}).join("|")+")":"(?!)"},h.regStickySupport=_t,h.regUnicodeSupport=Ct,h.array2obj=Ot,h.makeMap=St,h.makeArray=Nt,h.cached=function Wf(e,r){var i=nt(null);return function(){var t=applyNoScope(e,arguments),n=i[t];return n||(i[t]=n=applyNoScope(r,arguments)),n}},h.hasOwnProp=K,h.getOwnProp=X,h.prototypeOfSupport=Y,h.prototypeOf=W,h.setPrototypeOf=Q,h.defPropSupport=on,h.defProp=un,h.defPropValue=an,h.Parser=Rr,h.List=te,h.FnList=le,h.nextTick=_e,h.clearTick=function Qf(t,n){be.remove(t,n)},h.escapeString=Se,h.pad=ke,h.plural=Pe,h.singular=Te,h.thousandSeparate=function Jf(t){var n=(t+"").split(".");return n[0]=n[0].replace(Re,"$1,"),n.join(".")},h.format=Fe,h.parsePath=ze,h.formatPath=He,h.get=qe,h.set=Ke,h.defaultProps=Vr,h.isDefaultProp=Xr,h.isProxyEnabled=function tl(){return zr},h.$set=function nl(t,n,e){n=ze(n);var r=h.getObserver(t);if(r)return xi(r,n,e,!zr);Ke(t,n)},h.observer=wi,h.observe=Ei,h.unobserve=Ai,h.isObserved=$i,h.$getOwnProp=function rl(t,n,e){return h.$hasOwnProp(t,n)?t[n]:e},h.$eachArray=_i,h.$reachArray=Ci,h.$each=Oi,h.$reach=Si,h.$eachObj=ki,h.$mapArray=Pi,h.$mapObj=Ti,h.$map=Ri,h.$filterArray=Ii,h.$filterObj=ji,h.$filter=Li,h.$findArray=Fi,h.$findObj=Di,h.$find=Vi,h.$rfindArray=Bi,h.$rfind=Mi,h.$indexOfArray=zi,h.$indexOfObj=Hi,h.$lastIndexOfArray=Ui,h.$indexOf=qi,h.$lastIndexOf=Ki,h.$assign=function il(t){return sn(t,arguments,1,Gi)},h.$assignIf=function ol(t){return sn(t,arguments,1,Zi)},h.$assignBy=function ul(t,n){return sn(t,arguments,2,Xi,n)},h.$obj2array=Yi,h.$keys=Qi,h.$values=Ji,h.tags=bu,h.registerVElement=yu,h.registerVText=xu,h.registerVBindingText=wu,h.registerVComment=Eu,h.elem=function al(t,n,e,r){var i=mu[t];r&&!r.length&&(r=undefined),Xt(i,"Virtual Element["+t+"] is undefined"),Xt(!r||!r.length||i[s][ao],"Virtual Element["+t+"] have no children");var o=$u(i,{attrs:n,directives:e,children:r});return o.ename=t,o},h.text=Au,h.comment=function sl(t){return $u(gu,t)},h.VNode=co,h.VText=fo,h.VBindingText=Yo,h.VElement=Wo,h.VComplexElement=eu,h.Compontent=cu,h.VComment=fu,h.TransformExpression=Ho,h.transforms=Bo,h.directives=lu,h.Directive=hu,h.registerDirective=du,h.directive=function cl(t,n,e){var r=lu[t];function i(t){return new r(t,e)}return Xt(r,"Directive["+t+"] is undefined"),e||(e={}),e.value=n,e=r[s].prepare(e,r)||e,i.params=e,i.dname=t,i.Directive=r,i},h.HTMLElement=Ac,h.HTMLComplexElement=Tc,h.HTMLCompontent=Rc,h.HTMLComment=Ic,h.HTMLText=Lc,h.HTMLBindingText=Fc,h.ExpressionDirective=Zc,h.EventDirective=Gc,h.DomDirective=Xc,h.eventFilters=Bc,h.EventKeyword=Mc,h.EventExpression=Uc,h.keyCodes=Kc,h.keywords=lo,h.IDENTITY_OPT_GET=Oo,h.IDENTITY_OPT_SET=So,h.IDENTITY_OPT_CALL=ko,h.Expression=Fo,h.NodeParser=wf,Object.defineProperty(h,"__esModule",{value:!0})});
//# sourceMappingURL=argilo.min.js.map
