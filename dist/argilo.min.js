!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("argilo",e):t.argilo=e()}(this,function(){function t(t,e){return 1==arguments.length?Y[t]:Y[t]=e}function e(t,e){return Y.eq(t,e)}function n(t,e){return Y.hasOwn(t,e)}function r(){}function i(t){return void 0!==t}function o(t){return null===t}function s(t){return void 0===t||null===t}function c(t){return et.call(t)==ot}function u(t){return et.call(t)==st}function a(t){return et.call(t)==ct}function f(t){return et.call(t)==ut}function l(t){return et.call(t)==at}function h(t){return et.call(t)==rt}function p(t){var e=et.call(t);switch(e){case nt:case rt:case ut:case lt:return!0}if(t){var r=t.length;return u(r)&&(0===r||r>0&&n(t,r-1))}return!1}function d(t){return et.call(t)==it}function v(t){return et.call(t)==ft}function g(t){if(s(t))return!0;var e=et.call(t);switch(e){case ot:case st:case ut:case it:return!0}return!1}function _(t,e,r,i){var o=void 0,s=void 0,c=0;r=r||t;for(o in t)if((s=n(t,o))||i===!1){if(e.call(r,t[o],o,t,s)===!1)return!1;c++}return c}function b(t,e,n){var r=0,i=t.length;for(n=n||t;r<i;r++)if(e.call(n,t[r],r,t,!0)===!1)return!1;return r}function y(t,e,n,r){return p(t)?b(t,e,n):s(t)?0:_(t,e,n,r)}function j(t,e,n,r){var i=p(t),o=i?[]:{},s=i?b:_;return s(t,function(t,n){o[n]=e.apply(this,arguments)},n,r),o}function m(t,e,n,r){var i=p(t),o=i?[]:{},s=i?b:_;return s(t,function(t,n){e.apply(this,arguments)&&(i?o.push(t):o[n]=t)}),o}function O(t,e,n,r,i){var o=n;return y(t,function(t,n,r,i){o=e.call(this,o,t,n,r,i)},r,i),o}function x(t,n){for(var r=0,i=t.length;r<i;r++)if(e(t[r],n))return r;return-1}function $(t,n){for(var r=t.length;r-- >0;)if(e(t[r],n))return r;return-1}function w(t,r,i){var o=void 0;for(o in t)if((i===!1||n(t,o))&&e(t[o],r))return o}function z(t,e,n){return p(t)?x(t,e):w(t,e,n)}function k(t,e,n){return p(t)?$(t,e):w(t,e,n)}function A(t,e,n,r,i){var o={};return y(t,function(t,r){o[e?e.apply(this,arguments):r]=n?n.apply(this,arguments):t},r,i),o}function C(t,e,n,r){var i={};return y(t,function(t,n){i[t]=e?e.apply(this,arguments):n},n,r),i}function E(t,e,n,r){var i=[];return y(t,function(t,n){e&&!e.apply(this,arguments)||i.push(n)},n,r),i}function N(t,e,n,r){var i=[];return y(t,function(t,n){e&&!e.apply(this,arguments)||i.push(t)},n,r),i}function T(t,e,r){return n(t,e)?t[e]:r}function P(t){for(var e=void 0,r=void 0,i=1,o=arguments.length;i<o;i++){e=arguments[i];for(r in e)n(e,r)&&!n(t,r)&&(t[r]=e[r])}return t}function L(t,e){var n=void 0,r=dt.call(t);return r==rt?t:r!=ut?[]:(n=vt[t])?n:(n=e!==!1?vt[t]=[]:[],t.replace(gt,function(t,e,r,i){n.push(r?i.replace(_t,"$1"):e||t)}),n)}function D(t,e,r,i,o){for(var c=0,u=L(e,o),a=u.length-1,f=void 0;c<a&&!s(t);c++){if(f=u[c],i&&!n(t,f))return r;t=t[f]}return f=u[c],c!=a||s(t)||i&&!n(t,f)?r:t[f]}function F(t,e,r,i){for(var o=0,c=L(e,i),u=c.length-1,a=void 0;o<u&&!s(t);o++){if(a=c[o],r&&!n(t,a))return!1;t=t[a]}return a=c[o],o==u&&!s(t)&&(r?n(t,a):a in t)}function M(t,e,n){for(var r=0,i=L(e,!0),o=i.length-1,c=i[0],u=t,a=void 0;r++<o;)a=u[c],u=s(a)?u[c]={}:a,c=i[r];return u[c]=n,t}function S(t){return t.toUpperCase()}function Z(t){return t.replace($t,S)}function q(t){return t.replace(wt,"")}function B(t){return t.replace(zt,"")}function G(t){return t.replace(kt,"")}function H(t){for(var e=void 0,n=0;n<4;n++)if(e=Et[n],e.reg.test(t))return t.replace(e.reg,e.rep);return t}function I(t){for(var e=void 0,n=0;n<4;n++)if(e=Nt[n],e.reg.test(t))return t.replace(e.reg,e.rep);return t}function U(t){var e=(t+"").split(".");return e[0]=e[0].replace(At,"$1,"),e.join(".")}function X(t,e,n,r){var i=t.length,o=i>=e?"":Array(1+e-i>>>0).join(n);return r?t+o:o+t}function R(t,e){function n(t){return t=t?"*"==t?+e[i++]:"$"==t?+e[i]:"$"==t.charAt(t.length-1)?+e[t.slice(0,-1)-1]:+t:0,isFinite(t)?t<0?0:t:0}function r(t){return t&&"*"!=t?"$"==t?e[i]:e[t.slice(0,-1)-1]:e[i++]}var i=0;return t=t.replace(Ct,function(t,e,i,o,c,u){if("%"===u)return"%";var a=r(e);o=n(o),c=c&&n(c.slice(1)),c||0===c||(c="fFeE".indexOf(u)==-1?"d"==u?0:void 0:6);var f=!1,l="",h=!1,p=!1,d=!1,v=void 0,g=void 0;switch(i&&y(i,function(t){switch(t){case" ":case"+":l=t;break;case"-":f=!0;break;case"0":h=!0;break;case"#":p=!0;break;case",":d=!0}}),u){case"c":return String.fromCharCode(+a);case"s":return s(a)&&!isNaN(a)?"":(a+="",c&&a.length>c&&(a=a.slice(0,c)),a.length<o&&(a=X(a,o,h?"0":" ",!1)),a);case"d":return a=parseInt(a),isNaN(a)?"":(a<0?(v="-",a=-a):v=l,a+="",a.length<o&&(a=X(a,o,"0",!1)),d&&(a=a.replace(At,"$1,")),v+a);case"e":case"E":case"f":case"g":case"G":case"p":case"P":var _=+a;if(isNaN(_))return"";_<0?(v="-",_=-_):v=l;var b=void 0,j=u.toLowerCase();if("p"!=j)b=["toExponential","toFixed","toPrecision"]["efg".indexOf(j)];else{var m=String(a).replace(/[eE].*|[^\d]/g,"");m=(_?m.replace(/^0+/,""):m).length,c&&(c=Math.min(c,m)),b=!c||c<=m?"toPrecision":"toExponential"}if(_=_[b](c),_.length<o&&(_=X(_,o,"0",!1)),d){var O=_.split(".");O[0]=O[0].replace(At,"$1,"),_=O.join(".")}return a=v+_,"EGP".indexOf(u)!=-1?a.toUpperCase():a;case"b":g=2;break;case"o":g=8;break;case"u":g=10;break;case"x":case"X":g=16;break;case"n":return"";default:return t}var x=a>>>0;return v=p&&10!=g&&x&&["0b","0","0x"][g>>3]||"",x=x.toString(g),x.length<o&&(x=X(x,o,"0",!1)),a=v+x,"X"==u?a.toUpperCase():a}),{format:t,count:i}}function K(t){return R(t,xt.call(arguments,1)).format}function J(t,e){if(!d(t))return t instanceof e;for(var n=t;(n=bt(n))&&n!==Object;)if(n===e)return!0;return e===Object}function Q(){}function V(t){var e=function(){this.constructor.apply(this,arguments)},n=t.extend,r=void 0,i=void 0;return jt(e,Q),d(n)&&n!==Object||(n=Q),r=n.prototype,i=mt(r),e.superclass=r,e.prototype=i,yt(e,n),delete t.extend,e.extend(t)}Object.freeze||(Object.freeze=function(t){return t});var W=Object.prototype.hasOwnProperty,Y={hasOwn:function(t,e){return W.call(t,e)},eq:function(t,e){return t===e}},tt=Object.freeze({policy:t,eq:e,hasOwnProp:n,emptyFunc:r}),et=Object.prototype.toString,nt="[object Arguments]",rt="[object Array]",it="[object Function]",ot="[object Boolean]",st="[object Number]",ct="[object Date]",ut="[object String]",at="[object Object]",ft="[object RegExp]",lt="[object NodeList]",ht=Object.freeze({argsType:nt,arrayType:rt,funcType:it,boolType:ot,numberType:st,dateType:ct,stringType:ut,objectType:at,regexpType:ft,nodeListType:lt,isDefine:i,isNull:o,isNil:s,isBool:c,isNumber:u,isDate:a,isString:f,isObject:l,isArray:h,isArrayLike:p,isFunc:d,isRegExp:v,isPrimitive:g}),pt=Object.freeze({each:y,map:j,filter:m,aggregate:O,indexOf:z,lastIndexOf:k,convert:A,reverseConvert:C}),dt=Object.prototype.toString,vt={},gt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,_t=/\\(\\)?/g,bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__},yt=Object.setPrototypeOf||function(t,e){t.__proto__=e},jt=Object.assign||function(t){for(var e=void 0,r=void 0,i=1,o=arguments.length;i<o;i++){e=arguments[i];for(r in e)n(e,r)&&(t[r]=e[r])}return t},mt=Object.create||function(t,e){r.prototype=t;var n=new r;return r.prototype=void 0,e&&y(e,function(t,e){n[e]=t.value}),n},Ot=Object.freeze({keys:E,values:N,getOwnProp:T,prototypeOf:bt,setPrototypeOf:yt,assign:jt,assignIf:P,create:mt,parseExpr:L,get:D,has:F,set:M}),xt=Array.prototype.slice,$t=/^[a-z]/,wt=/^\s+/,zt=/\s+$/,kt=/(^\s+)|(\s+$)/g,At=/(\d)(?=(\d{3})+(?!\d))/g,Ct=/%(\d+\$|\*|\$)?([-+#0, ]*)?(\d+\$?|\*|\$)?(\.\d+\$?|\.\*|\.\$)?([%sfducboxXeEgGpP])/g,Et=[{reg:/([a-zA-Z]+[^aeiou])y$/,rep:"$1ies"},{reg:/([a-zA-Z]+[aeiou]y)$/,rep:"$1s"},{reg:/([a-zA-Z]+[sxzh])$/,rep:"$1es"},{reg:/([a-zA-Z]+[^sxzhy])$/,rep:"$1s"}],Nt=[{reg:/([a-zA-Z]+[^aeiou])ies$/,rep:"$1y"},{reg:/([a-zA-Z]+[aeiou])s$/,rep:"$1"},{reg:/([a-zA-Z]+[sxzh])es$/,rep:"$1"},{reg:/([a-zA-Z]+[^sxzhy])s$/,rep:"$1"}];K.format=R;var Tt=Object.freeze({upperFirst:Z,ltrim:q,rtrim:B,trim:G,plural:H,singular:I,thousandSeparate:U,format:K});jt(Q.prototype,{super:function(t){var e=arguments.callee.caller;e.$owner.superclass[e.$name].apply(this,t||emptyArray)},superclass:function(){var t=arguments.callee.caller;return t.$owner.superclass}}),jt(Q,{extend:function(t){var e=this;if(t){var n=this.prototype;y(t,function(t,r){d(t)&&(t.$owner=e,t.$name=r),n[r]=t}),this.assign(t.statics)}return this},assign:function(t){return t&&jt(this,t),this}});var Pt=Object.freeze({isExtendOf:J,Base:Q,dynamicClass:V}),Lt="__linked_list__",Dt=1,Ft=V({statics:{ListKey:Lt},constructor:function(){this._id=Dt++,this.length=0,this._header=void 0,this._tail=void 0,this._version=1},_listObj:function(t){return n(t,Lt)&&t[Lt]},_desc:function(t){var e=this._listObj(t);return e&&e[this._id]},_newDesc:function(t){return{obj:t,prev:void 0,next:void 0,version:this._version++}},_getOrCreateDesc:function(t){var e=this._listObj(t)||(t[Lt]={}),n=e[this._id];return n||(e[this._id]=this._newDesc(t))},_unlink:function(t){var e=t.prev,n=t.next;e?e.next=n:this._header=n,n?n.prev=e:this._tail=e,this.length--},_move:function(t,e,n){var r=this._header;(r===t||t.prev)&&this._unlink(t),t.prev=e,e?(t.next=e.next,e.next=t):(t.next=r,r&&(r.prev=t),this._header=t),this._tail===e&&(this._tail=t),this.length++},_remove:function(t){var e=t.obj,n=this._listObj(e);this._unlink(t),delete n[this._id]},push:function(){var t=this,e=0;return y(arguments,function(n){var r=t._listObj(n)||(n[Lt]={});r[t._id]||(t._move(r[t._id]=t._newDesc(n),t._tail),e++)}),e},pop:function(){var t=this._header;if(t)return this._remove(t),t.obj},shift:function(){var t=this._tail;if(t)return this._remove(t),t.obj},first:function(){var t=arguments.length;if(!t){var e=this._header;return e&&e.obj}for(;t--;)this._move(this._getOrCreateDesc(arguments[t]),void 0);return this},last:function(){var t=this;return arguments.length?(y(arguments,function(e){t._move(t._getOrCreateDesc(e),t._tail)}),this):this._tail&&this._tail.obj},before:function(t){var e=arguments.length,n=this._desc(t),r=n&&n.prev;if(1==e)return r&&r.obj;for(;e-- >1;)this._move(this._getOrCreateDesc(arguments[e]),r);return this},after:function(t){var e=arguments.length,n=this._desc(t);if(1==e){var r=n&&n.next;return r&&r.obj}for(;e-- >1;)this._move(this._getOrCreateDesc(arguments[e]),n);return this},contains:function(t){return!!this._desc(t)},remove:function(){var t=this,e=0;return y(arguments,function(n){var r=t._listObj(n),i=r&&r[t._id];i&&(t._unlink(i),delete r[t._id],e++)}),e},clean:function(){for(var t=this._header;t;)delete this._listObj(t.obj)[this._id],t=t.next;return this._header=void 0,this._tail=void 0,this.length=0,this},empty:function(){return 0==this.length},size:function(){return this.length},each:function(t,e){for(var n=this._header,r=this._version;n;){if(n.version<r&&t.call(e||this,n.obj,this)===!1)return!1;n=n.next}return!0},map:function(t,e){var n=this,r=[];return this.each(function(i){r.push(t.call(e||n,i,n))}),r},filter:function(t,e){var n=this,r=[];return this.each(function(i){t.call(e||n,i,n)&&r.push(i)}),r},toArray:function(){var t=[];return this.each(function(e){t.push(e)}),t}}),Mt=V({constructor:function(t){this.cfg=t||{},this.listens=[]},register:function(t,e){var n=this;return 1==arguments.length?y(t,function(t,e){n.cfg[e]=t}):this.cfg[t]=e,this},config:function(t){var e=this;return t&&y(this.cfg,function(r,i){if(n(t,i)){var o=e.cfg[i],r=t[i];e.cfg[i]=r,y(e.listens,function(t){return t(i,r,o,e)})}}),this},get:function(t){return arguments.length?this.cfg[t]:mt(this.cfg)},listen:function(t){this.listens.push(t)},unlisten:function(t){var e=k(this.listens,t);e!=-1&&this.listens.splice(e,1)}}),St=["debug","info","warn","error"],Zt=document.createElement("div"),qt=Array.prototype.slice,Bt=V({constructor:function(){Zt.innerHTML='<div id="simulation_console"\n    style="position:absolute; top:0; right:0; font-family:courier,monospace; background:#eee; font-size:10px; padding:10px; width:200px; height:200px;">\n  <a style="float:right; padding-left:1em; padding-bottom:.5em; text-align:right;">Clear</a>\n  <div id="simulation_console_body"></div>\n</div>',this.el=Zt.childNodes[0],this.clearEl=this.el.childNodes[0],this.bodyEl=this.el.childNodes[1]},appendTo:function(t){t.appendChild(this.el)},log:function(t,e){Zt.innerHTML='<span style="'+t+'">'+e+"</span>",this.bodyEl.appendChild(Zt.childNodes[0])},parseMsg:function(t){var e=t[0];if(f(e)){var n=K.format.apply(null,t);return[n.format].concat(qt.call(t,n.count)).join(" ")}return t.join(" ")},debug:function(){this.log("color: red;",this.parseMsg(arguments))},info:function(){this.log("color: red;",this.parseMsg(arguments))},warn:function(){this.log("color: red;",this.parseMsg(arguments))},error:function(){this.log("color: red;",this.parseMsg(arguments))},clear:function(){this.bodyEl.innerHTML=""}}),Gt=window.console;Gt&&!Gt.debug&&(Gt.debug=function(){Function.apply.call(Gt.log,Gt,arguments)});var Ht=V({statics:{enableSimulationConsole:function(){Gt||(Gt=new Bt,Gt.appendTo(document.body))}},constructor:function(t,e){this.module=t,this.level=z(St,e||"info")},setLevel:function(t){this.level=z(St,t||"info")},getLevel:function(){return St[this.level]},_print:function(t,e,n){Function.apply.call(Gt[t],Gt,e),n&&Gt.trace&&Gt.trace()},_log:function(t,e,n){if(!(t<this.level)&&Gt){var r="[%s] %s -"+(f(e[0])?" "+e.shift():""),i=[];e=m(e,function(t){return!(t instanceof Error)||(i.push(t),!1)}),y(i,function(t){e.push.call(e,t.message,"\n",t.stack)}),t=St[t],this._print(t,[r,t,this.module].concat(e),n)}},debug:function(){this._log(0,qt.call(arguments,0))},info:function(){this._log(1,qt.call(arguments,0))},warn:function(){this._log(2,qt.call(arguments,0))},error:function(){this._log(3,qt.call(arguments,0))}});Ht.logger=new Ht("default","info");var It=jt({LinkedList:Ft,Configuration:Mt},tt,ht,pt,Ot,Tt,Pt);return It});
//# sourceMappingURL=argilo.min.js.map