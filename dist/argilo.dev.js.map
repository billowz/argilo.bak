{"version":3,"file":"argilo.dev.js","sources":["../src/helper/constants.js","../src/helper/is.js","../src/helper/function.js","../src/polyfill/function.js","../src/polyfill/query.js","../src/helper/string.js","../src/helper/ownProp.js","../src/helper/prototypeOf.js","../src/helper/create.js","../src/helper/each.js","../src/helper/map.js","../src/helper/reg.js","../src/helper/util.js","../node_modules/.registry.npm.taobao.org/devlevel/0.0.2/node_modules/devlevel/dist/devlevel.es.js","../src/helper/defineProperty.js","../src/helper/assign.js","../src/helper/extend.js","../src/helper/inherit.js","../src/helper/class.js","../src/helper/filter.js","../src/helper/find.js","../src/helper/indexOf.js","../src/helper/obj2array.js","../src/helper/index.js","../src/common/List.js","../src/common/FnList.js","../src/common/nextTick.js","../src/common/format.js","../src/common/path.js","../src/common/ASTBuilder.js","../src/common/ast/index.js","../src/common/index.js","../src/observer/es6.js","../src/observer/es5.js","../src/observer/vb.js","../src/observer/observer.js","../src/observer/each.js","../src/observer/map.js","../src/observer/filter.js","../src/observer/find.js","../src/observer/indexOf.js","../src/observer/assign.js","../src/observer/obj2array.js","../src/vnode/VNode.js","../src/vnode/VText.js","../src/Expression.js","../src/vnode/expression/identityHandler.js","../src/vnode/expression/TransformExpression.js","../src/vnode/expression/transforms.js","../src/vnode/expression/index.js","../src/vnode/VBindingText.js","../src/vnode/VElement.js","../src/vnode/VComplexElement.js","../src/vnode/Compontent.js","../src/vnode/VComment.js","../src/vnode/Directive.js","../src/vnode/index.js","../src/vdom/util/util.js","../src/vdom/HTMLMixin.js","../src/vdom/ElementMixin.js","../src/vdom/util/hook.js","../src/vdom/ElementAttrMixin.js","../src/vdom/ElementClassMixin.js","../src/vdom/util/index.js","../src/vdom/ElementStyleMixin.js","../src/vdom/ElementValueMixin.js","../src/vdom/ElementEventMixin.js","../src/vdom/Element.js","../src/vdom/ComplexElement.js","../src/vdom/Compontent.js","../src/vdom/Comment.js","../src/vdom/Text.js","../src/vdom/elements.js","../src/vdom/expression/EventExpression.js","../src/vdom/expression/eventFilters.js","../src/vdom/expression/index.js","../src/vdom/directives/DomDirective.js","../src/vdom/directives/ExpressionDirective.js","../src/vdom/directives/EventDirective.js","../src/vdom/directives/eventDirectives.js","../src/vdom/directives/directives.js","../src/compile/NodeParser.js"],"sourcesContent":["/**\n * @module helper/constants\n * @author Tao Zeng (tao.zeng.zt@qq.com)\n * @created 2018-11-09 15:23:35\n * @modified 2018-11-09 15:23:35 by Tao Zeng (tao.zeng.zt@qq.com)\n */\n\n/** @constant {string} */\nexport const CONSTRUCTOR = 'constructor'\n\n/** @constant {string} */\nexport const PROTOTYPE = 'prototype'\n\n/** @constant {string} */\nexport const PROTO = '__proto__'\n\n/** @constant {string} */\nexport const global = window || global\n","// @flow\n/**\n * type checker\n * @module helper/is\n * @author Tao Zeng <tao.zeng.zt@qq.com>\n * @created Mon Dec 11 2017 13:57:32 GMT+0800 (China Standard Time)\n * @modified Sat Nov 10 2018 12:34:23 GMT+0800 (China Standard Time)\n */\n\nimport { CONSTRUCTOR, global } from './constants'\n\nconst BOOL = 'boolean',\n\tFN = 'function',\n\tNUM = 'number',\n\tSTR = 'string'\n\n/**\n * is equals\n * > o1 === o2 || NaN === NaN\n * @function\n * @param  {any} o1\n * @param  {any} o2\n * @returns {boolean}\n */\nexport function eq(o1: any, o2: any): boolean {\n\treturn o1 === o2 || (o1 !== o1 && o2 !== o2)\n}\n\n/**\n * is null\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport function isNull(o: any): boolean {\n\treturn o === null\n}\n\n/**\n * is undefined\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport function isUndef(o: any): boolean {\n\treturn o === undefined\n}\n\n/**\n * is null or undefined\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport function isNil(o: any): boolean {\n\treturn o === null || o === undefined\n}\n\n/**\n * is a Function\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport function isFn(fn: any): boolean {\n\treturn typeof fn === FN\n}\n\n/**\n * is child instance of Type\n * @function\n * @param {Object|Array} o\n * @param {Function} Type\n */\nexport function is(o: Object | Array, Type: Function): boolean {\n\tif (o === undefined || o === null) return false\n\tconst c = o[CONSTRUCTOR]\n\tif (Type[CONSTRUCTOR] === Array) {\n\t\tif (c) {\n\t\t\tfor (var i = 0, l = Type.length; i < l; i++) if (c === Type[i]) return true\n\t\t} else {\n\t\t\tfor (var i = 0, l = Type.length; i < l; i++) if (Type[i] === Object) return true\n\t\t}\n\t\treturn false\n\t}\n\treturn c ? c === Type : Type === Object\n}\n\n// TODO object has constructor property\n/**\n * is simple Object\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport function isObj(o: any): boolean {\n\tif (o === undefined || o === null) return false\n\tconst C = o[CONSTRUCTOR]\n\treturn C === undefined || C === Object\n}\n\nfunction mkIs(Type: Function): (o: any) => boolean {\n\treturn o => o !== undefined && o !== null && o[CONSTRUCTOR] === Type\n}\n\n/**\n * is boolean or Boolean\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport const isBool: (o: any) => boolean = mkIs(Boolean)\n\n/**\n * is a number or Number\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport const isNum: (o: any) => boolean = mkIs(Number)\n\n/**\n * is string or String\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport const isStr: (o: any) => boolean = mkIs(String)\n\n/**\n * is Date\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport const isDate: (o: any) => boolean = mkIs(Date)\n\n/**\n * is number\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport const isReg: (o: any) => boolean = mkIs(RegExp)\n\n/**\n * is Array\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport const isArray: (o: any) => boolean = Array.isArray || mkIs(Array)\n\n/**\n * is integer number\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport function isInt(o: any): boolean {\n\treturn o === 0 || (o ? o[CONSTRUCTOR] === Number && o % 1 === 0 : false)\n}\n\n/**\n * is Typed Array\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport const isTypedArray: (o: any) => boolean = ArrayBuffer ? ArrayBuffer.isView : () => false\n\n/**\n * is Array or pseudo-array\n * - Array\n * - String\n * - Arguments\n * - NodeList\n * - HTMLCollection\n * - Typed Array\n * - {length: int, [length-1]: any}\n *\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport function isArrayLike(o: any): boolean {\n\tif (o === undefined || o === null) return false\n\tswitch (o[CONSTRUCTOR]) {\n\t\tcase Array:\n\t\tcase String:\n\t\tcase global.NodeList:\n\t\tcase global.HTMLCollection:\n\t\tcase global.Int8Array:\n\t\tcase global.Uint8Array:\n\t\tcase global.Int16Array:\n\t\tcase global.Uint16Array:\n\t\tcase global.Int32Array:\n\t\tcase global.Uint32Array:\n\t\tcase global.Float32Array:\n\t\tcase global.Float64Array:\n\t\t\treturn true\n\t}\n\tconst len = o.length\n\treturn typeof len === NUM && (len === 0 || (len > 0 && len % 1 === 0 && len - 1 in o))\n}\n\n/**\n * is instanceof\n * @function\n * @param  {any} obj\n * @param  {Function} cls\n * @returns {boolean}\n */\nexport function isInstOf(obj: any, Cls: Function): boolean {\n\treturn obj !== undefined && obj !== null && obj instanceof Cls\n}\n\n/**\n * is primitive type\n * - boolean\n * - Boolean\n * - number\n * - Number\n * - string\n * - String\n * - Function\n * @function\n * @param  {any} obj\n * @param  {Function} cls\n * @returns {boolean}\n */\nexport function isPrimitive(o: any): boolean {\n\tif (o === undefined || o === null) return true\n\tswitch (typeof o) {\n\t\tcase BOOL:\n\t\tcase NUM:\n\t\tcase STR:\n\t\tcase FN:\n\t\t\treturn true\n\t}\n\treturn false\n}\n\nconst blankStrReg = /^\\s*$/\n/**\n * is empty\n * - string: trim(string).length === 0\n * - array: array.length === 0\n * - pseudo-array: pseudo-array.length === 0\n * @function\n * @param  {any} o\n * @returns {boolean}\n */\nexport function isBlank(o: any): boolean {\n\tif (!o) return true\n\tif (o[CONSTRUCTOR] === String) return blankStrReg.test(o)\n\treturn o.length === 0\n}\n","// @flow\n/**\n * Function Tool\n * @module helper/function\n * @author Tao Zeng <tao.zeng.zt@qq.com>\n * @created Mon Dec 11 2017 13:57:32 GMT+0800 (China Standard Time)\n * @modified Sat Nov 10 2018 12:39:00 GMT+0800 (China Standard Time)\n */\n\nimport { isStr } from './is'\n\n/**\n * apply function generator\n * @param  {number} max_args max arguments for optimize\n * @param  {any} scope \t\tis enable scope\n * @param  {number} offset\tis enable arguments range\n * @returns Function apply function\n */\nfunction applyBuilder(max_args: number, scope: any, offset: any): Function {\n\tscope = scope ? 'scope' : ''\n\toffset = offset ? 'offset' : ''\n\tconst args = new Array(max_args + 1)\n\tconst cases = new Array(max_args + 1)\n\tfor (var i = 0; i <= max_args; i++) {\n\t\targs[i] = `${i || scope ? ', ' : ''}args[${offset ? `offset${i ? ' + ' + i : ''}` : i}]`\n\t\tcases[i] = `case ${i}: return fn${scope && '.call'}(${scope}${args.slice(0, i).join('')});`\n\t}\n\treturn Function(`return function(fn, ${scope && scope + ', '}args${offset && ', offset, len'}){\nswitch(${offset ? 'len' : 'args.length'}){\n${cases.join('\\n')}\n}\n${offset &&\n\t\t`var arr = new Array(len);\nfor(var i=0; i<len; i++) arr[i] = arr[offset + i];`}\nreturn fn.apply(${scope || 'null'}, ${offset ? 'arr' : 'args'});\n}`)()\n}\n\n/**\n * apply function with scope\n * @function\n * @param  {Function} fn\n * @param  {any} scope\n * @param  {Array} args\n * @returns {any}\n */\nexport const applyScope: (fn: Function, scope: any, args: Array) => any = applyBuilder(8, 1, 0)\n\n/**\n * apply function without scope\n * @function\n * @param  {Function} fn\n * @param  {Array} args\n */\nexport const applyNoScope: (fn: Function, args: Array) => any = applyBuilder(8, 0, 0)\n\n/**\n * apply function with scope\n * @function\n * @param  {Function} fn\n * @param  {any} scope\n * @param  {Array} args\n * @param  {number} offset\tstart offset of args\n * @param  {number} len\t\targ size from offset\n * @returns {any}\n */\nexport const applyScopeN: (fn: Function, scope: any, args: Array, offset: number, len: number) => any = applyBuilder(8, 1, 1)\n/**\n * apply function without scope\n * @function\n * @param  {Function} fn\n * @param  {Array} args\n * @param  {number} offset\tstart offset of args\n * @param  {number} len\t\targ size from offset\n * @returns {any}\n */\nexport const applyNoScopeN: (fn: Function, args: Array, offset: number, len: number) => any = applyBuilder(8, 0, 1)\n\n/**\n * apply function\n * @param  {Function} fn\n * @param  {any} scope?\n * @param  {Array} args\n * @returns {any}\n */\nexport function apply(fn: Function, scope?: any, args: Array): any {\n\tswitch (scope) {\n\t\tcase undefined:\n\t\tcase null:\n\t\t\treturn applyNoScope(fn, args)\n\t}\n\treturn applyScope(fn, scope, args)\n}\n/**\n * apply function\n * @param  {Function} fn\n * @param  {any} scope?\n * @param  {Array} args\n * @param  {number} offset\tstart offset of args\n * @param  {number} len\t\targ size from offset\n * @returns {any}\n */\nexport function applyN(fn: Function, scope?: any, args: Array, offset: number, len: number): any {\n\tswitch (scope) {\n\t\tcase undefined:\n\t\tcase null:\n\t\t\treturn applyNoScopeN(fn, args, offset, len)\n\t}\n\treturn applyScopeN(fn, scope, args, offset, len)\n}\n/**\n * @param  {string} name?\tfunction name\n * @param  {Array} args?\tfunction arguments\n * @param  {string} body\tfunction body\n * @returns Function\n */\nexport function createFn(name, args, body): Function {\n\tconst l = arguments.length\n\tif (l === 1) {\n\t\tbody = name\n\t\tname = args = 0\n\t} else if (l === 2) {\n\t\tbody = args\n\t\tif (isStr(name)) {\n\t\t\targs = 0\n\t\t} else {\n\t\t\targs = name\n\t\t\tname = 0\n\t\t}\n\t}\n\treturn name ? Function(`return function ${name}(${args ? args.join(', ') : ''}){${body}}`)() : applyScope(Function, Function, args ? args.concat(body) : [body])\n}\n\nconst varGenReg = /\\$\\d+$/\n/**\n * get function name\n * @param  {Function} fn\n * @returns {string}\n */\nexport function fnName(fn: Function): string {\n\tconst name = fn.name\n\treturn name ? name.replace(varGenReg, '') : ''\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:35:27\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:35:27\n */\nimport { apply } from '../helper/function'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst funcProto = Function[PROTOTYPE]\nif (!funcProto.bind) {\n\tfuncProto.bind = function bind(scope) {\n\t\tconst fn = this,\n\t\t\tlen = arguments.length - 1\n\t\tif (len > 0) {\n\t\t\tvar args = new Array(len),\n\t\t\t\ti = 0\n\t\t\tfor (; i < len; i++) args[i] = arguments[i + 1]\n\n\t\t\treturn function() {\n\t\t\t\tlet l = arguments.length,\n\t\t\t\t\ti = 0\n\n\t\t\t\targs.length = len + l\n\t\t\t\tfor (; i < l; i++) args[len + i] = arguments[i]\n\t\t\t\tlet rs = apply(fn, scope, args)\n\t\t\t\tl && (args.length = len)\n\t\t\t\treturn rs\n\t\t\t}\n\t\t}\n\t\treturn function() {\n\t\t\treturn apply(fn, scope, arguments)\n\t\t}\n\t}\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:35:31\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:07:38\n */\nconst QUERY_SELECTOR = 'querySelector',\n\tQUERY_SELECTOR_ALL = QUERY_SELECTOR + 'All',\n\tQUERY_RESULTS = '__queryResults'\n\nif (!document[QUERY_SELECTOR_ALL]) {\n\tdocument[QUERY_RESULTS] = []\n\tdocument[QUERY_SELECTOR_ALL] = function(selector) {\n\t\tconst head = document.documentElement.firstChild,\n\t\t\tstyleTag = document.createElement('STYLE')\n\n\t\thead.appendChild(styleTag)\n\t\tif (styleTag.styleSheet) {\n\t\t\t// for IE\n\t\t\tstyleTag.styleSheet.cssText = selector + `{x:expression(document[${QUERY_RESULTS}].push(this))}`\n\t\t} else {\n\t\t\t// others\n\t\t\tlet textnode = document.createTextNode(selector + `{x:expression(document[QUERY_RESULTS].push(this))}`)\n\t\t\tstyleTag.appendChild(textnode)\n\t\t}\n\t\twindow.scrollBy(0, 0)\n\t\tconst ret = document[QUERY_RESULTS]\n\t\tdocument[QUERY_RESULTS] = []\n\t\treturn ret\n\t}\n}\nif (!document[QUERY_SELECTOR]) {\n\tdocument[QUERY_SELECTOR] = function(selectors) {\n\t\tconst elements = document[QUERY_SELECTOR_ALL](selectors)\n\t\treturn elements.length ? elements[0] : null\n\t}\n}\n","import { isNil } from './is'\n\n/*\n * String Util\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-04-26 18:30:18\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-08 16:57:52\n */\nconst trimReg = /(^\\s+)|(\\s+$)/g\nexport function trim(str) {\n\treturn str.replace(trimReg, '')\n}\nconst firstLetterReg = /^[a-zA-Z]/\n\nfunction upperHandler(m) {\n\treturn m.toUpperCase()\n}\nexport function upperFirst(str) {\n\treturn str.replace(firstLetterReg, upperHandler)\n}\nexport function strval(obj) {\n\treturn isNil(obj) ? '' : String(obj)\n}\n\nexport function charCode(str, index = 0) {\n\treturn str.charCodeAt(index)\n}\n\nexport function genCharCodes(start, end) {\n\tstart = charCode(start)\n\tend = charCode(end)\n\tconst codes = new Array(end - start + 1)\n\tfor (let i = start; i <= end; i++) codes[i - start] = start\n\treturn codes\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-07-25 15:23:22\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:29:48\n */\nimport { PROTOTYPE } from './constants'\n\nconst __hasOwn = Object[PROTOTYPE].hasOwnProperty\nexport function hasOwnProp(obj, prop) {\n\treturn __hasOwn.call(obj, prop)\n}\n\nexport function getOwnProp(obj, prop, defaultVal) {\n\treturn obj && __hasOwn.call(obj, prop) ? obj[prop] : defaultVal\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-18 11:12:57\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:01:15\n */\nimport { hasOwnProp } from './ownProp'\nimport { CONSTRUCTOR, PROTOTYPE, PROTO } from './constants'\n\nconst __getProto = Object.getPrototypeOf,\n\t__setProto = Object.setPrototypeOf\n\nexport const prototypeOfSupport = !!__setProto\n\nexport const prototypeOf = __setProto\n\t? __getProto\n\t: __getProto\n\t? function getPrototypeOf(obj) {\n\t\t\treturn obj[PROTO] || __getProto(obj)\n\t  }\n\t: function getPrototypeOf(obj) {\n\t\t\treturn hasOwnProp(obj, PROTO) ? obj[PROTO] : obj[CONSTRUCTOR][PROTOTYPE]\n\t  }\n\nexport const setPrototypeOf =\n\t__setProto ||\n\tfunction getPrototypeOf(obj, proto) {\n\t\treturn (obj[PROTO] = proto)\n\t}\n","// @flow\n/**\n * Object.create shim\n * @module helper/create\n * @author Tao Zeng <tao.zeng.zt@qq.com>\n * @created Wed Jul 25 2018 15:24:47 GMT+0800 (China Standard Time)\n * @modified Sat Nov 10 2018 12:17:45 GMT+0800 (China Standard Time)\n */\n\nimport { setPrototypeOf } from './prototypeOf'\nimport { CONSTRUCTOR, PROTOTYPE } from './constants'\n\nfunction FN() {}\n\n/**\n * create shim\n * @param  {T} parent\n * @param  {any} props?\n * @returns T\n */\nfunction doCreate<T>(parent: T, props?: any): T {\n\tFN[PROTOTYPE] = parent\n\tconst obj = new FN()\n\tFN[PROTOTYPE] = undefined\n\tif (props) {\n\t\tvar k, v\n\t\tfor (k in props) {\n\t\t\tv = props[k]\n\t\t\tif (v && v[CONSTRUCTOR] === Object) obj[k] = v.value\n\t\t}\n\t}\n\treturn obj\n}\n\n/**\n * create object\n * @function\n * @param {T} obj\n * @param {any} props?\n * @returns {T}\n */\nexport default Object.create ||\n\t(Object.getPrototypeOf\n\t\t? doCreate\n\t\t: function create<T>(parent: T, props?: any): T {\n\t\t\t\t// update prototype\n\t\t\t\tconst obj = doCreate(parent, props)\n\t\t\t\tsetPrototypeOf(obj, parent)\n\t\t\t\treturn obj\n\t\t  })\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-18 11:11:27\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-18 11:11:27\n */\nimport { isArrayLike, isStr } from './is'\nimport { hasOwnProp } from './ownProp'\n\nexport const STOP = new String('STOP')\n\nexport const eachArray = __mkEachArrayLike(arrayValueHandler),\n\teachStr = __mkEachArrayLike(strValueHandler),\n\treachArray = __mkREachArrayLike(arrayValueHandler),\n\treachStr = __mkREachArrayLike(strValueHandler),\n\teach = __mkEach(eachStr, eachArray, eachObj),\n\treach = __mkEach(reachStr, reachArray, eachObj)\n\nexport function eachObj(obj, callback, scope, own) {\n\tif (scope) callback = callback.bind(scope)\n\tlet key\n\tif (own === false) {\n\t\tfor (key in obj) if (callback(obj[key], key, obj) === STOP) return key\n\t} else {\n\t\tfor (key in obj) if (hasOwnProp(obj, key) && callback(obj[key], key, obj) === STOP) return key\n\t}\n}\n\nexport function __mkEach(eachStr, eachArray, eachObj) {\n\treturn function(obj, callback, scope, own) {\n\t\tconst arrayType = isArrayLike(obj)\n\t\treturn (arrayType ? (arrayType === String ? eachStr : eachArray) : eachObj)(obj, callback, scope, own)\n\t}\n}\n\nexport function __mkEachArrayLike(valueHandler) {\n\treturn function(array, callback, scope) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\tfor (let i = 0, l = array.length; i < l; i++) if (callback(valueHandler(array, i), i, array) === STOP) return i\n\t}\n}\n\nexport function __mkREachArrayLike(valueHandler) {\n\treturn function(array, callback, scope) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\tlet i = array.length\n\t\twhile (i--) {\n\t\t\tif (callback(valueHandler(array, i), i, array) === STOP) return i\n\t\t}\n\t}\n}\n\nfunction arrayValueHandler(array, i) {\n\treturn array[i]\n}\n\nfunction strValueHandler(str, i) {\n\treturn str.charAt(i)\n}\n\nexport function eachChain(array, v, callback, scope) {\n\tif (scope) callback = callback.bind(scope)\n\tfor (let i = 0, l = array.length; i < l; i++) {\n\t\tv = callback(array[i], i, v, array)\n\t\tif (v === STOP) return STOP\n\t}\n\treturn v\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-18 11:12:45\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:29:34\n */\nimport create from './create'\nimport { each, eachArray, eachStr, eachObj, STOP, __mkEach } from './each'\n\nexport const SKIP = new String('SKIP')\n\nexport const mapArray = __mkMapArrayLike(eachArray),\n\tmapStr = __mkMapArrayLike(eachStr),\n\tmapObj = __mkMapObj(eachObj),\n\tmap = __mkEach(mapStr, mapArray, mapObj)\n\nexport function __mkMapArrayLike(each) {\n\treturn function(array, callback, scope) {\n\t\tconst l = array.length,\n\t\t\tcopy = new Array(l)\n\t\tlet j = 0\n\n\t\tif (!callback) callback = defaultMapCallback\n\t\telse if (scope) callback = callback.bind(scope)\n\n\t\teach(array, (val, i, array) => {\n\t\t\tconst ret = callback(val, i, array)\n\t\t\tif (ret === STOP || ret === SKIP) return ret\n\t\t\tcopy[j++] = ret\n\t\t})\n\t\tif (j !== l) copy.length = j\n\t\treturn copy\n\t}\n}\n\nexport function __mkMapObj(each) {\n\treturn function(obj, callback, scope, own) {\n\t\tconst copy = create(null)\n\n\t\tif (!callback) callback = defaultMapCallback\n\t\telse if (scope) callback = callback.bind(scope)\n\n\t\teach(\n\t\t\tobj,\n\t\t\t(val, key, obj) => {\n\t\t\t\tconst ret = callback(val, key, obj)\n\t\t\t\tif (ret === STOP || ret === SKIP) return ret\n\t\t\t\tcopy[key] = ret\n\t\t\t},\n\t\t\tundefined,\n\t\t\town\n\t\t)\n\t\treturn copy\n\t}\n}\n\nfunction defaultMapCallback(v) {\n\treturn v\n}\n","import { mapArray } from './map'\nimport { isBool } from './is'\n\nconst REG_ESCAPE = /[-\\/\\\\^$*+?.()|[\\]{}]/g\nexport function reEscape(s) {\n\treturn s.replace(REG_ESCAPE, '\\\\$&')\n}\n\nexport function reUnion(regexps) {\n\tif (!regexps.length) return '(?!)'\n\treturn `(?:${mapArray(regexps, s => `(?:${s})`).join('|')})`\n}\n\nexport const regStickySupport = isBool(/(?:)/.sticky)\nexport const regUnicodeSupport = isBool(/(?:)/.unicode)\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-18 11:13:03\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-10-29 18:10:39\n */\nimport create from './create'\nimport { isFn, isArray, isStr } from './is'\n\nexport function array2obj(array, keyHandler, valueHandler = arrayElementHandler) {\n\tconst dist = create(null)\n\tfor (let i = 0, l = array.length, v; i < l; i++) {\n\t\tv = array[i]\n\t\tdist[keyHandler(v, i, array)] = valueHandler(v, i, array)\n\t}\n\treturn dist\n}\n\nexport function makeMap(props, split, val) {\n\tconst arglen = arguments.length\n\tif (arglen < 3) {\n\t\tif (arglen === 2) {\n\t\t\tval = split\n\t\t} else {\n\t\t\tval = true\n\t\t}\n\t\tsplit = ','\n\t}\n\n\tif (isStr(props)) {\n\t\tif (!props) return create(null)\n\t\tprops = props.split(split)\n\t}\n\tconst valueHandler = isFn(val) ? val : () => val\n\treturn array2obj(props, arrayElementHandler, valueHandler)\n}\n\nfunction arrayElementHandler(v) {\n\treturn v\n}\n\nexport function makeArray(array, split, map) {\n\tconst arglen = arguments.length\n\tif (arglen < 3) {\n\t\tif (arglen === 2) map = split\n\t\tsplit = ','\n\t}\n\n\tif (isStr(array)) {\n\t\tif (!array) return []\n\t\tarray = array.split(split)\n\t}\n\tif (map) for (var i = 0, l = array.length; i < l; i++) array[i] = map(array[i], i)\n\treturn array\n}\n\nexport function cached(cacheKey, cacheVal) {\n\tconst cache = create(null)\n\treturn function() {\n\t\tconst key = applyNoScope(cacheKey, arguments)\n\t\tlet val = cache[key]\n\t\tif (!val) cache[key] = val = applyNoScope(cacheVal, arguments)\n\t\treturn val\n\t}\n}\n","var toStr = Object.prototype.toString;\nvar conditions = {};\nvar UNDEF = 'undefined',\n    NUL = 'null',\n    INF = 'Infinity',\n    ARR = 'Array';\nvar byteArray = ['Uint8Array', 'Int8Array'];\nvar shortArray = ['Uint16Array', 'Int16Array'];\nvar intArray = ['Uint32Array', 'Int32Array'];\nvar floatArray = ['Float32Array', 'Float64Array'];\nvar arrayBuffer = 'ArrayBuffer';\nvar typedArrays = byteArray.concat(shortArray).concat(intArray).concat(floatArray).concat(arrayBuffer);\n\naddTypeCon({\n\tbool: 'Boolean',\n\tnum: 'Number',\n\tstr: 'String',\n\tfn: 'Function',\n\tdate: 'Date',\n\treg: 'RegExp',\n\tobj: 'Object',\n\terr: 'Error',\n\tarray: ARR,\n\tarrayLike: [[ARR, 'Arguments', 'NodeList'].concat(typedArrays)],\n\tbyteArray: [byteArray],\n\tshortArray: [shortArray],\n\tintArray: [intArray],\n\tfloatArray: [floatArray],\n\ttypedArrays: [typedArrays]\n});\neach(typedArrays, function (t) {\n\treturn addTypeCon(reFirst(t), t);\n});\naddValueCon({\n\tnil: [[UNDEF, NUL]],\n\tnul: NUL,\n\tdef: [UNDEF, 1, 1],\n\tundef: [UNDEF, 0, 1],\n\tNaN: ['o', 1],\n\tinfinite: [INF, 0, 1]\n});\naddCon({\n\tfinite: [['o'], function (o) {\n\t\treturn o === o && o !== Infinity && toStr.call(o) === '[object Number]';\n\t}],\n\teq: [['a', 'b'], function (a, b) {\n\t\treturn a === b || a !== a && b !== b;\n\t}],\n\tnotEq: [['a', 'b'], function (a, b) {\n\t\treturn a !== b && (a === a || b === b);\n\t}]\n});\n\nfunction addTypeCon(name, values, notEq, notMakeNot) {\n\t_addCon(arguments, addTypeCon, function () {\n\t\treturn addEqCon(name, [toStr], ['o'], '$0.call(o)', map(arrayVal(values), function (v) {\n\t\t\treturn '\\'[object ' + v + ']\\'';\n\t\t}), notEq, notMakeNot);\n\t});\n}\n\nfunction addValueCon(name, values, notEq, notMakeNot) {\n\t_addCon(arguments, addValueCon, function () {\n\t\treturn addEqCon(name, undefined, ['o'], 'o', values, notEq, notMakeNot);\n\t});\n}\n\nfunction _addCon(args, thisCb, cb) {\n\targs.length === 1 ? each(args[0], function (v, n) {\n\t\treturn thisCb.apply(null, [n].concat(v));\n\t}) : cb();\n}\n\nfunction addEqCon(name) {\n\tvar injects = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\tvar args = arguments[2];\n\tvar conCode = arguments[3];\n\tvar values = arguments[4];\n\tvar notEq = arguments[5];\n\tvar notMakeNot = arguments[6];\n\n\tvalues = arrayVal(values);\n\tvar params = map(injects, function (v, i) {\n\t\treturn '$' + i;\n\t});\n\n\tparams.push('return function(' + args.join(',') + '){\\n' + (values.length > 1 ? 'switch(' + conCode + '){\\ncase ' + values.join(':\\n\\t\\tcase ') + ': return ' + !notEq + ';\\ndefault: return ' + !!notEq + ';\\n}' : 'return (' + conCode + ')' + (notEq ? '!' : '=') + '==' + values[0] + ';') + '\\n    }');\n\n\taddCon(name, args, Function.apply(Function, params).apply(null, injects));\n\tif (!notMakeNot) addEqCon('not' + reFirst(name, 1), injects, args, conCode, values, !notEq, 1);\n}\n\nfunction addCon(name, args, fn) {\n\tif (arguments.length === 1) each(name, function (v, n) {\n\t\tconditions[n] = v;\n\t});else conditions[name] = [args, fn];\n}\n\nfunction _if(condition, callback, isNot) {\n\tvar args = condition[0];\n\treturn new Function('condition', 'callback', 'slice', 'return function(' + args.join(',') + '){\\nif(' + (isNot ? '!' : '') + 'condition(' + args.join(',') + '))\\n    callback(slice(arguments, ' + args.length + '));\\n}')(condition[1], callback, sliceArgs);\n}\n\nfunction assignCons(obj, callback, isNot) {\n\tfor (var name in conditions) {\n\t\tobj[name] = _if(conditions[name], callback, isNot);\n\t}return obj;\n}\n\nfunction callBy(condition, cb) {\n\tvar len = arguments.length;\n\tif (len > 1) condition && cb();else if (len) condition();\n}\nfunction exception(error) {\n\tif (typeof error === 'function') error = error();\n\tif (error instanceof Error) throw error;\n\tthrow new Error(error);\n}\n\nfunction assert(condition, error) {\n\tif (!condition) exception(error);\n}\nassignCons(assert, function (args) {\n\treturn exception(args[0]);\n}, 1);\nassert.by = callBy;\n\nvar currentLevel = 1;\nvar logs = [];\nvar logMap = {};\n\nvar debug = createLog('debug', 0);\nvar info = createLog('info', 1);\nvar warn = createLog('warn', 2);\nvar error = createLog('error', 3);\n\nfunction createLog(name, level) {\n\tfunction log() {\n\t\tlevel >= currentLevel && log.print.apply(this, arguments);\n\t}\n\tlog.level = level;\n\tlog.methods = getLogMethods(name, log);\n\tlogs[level] = log;\n\tlogMap[name] = log;\n\treturn bindLog(log);\n}\n\nfunction getLogMethods(name, log) {\n\tvar mark = '[' + name + ']: ';\n\treturn assignCons({\n\t\tby: callBy,\n\t\twhen: function when(condition) {\n\t\t\tcondition && log.print.apply(log, sliceArgs(arguments, 1));\n\t\t},\n\t\tprint: function print(msg) {\n\t\t\tif (arguments.length) {\n\t\t\t\tvar args = map(arguments, function (v) {\n\t\t\t\t\treturn v;\n\t\t\t\t});\n\t\t\t\tif (typeof msg === 'string') {\n\t\t\t\t\targs[0] = mark + args[0];\n\t\t\t\t} else {\n\t\t\t\t\targs.unshift(mark);\n\t\t\t\t}\n\t\t\t\tlog.__print(args, name);\n\t\t\t}\n\t\t}\n\t}, function (args) {\n\t\treturn log.print.apply(log, args);\n\t});\n}\n\nfunction empty() {}\n\nfunction bindLog(log) {\n\tvar level = log.level,\n\t    methods = log.methods;\n\n\tfor (var method in methods) {\n\t\tlog[method] = level < currentLevel ? empty : methods[method];\n\t}return log;\n}\n\nfunction setLogLevel(level) {\n\tvar log = logMap[level];\n\tassert(log, 'invalid log level: ' + level);\n\tlevel = log.level;\n\tif (level !== currentLevel) {\n\t\tcurrentLevel = level;\n\t\teach(logs, bindLog);\n\t}\n}\n\nfunction setLogConsole(console, applyArgs) {\n\teach(logs, function (log) {\n\t\tlog.__print = applyArgs ? function (args, name) {\n\t\t\tconsole[name].apply(console, args);\n\t\t} : function (args, name) {\n\t\t\treturn console[name](args, name);\n\t\t};\n\t});\n}\nfunction isLog(level) {\n\tvar log = logMap[level];\n\tassert(log, 'invalid log level: ' + level);\n\treturn log.level >= currentLevel;\n}\n\nif (!console) console = {\n\tlog: function log() {}\n};\nif (!console.info) console.info = console.log;\nsetLogConsole(console, 1);\n\nfunction sliceArgs(args, offset) {\n\tvar len = args.length;\n\tvar arr = new Array(len - offset);\n\twhile (len-- > offset) {\n\t\tarr[len - offset] = args[len];\n\t}return arr;\n}\n\nfunction each(obj, cb) {\n\tif (obj instanceof Array) {\n\t\tvar i = obj.length;\n\t\twhile (i--) {\n\t\t\tcb(obj[i], i);\n\t\t}\n\t} else {\n\t\tfor (var key in obj) {\n\t\t\tcb(obj[key], key);\n\t\t}\n\t}\n}\n\nfunction map(arr, cb) {\n\tvar i = arr.length,\n\t    ret = new Array(i);\n\twhile (i--) {\n\t\tret[i] = cb(arr[i], i);\n\t}return ret;\n}\n\nfunction reFirst(str, upper) {\n\treturn str.replace(/^[a-zA-Z]/, upper ? function (o) {\n\t\treturn o.toUpperCase();\n\t} : function (o) {\n\t\treturn o.toLowerCase();\n\t});\n}\n\nfunction arrayVal(val) {\n\treturn val instanceof Array ? val : [val];\n}\n\nexport { exception, assert, debug, info, warn, error, logMap as log, setLogLevel, setLogConsole, isLog, sliceArgs, each, map, reFirst, arrayVal };\n//# sourceMappingURL=devlevel.es.js.map\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 11:52:21\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 11:52:21\n */\nimport { assert } from 'devlevel'\n\nlet __defProp = Object.defineProperty\nexport const defPropSupport =\n\t__defProp &&\n\t(function() {\n\t\ttry {\n\t\t\tvar val,\n\t\t\t\tobj = {}\n\t\t\t__defProp(obj, 's', {\n\t\t\t\tget() {\n\t\t\t\t\treturn val\n\t\t\t\t},\n\t\t\t\tset(value) {\n\t\t\t\t\tval = value\n\t\t\t\t},\n\t\t\t})\n\t\t\tobj.s = 1\n\t\t\treturn obj.s === val\n\t\t} catch (e) {}\n\t})()\nif (!defPropSupport) {\n\t__defProp = function(obj, prop, desc) {\n\t\tassert(desc.get || desc.set, 'not support getter/setter on defineProperty')\n\t\tobj[prop] = desc.value\n\t\treturn obj\n\t}\n}\n\nexport const defProp = __defProp\n\nexport const defPropValue = defPropSupport\n\t? function(obj, prop, value, configurable, writeable, enumerable) {\n\t\t\t__defProp(obj, prop, {\n\t\t\t\tvalue,\n\t\t\t\tconfigurable: configurable || false,\n\t\t\t\twriteable: writeable || false,\n\t\t\t\tenumerable: enumerable || false,\n\t\t\t})\n\t\t\treturn value\n\t  }\n\t: function(obj, prop, value) {\n\t\t\tobj[prop] = value\n\t\t\treturn value\n\t  }\n","// @flow\n/**\n * Object.assign shim\n * @author Tao Zeng <tao.zeng.zt@qq.com>\n * @created Wed Jul 25 2018 15:22:13 GMT+0800 (China Standard Time)\n * @modified Sat Nov 10 2018 13:11:25 GMT+0800 (China Standard Time)\n */\nimport create from './create'\nimport { hasOwnProp } from './ownProp'\n\n/**\n * do assign\n * @function\n * @param  {Object} dist\n * @param  {Array<Object>} overrides\n * @param  {number=0} offset?\n * @param  {(prop:string,dist:Object,override:Object,data:any)=>boolean} filter?\n * @param  {any} data?\n * @returns {any}\n */\nexport function __assign(\n\tdist: Object,\n\toverrides: Array<Object>,\n\toffset?: number,\n\tfilter?: (prop: string, dist: Object, override: Object, data: any) => boolean,\n\tdata?: any\n) {\n\tif (!dist) dist = {}\n\tlet i = offset || 0,\n\t\tl = overrides.length,\n\t\toverride,\n\t\tprop\n\tfor (; i < l; i++) {\n\t\tif ((override = overrides[i]))\n\t\t\tfor (prop in override) if (filter(prop, dist, override, data)) dist[prop] = override[prop]\n\t}\n\treturn dist\n}\n/**\n * assign\n * > Object.assign shim\n * @function\n * @param  {Object} obj \tassign target\n * @param  {Array} ...args \tassign Objects\n * @returns Object\n */\nexport function assign(obj: Object, ...args: Array): Object {\n\treturn __assign(obj, arguments, 1, __assignFilter)\n}\n\n/**\n * default assign filter\n * @function\n * @param  {string} prop\n * @param  {Object} dist\n * @param  {Object} override\n * @returns {Object}\n */\nexport function __assignFilter(prop: string, dist: Object, override: Object): Object {\n\treturn hasOwnProp(override, prop)\n}\n\n/**\n * assign if property is not exist\n * @function\n * @param  {Object} obj \tassign target\n * @param  {Array} ...args \tassign Objects\n * @returns {Object}\n */\nexport function assignIf(obj: Object, ...args: Array): Object {\n\treturn __assign(obj, arguments, 1, __assignIfFilter)\n}\n\n/**\n * assign if filter\n * @function\n * @param  {string} prop\n * @param  {Object} dist\n * @param  {Object} override\n * @returns {Object}\n */\nexport function __assignIfFilter(prop: string, dist: Object, override: Object): Object {\n\treturn hasOwnProp(override, prop) && !hasOwnProp(dist, prop)\n}\n\n/**\n * assign by user filter\n * @function\n * @param  {Object} obj\n * @param  {(prop:string,dist:Object,overide:Object)=>boolean} filter\n * @param  {Array} ...args\n * @returns {Object}\n */\nexport function assignBy(\n\tobj: Object,\n\tfilter: (prop: string, dist: Object, overide: Object) => boolean,\n\t...args: Array\n): Object {\n\treturn __assign(obj, arguments, 2, __assignUserFilter, filter)\n}\n\n/**\n * user assign filter hook\n * @param  {string} prop\n * @param  {Object} dist\n * @param  {Object} override\n * @param  {(prop:string,dist:Object,overide:Object)=>boolean} cb\n * @returns {Object}\n */\nexport function __assignUserFilter(\n\tprop: string,\n\tdist: Object,\n\toverride: Object,\n\tcb: (prop: string, dist: Object, overide: Object) => boolean\n): Object {\n\treturn hasOwnProp(override, prop) && cb(prop, dist, override)\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-18 11:11:47\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 11:57:11\n */\nimport { assert } from 'devlevel'\nimport { __assign } from './assign'\nimport { CONSTRUCTOR, PROTOTYPE } from './constants'\n\nexport function __extend(cls, mixins, offset, filter, data) {\n\tassert.fn(cls, 'Invalid Class')\n\n\t__assign(cls[PROTOTYPE], mixins, offset, filter, data)\n\treturn cls\n}\n\nexport function extend(cls) {\n\treturn __extend(cls, arguments, 1, __extendFilter)\n}\n\nexport function __extendFilter(prop, proto, mixin) {\n\treturn prop !== CONSTRUCTOR\n}\n\nexport function extendIf(cls) {\n\treturn __extend(cls, arguments, 1, __extendIfFilter)\n}\n\nexport function __extendIfFilter(prop, proto, mixin) {\n\treturn prop !== CONSTRUCTOR && !(prop in proto)\n}\n\nexport function extendBy(cls, filter) {\n\treturn __extend(cls, arguments, 2, __extendUserFilter, filter)\n}\n\nexport function __extendUserFilter(prop, proto, mixin, cb) {\n\treturn prop !== CONSTRUCTOR && cb(prop, proto, mixin)\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-18 11:12:32\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 18:06:01\n */\nimport { assert } from 'devlevel'\nimport create from './create'\nimport { setPrototypeOf, prototypeOf } from './prototypeOf'\nimport { __extend, __extendFilter } from './extend'\nimport { isFn } from './is'\nimport { CONSTRUCTOR, PROTOTYPE } from './constants'\n\nexport function __inherit(cls, superCls) {\n\tconst proto = create(superCls[PROTOTYPE])\n\tproto[CONSTRUCTOR] = cls\n\tcls[PROTOTYPE] = proto\n\tsetPrototypeOf(cls, superCls)\n}\n\nexport function inherit(cls, superCls) {\n\tassert.fn(cls, 'Invalid Class')\n\n\tlet i = 2,\n\t\tl = arguments.length\n\n\tif (isFn(superCls)) __inherit(cls, superCls)\n\telse i = 1\n\t__extend(cls, arguments, i, __extendFilter)\n\treturn cls\n}\n\nconst fnProto = Function[PROTOTYPE]\nconst objProto = Object[PROTOTYPE]\n\nexport function superCls(cls) {\n\tcls = prototypeOf(cls)\n\tswitch (cls) {\n\t\tcase Object:\n\t\tcase objProto:\n\t\tcase fnProto:\n\t\t\treturn undefined\n\t}\n\treturn cls\n}\n\nexport function subclassOf(cls, target) {\n\tif (target === Object) return true\n\n\tlet parent = cls\n\twhile ((parent = superCls(parent))) if (parent === target) return true\n\treturn false\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-18 11:11:07\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:27:21\n */\nimport { assert } from 'devlevel'\nimport { __inherit } from './inherit'\nimport { extend, extendBy } from './extend'\nimport { assign } from './assign'\nimport { applyScope } from './function'\nimport { getOwnProp } from './ownProp'\nimport { isFn } from './is'\nimport { makeMap } from './util'\nimport { CONSTRUCTOR, PROTOTYPE } from './constants'\n\nconst CLASS_NAME = 'name',\n\tEXTEND = 'extend',\n\tSTATICS = 'statics'\n\nconst KEYS = makeMap([CLASS_NAME, CONSTRUCTOR, EXTEND, STATICS, PROTOTYPE])\n\nexport default function createClass(overrides) {\n\tconst constructor = getOwnProp(overrides, CONSTRUCTOR)\n\tlet superCls = overrides[EXTEND]\n\n\tassert(!constructor || isFn(constructor), 'Invalid Constructor')\n\tassert(!superCls || isFn(superCls), 'Invalid Super Class')\n\n\tif (superCls === Object) superCls = null\n\n\tconst C = buildCls(constructor, overrides[CLASS_NAME], superCls)\n\tif (superCls) __inherit(C, superCls)\n\textendBy(C, keyFilter, overrides)\n\textend(C, overrides[PROTOTYPE])\n\tassign(C, overrides[STATICS])\n\treturn C\n}\n\nfunction buildCls(cls, name, superCls) {\n\tif (name)\n\t\treturn new Function(\n\t\t\t'apply',\n\t\t\t'S',\n\t\t\t`return function ${name}(){\n    ${cls || superCls ? `apply(S, this, arguments);` : ''}\n}`\n\t\t)(applyScope, cls || superCls)\n\n\treturn (\n\t\tcls ||\n\t\t(superCls\n\t\t\t? function() {\n\t\t\t\t\tapplyScope(superCls, this, arguments)\n\t\t\t  }\n\t\t\t: function() {})\n\t)\n}\n\nfunction keyFilter(prop) {\n\treturn !KEYS[prop]\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-18 11:11:54\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:28:29\n */\nimport { map, mapArray, mapStr, mapObj, SKIP } from './map'\nimport { STOP } from './each'\n\nexport const filterArray = __mkFilter(mapArray),\n\tfilterStr = __mkFilter(mapStr),\n\tfilterObj = __mkFilter(mapObj),\n\tfilter = __mkFilter(map)\n\nexport function __mkFilter(map) {\n\treturn function(obj, callback, scope, own) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\treturn map(\n\t\t\tobj,\n\t\t\t(val, index, obj) => {\n\t\t\t\tconst ret = callback(val, index, obj)\n\t\t\t\tif (ret === STOP || ret === SKIP) return ret\n\t\t\t\treturn ret ? val : SKIP\n\t\t\t},\n\t\t\tundefined,\n\t\t\town\n\t\t)\n\t}\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-18 11:11:59\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-18 11:11:59\n */\nimport { each, eachArray, eachStr, eachObj, reach, reachArray, reachStr, STOP } from './each'\n\nexport const findArray = __mkFind(eachArray),\n\tfindStr = __mkFind(eachStr),\n\tfindObj = __mkFind(eachObj),\n\tfind = __mkFind(each),\n\trfindArray = __mkFind(reachArray),\n\trfindStr = __mkFind(reachStr),\n\trfind = __mkFind(reach)\n\nexport function __mkFind(each) {\n\treturn function(obj, callback, scope, own) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\treturn each(\n\t\t\tobj,\n\t\t\t(val, index, obj) => {\n\t\t\t\tif (callback(val, index, obj)) return STOP\n\t\t\t},\n\t\t\tundefined,\n\t\t\town\n\t\t)\n\t}\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-18 11:12:29\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-18 11:12:29\n */\nimport { each, eachArray, eachStr, eachObj, reach, reachArray, reachStr } from './each'\n\nexport const indexOfArray = __mkTypeIndexOf(eachArray),\n\tindexOfObj = __mkTypeIndexOf(eachObj),\n\tlastIndexOfArray = __mkTypeIndexOf(reachArray),\n\tindexOf = __mkIndexOf(indexOfArray, 'indexOf'),\n\tlastIndexOf = __mkIndexOf(lastIndexOfArray, 'lastIndexOf')\n\nexport function __mkTypeIndexOf(each) {\n\treturn function(obj, val, own) {\n\t\treturn each(\n\t\t\tobj,\n\t\t\t(v, index, obj) => {\n\t\t\t\tif (eq(v, val)) return STOP\n\t\t\t},\n\t\t\tundefined,\n\t\t\town\n\t\t)\n\t}\n}\n\nexport function __mkIndexOf(indexOfArray, strIndexOf) {\n\treturn function(obj, val, own) {\n\t\tconst arrayType = isArrayLike(obj)\n\t\tif (arrayType === String) {\n\t\t\tconst i = obj[strIndexOf](val)\n\t\t\tif (i >= 0) return i\n\t\t} else {\n\t\t\treturn (arrayType ? indexOfArray : indexOfObj)(obj, val, own)\n\t\t}\n\t}\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-18 11:12:49\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-10 11:37:20\n */\nimport { STOP } from './each'\nimport { SKIP } from './map'\nimport { hasOwnProp } from './ownProp'\n\nexport function obj2array(obj, valueHandler, scope, own) {\n\tconst array = []\n\tlet key,\n\t\tret,\n\t\ti = 0\n\n\tif (scope) valueHandler = valueHandler.bind(scope)\n\tif (own === false) {\n\t\tfor (key in obj) {\n\t\t\tret = valueHandler(obj, key)\n\t\t\tif (ret === STOP) break\n\t\t\tif (ret !== SKIP) array[i++] = ret\n\t\t}\n\t} else {\n\t\tfor (key in obj) {\n\t\t\tif (hasOwnProp(obj, key)) {\n\t\t\t\tret = valueHandler(obj, key, i)\n\t\t\t\tif (ret === STOP) break\n\t\t\t\tif (ret !== SKIP) array[i++] = ret\n\t\t\t}\n\t\t}\n\t}\n\treturn array\n}\n\nexport const keys = __mkKV(obj2array, keyHandler),\n\tvalues = __mkKV(obj2array, valueHandler)\n\nexport function __mkKV(obj2array, handler) {\n\treturn function(obj, own, filter, scope) {\n\t\tif (filter) {\n\t\t\tif (scope) filter = filter.bind(scope)\n\t\t\treturn obj2array(\n\t\t\t\tobj,\n\t\t\t\t(obj, key) => {\n\t\t\t\t\tconst ret = filter(obj, key)\n\t\t\t\t\tif (!ret) return SKIP\n\t\t\t\t\tif (ret === STOP || ret === SKIP) return ret\n\t\t\t\t\treturn handler(obj, key)\n\t\t\t\t},\n\t\t\t\tundefined,\n\t\t\t\town\n\t\t\t)\n\t\t}\n\t\treturn obj2array(obj, handler, undefined, own)\n\t}\n}\n\nfunction keyHandler(obj, key) {\n\treturn key\n}\n\nfunction valueHandler(obj, key) {\n\treturn obj[key]\n}\n","/**\n *\n * @module helper\n * @author Tao Zeng (tao.zeng.zt@qq.com)\n * @created 2018-11-09 15:31:44\n * @modified 2018-11-09 15:31:44 by Tao Zeng (tao.zeng.zt@qq.com)\n */\n\nexport * from './constants'\nexport * from './is'\nexport * from './function'\nexport * from './string'\nexport * from './reg'\nexport * from './util'\nexport * from './ownProp'\nexport * from './prototypeOf'\nexport * from './defineProperty'\nexport { default as create } from './create'\nexport { assign, assignIf, assignBy } from './assign'\nexport { extend, extendIf, extendBy } from './extend'\nexport { inherit, superCls, subclassOf } from './inherit'\nexport { default as createClass } from './class'\nexport { each, eachArray, eachStr, eachObj, reach, reachArray, reachStr, eachChain, STOP } from './each'\nexport { map, mapArray, mapStr, mapObj, SKIP } from './map'\nexport { filter, filterArray, filterStr, filterObj } from './filter'\nexport { find, findArray, findStr, findObj, rfind, rfindStr } from './find'\nexport { indexOf, indexOfArray, indexOfObj, lastIndexOf, lastIndexOfArray } from './indexOf'\nexport { obj2array, keys, values } from './obj2array'\n","/*\n * Double Linked List\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-07-23 16:07:38\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-06 14:21:28\n */\nimport { assert } from 'devlevel'\nimport { inherit, defPropValue } from '../helper'\n\nexport const DEFAULT_BINDING = '__list__'\n\nexport default function List(binding) {\n\tthis.binding = binding || DEFAULT_BINDING\n}\n\ndefPropValue(List, 'binding', DEFAULT_BINDING)\n\ninherit(List, {\n\tlength: 0,\n\thas(obj) {\n\t\tconst node = obj[this.binding]\n\t\treturn node ? node[0] === obj && node[3] === this : false\n\t},\n\tadd(obj) {\n\t\treturn __insert(this, obj, this.tail)\n\t},\n\taddFirst(obj) {\n\t\treturn __insert(this, obj)\n\t},\n\tinsertAfter(obj, target) {\n\t\treturn __insert(this, obj, target && __getNode(this, target))\n\t},\n\tinsertBefore(obj, target) {\n\t\treturn __insert(this, obj, target && __getNode(this, target)[1])\n\t},\n\taddAll(objs) {\n\t\treturn __insertAll(this, objs, this.tail)\n\t},\n\taddFirstAll(objs) {\n\t\treturn __insertAll(this, objs)\n\t},\n\tinsertAfterAll(objs, target) {\n\t\treturn __insertAll(this, objs, target && __getNode(this, target))\n\t},\n\tinsertBeforeAll(objs, target) {\n\t\treturn __insertAll(this, objs, target && __getNode(this, target)[1])\n\t},\n\tprev(obj) {\n\t\treturn __siblingObj(this, obj, 1)\n\t},\n\tnext(obj) {\n\t\treturn __siblingObj(this, obj, 2)\n\t},\n\tfirst() {\n\t\tconst node = this.head\n\t\treturn node && node[0]\n\t},\n\tlast() {\n\t\tconst node = this.tail\n\t\treturn node && node[0]\n\t},\n\tremove(obj) {\n\t\tconst node = __getNode(this, obj)\n\t\tif (this.scaning) {\n\t\t\tconst { lazyRemoves } = this\n\t\t\tobj[this.binding] = undefined // unbind list node\n\t\t\tnode[3] = undefined\n\t\t\tif (lazyRemoves) {\n\t\t\t\tlazyRemoves.push(node)\n\t\t\t} else {\n\t\t\t\tthis.lazyRemoves = [node]\n\t\t\t}\n\t\t} else {\n\t\t\t__remove(this, node)\n\t\t}\n\t\treturn --this.length\n\t},\n\teach(cb, scope) {\n\t\tassert(!this.scaning, 'Recursive calls are not allowed.')\n\t\tthis.scaning = true\n\t\tif (scope) cb = cb.bind(scope)\n\t\tlet node = this.head\n\t\twhile (node) {\n\t\t\tif (node[3] === this && cb(node[0]) === false) break\n\t\t\tnode = node[2]\n\t\t}\n\t\t__doLazyRemove(this)\n\t\tthis.scaning = false\n\t},\n\ttoArray() {\n\t\tconst array = new Array(this.length)\n\t\tlet node = this.head,\n\t\t\ti = 0\n\t\twhile (node) {\n\t\t\tif (node[3] === this) array[i++] = node[0]\n\t\t\tnode = node[2]\n\t\t}\n\t\treturn array\n\t},\n\tclean() {\n\t\tif (this.length) {\n\t\t\tif (this.scaning) {\n\t\t\t\tconst { binding } = this\n\t\t\t\tconst lazyRemoves = this.lazyRemoves || (this.lazyRemoves = [])\n\t\t\t\tvar node = this.head\n\t\t\t\twhile (node) {\n\t\t\t\t\tif (node[3] === this) {\n\t\t\t\t\t\tnode[0][binding] = undefined\n\t\t\t\t\t\tlazyRemoves.push(node)\n\t\t\t\t\t}\n\t\t\t\t\tnode = node[2]\n\t\t\t\t}\n\t\t\t\tthis.length = 0\n\t\t\t} else {\n\t\t\t\t__clean(this)\n\t\t\t}\n\t\t}\n\t},\n\tclone(cb, scope) {\n\t\tconst newlist = new List(this.binding)\n\t\tif (this.length) {\n\t\t\tif (scope) cb = cb.bind(scope)\n\t\t\tvar node = this.head,\n\t\t\t\tnewtail,\n\t\t\t\tnewhead,\n\t\t\t\tnewprev = undefined,\n\t\t\t\ti = 0\n\t\t\twhile (node) {\n\t\t\t\tif (node[3] === this && (newtail = cb(node[0]))) {\n\t\t\t\t\tnewtail = __initNode(newlist, newtail)\n\t\t\t\t\tassert(!newtail[3], 'Double add List, Clone Callback should return a new Object')\n\t\t\t\t\tnewtail[3] = newlist\n\t\t\t\t\tif (newprev) {\n\t\t\t\t\t\tnewtail[1] = newprev\n\t\t\t\t\t\tnewprev[2] = newtail\n\t\t\t\t\t\tnewprev = newtail\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewprev = newhead = newtail\n\t\t\t\t\t}\n\t\t\t\t\ti++\n\t\t\t\t}\n\t\t\t\tnode = node[2]\n\t\t\t}\n\t\t\ti && __doInsert(newlist, newhead, newtail, i)\n\t\t}\n\t\treturn newlist\n\t},\n})\n\nfunction __doInsert(list, nodeHead, nodeTail, len, prev) {\n\tlet next\n\tnodeHead[1] = prev\n\tif (prev) {\n\t\tnodeTail[2] = next = prev[2]\n\t\tprev[2] = nodeHead\n\t} else {\n\t\tnodeTail[2] = next = list.head\n\t\tlist.head = nodeHead\n\t}\n\tif (next) next[1] = nodeTail\n\telse list.tail = nodeTail\n\treturn (list.length += len)\n}\n\nfunction __insert(list, obj, prev) {\n\tconst node = __initNode(list, obj)\n\tif (!node[3]) {\n\t\tnode[3] = list\n\t\treturn __doInsert(list, node, node, 1, prev)\n\t}\n}\n\nfunction __insertAll(list, objs, prev) {\n\tlet l = objs.length\n\tif (!l) return\n\tconst head = __initNode(list, objs[0])\n\tassert(!head[3], 'Double add List, Object have added in this List')\n\thead[3] = list\n\tlet __prev = head,\n\t\ttail = head,\n\t\ti = 1\n\tfor (; i < l; i++) {\n\t\ttail = __initNode(list, objs[i])\n\t\tassert(!tail[3], 'Double add List, Object have added in this List')\n\t\ttail[3] = list\n\t\ttail[1] = __prev\n\t\t__prev[2] = tail\n\t\t__prev = tail\n\t}\n\treturn __doInsert(list, head, tail, l, prev)\n}\n\nfunction __initNode(list, obj) {\n\tconst { binding } = list\n\tlet node = obj[binding]\n\tif (node && node[0] === obj) {\n\t\tassert(!node[3] || node[3] === list, 'Double add List, Object is still in other List')\n\t} else {\n\t\tnode = defPropValue(obj, binding, [obj], true, true)\n\t}\n\treturn node\n}\n\nfunction __getNode(list, obj) {\n\tconst node = obj[list.binding]\n\tif (node && node[0] === obj) {\n\t\tassert(node[3] === list, 'Object is not in this List')\n\t\treturn node\n\t}\n\tassert(0, 'Object is not in List')\n}\n\nfunction __siblingObj(list, obj, key) {\n\tconst node = __getNode(list, obj)\n\tlet sibling = node[key]\n\tif (sibling) {\n\t\twhile (!sibling[3]) {\n\t\t\tsibling = sibling[key]\n\t\t\tif (!sibling) return\n\t\t}\n\t\treturn sibling[0]\n\t}\n}\n\nfunction __remove(list, node) {\n\tconst prev = node[1],\n\t\tnext = node[2]\n\tif (prev) {\n\t\tprev[2] = next\n\t} else {\n\t\tlist.head = next\n\t}\n\tif (next) {\n\t\tnext[1] = prev\n\t} else {\n\t\tlist.tail = prev\n\t}\n\tnode.length = 1\n}\n\nfunction __clean(list) {\n\tlet node,\n\t\tnext = list.head\n\twhile ((node = next)) {\n\t\tnext = node[2]\n\t\tnode.length = 1\n\t}\n\tlist.head = undefined\n\tlist.tail = undefined\n\tlist.length = 0\n}\n\nfunction __doLazyRemove(list) {\n\tconst { lazyRemoves } = list\n\tif (lazyRemoves) {\n\t\tvar len = lazyRemoves.length\n\t\tif (len) {\n\t\t\tif (list.length) {\n\t\t\t\twhile (len--) __remove(list, lazyRemoves[len])\n\t\t\t} else {\n\t\t\t\t__clean(list)\n\t\t\t}\n\t\t\tlazyRemoves.length = 0\n\t\t}\n\t}\n}\n","/*\n * Function List\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 17:59:11\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-06 13:57:17\n */\nimport { assert } from 'devlevel'\nimport List from './List'\nimport { inherit, create, defPropValue } from '../helper'\n\nexport const DEFAULT_FN_BINDING = '__id__'\nexport const DEFAULT_SCOPE_BINDING = '__id__'\nexport default function FnList(fnBinding, scopeBinding) {\n\tthis.nodeMap = create(null)\n\tthis.list = new List()\n\tthis.fnBinding = fnBinding || DEFAULT_FN_BINDING\n\tthis.scopeBinding = scopeBinding || DEFAULT_SCOPE_BINDING\n}\n\ndefPropValue(FnList, 'fnBinding', DEFAULT_FN_BINDING)\ndefPropValue(FnList, 'scopeBinding', DEFAULT_FN_BINDING)\n\ninherit(FnList, {\n\tadd(fn, scope, data) {\n\t\tassert.fn(fn, 'fn is not a Function.')\n\t\tscope = parseScope(scope)\n\t\tconst { list, nodeMap } = this\n\t\tconst id = nodeId(fn, scope, this)\n\t\tlet node = nodeMap[id]\n\t\tif (!node) {\n\t\t\tnode = [id, fn, scope, data]\n\t\t\tvar ret = list.add(node)\n\t\t\tif (ret) nodeMap[id] = node\n\t\t\treturn ret\n\t\t}\n\t},\n\tremove(fn, scope) {\n\t\tassert.fn(fn, 'fn is not a Function.')\n\t\tconst { list, nodeMap } = this\n\t\tconst id = nodeId(fn, parseScope(scope), this)\n\t\tconst node = nodeMap[id]\n\t\tif (node) {\n\t\t\tnodeMap[id] = undefined\n\t\t\treturn list.remove(node)\n\t\t}\n\t\treturn false\n\t},\n\thas(fn, scope) {\n\t\tassert.fn(fn, 'fn is not a Function.')\n\t\treturn !!this.nodeMap[nodeId(fn, parseScope(scope), this)]\n\t},\n\tsize() {\n\t\treturn this.list.length\n\t},\n\tclean() {\n\t\tthis.nodeMap = create(null)\n\t\tthis.list.clean()\n\t},\n\teach(cb, scope) {\n\t\tassert.fn(cb, 'callback is not a Function.')\n\t\tif (scope) cb = cb.bind(scope)\n\t\tthis.list.each(node => cb(node[1], node[2], node[3]))\n\t},\n})\n\nconst DEFAULT_SCOPE_ID = 1\nlet scopeIdGenerator = 1,\n\tfnIdGenerator = 0\n\nfunction nodeId(fn, scope, list) {\n\tconst { fnBinding, scopeBinding } = list\n\n\tlet fnId = fn[fnBinding],\n\t\tscopeId = scope ? scope[scopeBinding] : DEFAULT_SCOPE_ID\n\tif (!fnId) fnId = defPropValue(fn, fnBinding, ++fnIdGenerator)\n\tif (!scopeId) scopeId = defPropValue(scope, scopeBinding, ++scopeIdGenerator)\n\treturn `${fnId}&${scopeId}`\n}\n\nfunction parseScope(scope) {\n\treturn !scope ? undefined : scope\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 17:59:58\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 17:59:58\n */\nimport { assert } from 'devlevel'\nimport FnList from './FnList'\n\nconst ticks = new FnList()\nlet pending = false\nlet next\n\nfunction executeTick(fn, scope) {\n\tscope ? fn.call(scope) : fn()\n}\n\nfunction flush() {\n\tticks.each(executeTick)\n\tticks.clean()\n\tpending = false\n}\n\nif (typeof MutationObserver === 'function') {\n\t// chrome18+, safari6+, firefox14+,ie11+,opera15\n\tvar counter = 0,\n\t\tobserver = new MutationObserver(flush),\n\t\ttextNode = document.createTextNode(counter)\n\tobserver.observe(textNode, {\n\t\tcharacterData: true,\n\t})\n\tnext = function() {\n\t\ttextNode.data = counter = counter ? 0 : 1\n\t}\n} else {\n\tnext = function() {\n\t\tsetTimeout(flush, 0)\n\t}\n}\n\nexport function nextTick(fn, scope) {\n\tticks.add(fn, scope)\n\tif (!pending) {\n\t\tpending = true\n\t\tnext()\n\t}\n}\n\nexport function clearTick(fn, scope) {\n\tticks.remove(fn, scope)\n}\n","/*\n * String format\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-07-25 14:57:08\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-11-05 15:57:16\n */\nimport { PROTOTYPE } from '../helper/constants'\n\nconst STR_ESCAPE_MAP = {\n\t\t'\\n': '\\\\n',\n\t\t'\\t': '\\\\t',\n\t\t'\\f': '\\\\f',\n\t\t'\"': '\\\\\"',\n\t},\n\tSTR_ESCAPE = /[\\n\\t\\f\"]/g\n\nexport function escapeString(str) {\n\treturn str.replace(STR_ESCAPE, str => STR_ESCAPE_MAP[str])\n}\n\nexport function pad(str, len, chr, leftAlign) {\n\tstr = String(str)\n\tconst l = str.length\n\tif (l >= len) return str\n\n\tconst padding = new Array(len - l + 1).join(chr || ' ')\n\treturn leftAlign ? str + padding : padding + str\n}\n\nfunction replacor(regs) {\n\treturn function(str) {\n\t\tfor (let i = 0, reg; i < 4; i++) {\n\t\t\treg = regs[i]\n\t\t\tif (reg[0].test(str)) return str.replace(reg[0], reg[1])\n\t\t}\n\t\treturn str\n\t}\n}\n\nexport const plural = replacor([[/([a-zA-Z]+[^aeiou])y$/, '$1ies'], [/([a-zA-Z]+[aeiou]y)$/, '$1s'], [/([a-zA-Z]+[sxzh])$/, '$1es'], [/([a-zA-Z]+[^sxzhy])$/, '$1s']])\n\nexport const singular = replacor([[/([a-zA-Z]+[^aeiou])ies$/, '$1y'], [/([a-zA-Z]+[aeiou])s$/, '$1'], [/([a-zA-Z]+[sxzh])es$/, '$1'], [/([a-zA-Z]+[^sxzhy])s$/, '$1']])\n\nconst thousandSeparationReg = /(\\d)(?=(\\d{3})+(?!\\d))/g\nexport function thousandSeparate(number) {\n\tlet split = (number + '').split('.')\n\tsplit[0] = split[0].replace(thousandSeparationReg, '$1,')\n\treturn split.join('.')\n}\n\n// ========================== formatter ===========================\n// [index]    [flags]   [min-width]       [precision]         type\n// index$|$   ,-+#0     width|index$|*|$  .width|.index$|*|$  %sfducboxXeEgGpP\nconst formatReg = /%(\\d+\\$|\\*|\\$)?([-+#0, ]*)?(\\d+\\$?|\\*|\\$)?(\\.\\d+\\$?|\\.\\*|\\.\\$)?([%sfducboxXeEgGpP])/g\nconst slice = Array[PROTOTYPE].slice\n\nfunction _format(str, args) {\n\tlet index = 0\n\n\t// for min-width & precision\n\tfunction parseWidth(width) {\n\t\tif (!width) {\n\t\t\twidth = 0\n\t\t} else if (width == '*') {\n\t\t\twidth = +args[index++]\n\t\t} else if (width == '$') {\n\t\t\twidth = +args[index]\n\t\t} else if (width.charAt(width.length - 1) == '$') {\n\t\t\twidth = +args[width.slice(0, -1) - 1]\n\t\t} else {\n\t\t\twidth = +width\n\t\t}\n\t\treturn isFinite(width) ? (width < 0 ? undefined : width) : undefined\n\t}\n\n\t// for index\n\tfunction parseArg(i) {\n\t\tif (!i || i == '*') return args[index++]\n\t\tif (i == '$') return args[index]\n\t\treturn args[i.slice(0, -1) - 1]\n\t}\n\n\tstr = str.replace(formatReg, function(match, idx, flags, minWidth, precision, type) {\n\t\tif (type === '%') return '%'\n\n\t\tlet value = parseArg(idx)\n\t\tminWidth = parseWidth(minWidth)\n\t\tprecision = precision && parseWidth(precision.slice(1))\n\t\tif (!precision && precision !== 0) precision = 'fFeE'.indexOf(type) == -1 && type == 'd' ? 0 : undefined\n\n\t\tlet leftJustify = false,\n\t\t\tpositivePrefix = '',\n\t\t\tzeroPad = false,\n\t\t\tprefixBaseX = false,\n\t\t\tthousandSeparation = false,\n\t\t\tprefix,\n\t\t\tbase,\n\t\t\tc,\n\t\t\ti,\n\t\t\tj\n\n\t\tfor (i = 0, j = flags && flags.length; i < j; i++) {\n\t\t\tc = flags.charAt(i)\n\t\t\tswitch (c) {\n\t\t\t\tcase ' ':\n\t\t\t\tcase '+':\n\t\t\t\t\tpositivePrefix = c\n\t\t\t\t\tbreak\n\t\t\t\tcase '-':\n\t\t\t\t\tleftJustify = true\n\t\t\t\t\tbreak\n\t\t\t\tcase '0':\n\t\t\t\t\tzeroPad = true\n\t\t\t\t\tbreak\n\t\t\t\tcase '#':\n\t\t\t\t\tprefixBaseX = true\n\t\t\t\t\tbreak\n\t\t\t\tcase ',':\n\t\t\t\t\tthousandSeparation = true\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tswitch (type) {\n\t\t\tcase 'c':\n\t\t\t\tvalue = +value\n\t\t\t\tvalue = isNaN(value) || !isFinite(value) ? '' : String.fromCharCode(value)\n\t\t\t\tif (value.length < minWidth) value = pad(value, minWidth, zeroPad ? '0' : ' ', leftJustify)\n\t\t\t\treturn value\n\t\t\tcase 's':\n\t\t\t\tif (value === undefined || value === null || (typeof value === 'number' && (isNaN(value) || !isFinite(value)))) {\n\t\t\t\t\tvalue = ''\n\t\t\t\t} else {\n\t\t\t\t\tvalue += ''\n\t\t\t\t\tif (precision && value.length > precision) value = value.slice(0, precision)\n\t\t\t\t}\n\t\t\t\tif (value.length < minWidth) value = pad(value, minWidth, zeroPad ? '0' : ' ', leftJustify)\n\t\t\t\treturn value\n\t\t\tcase 'd':\n\t\t\t\tvalue = parseInt(value)\n\t\t\t\tif (isNaN(value) || !isFinite(value)) {\n\t\t\t\t\tvalue = ''\n\t\t\t\t\tprefix = positivePrefix\n\t\t\t\t} else {\n\t\t\t\t\tif (value < 0) {\n\t\t\t\t\t\tprefix = '-'\n\t\t\t\t\t\tvalue = -value\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprefix = positivePrefix\n\t\t\t\t\t}\n\t\t\t\t\tvalue += ''\n\t\t\t\t}\n\t\t\t\tif (value.length < minWidth) value = pad(value, minWidth, '0', false)\n\t\t\t\tif (thousandSeparation) value = value.replace(thousandSeparationReg, '$1,')\n\t\t\t\treturn prefix + value\n\t\t\tcase 'e':\n\t\t\tcase 'E':\n\t\t\tcase 'f':\n\t\t\tcase 'g':\n\t\t\tcase 'G':\n\t\t\tcase 'p':\n\t\t\tcase 'P': {\n\t\t\t\tlet number = +value\n\t\t\t\tif (isNaN(number) || !isFinite(value)) {\n\t\t\t\t\tnumber = ''\n\t\t\t\t} else {\n\t\t\t\t\tif (number < 0) {\n\t\t\t\t\t\tprefix = '-'\n\t\t\t\t\t\tnumber = -number\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprefix = positivePrefix\n\t\t\t\t\t}\n\n\t\t\t\t\tswitch (type.toLowerCase()) {\n\t\t\t\t\t\tcase 'f':\n\t\t\t\t\t\t\tnumber = precision === undefined ? number + '' : number.toFixed(precision)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'e':\n\t\t\t\t\t\t\tnumber = number.toExponential(precision)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'g':\n\t\t\t\t\t\t\tnumber = precision === undefined ? number + '' : number.toPrecision(precision)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'p':\n\t\t\t\t\t\t\tif (precision !== undefined) {\n\t\t\t\t\t\t\t\tlet sf = String(value).replace(/[eE].*|[^\\d]/g, '')\n\t\t\t\t\t\t\t\tsf = (number ? sf.replace(/^0+/, '') : sf).length\n\t\t\t\t\t\t\t\tprecision = Math.min(precision, sf)\n\t\t\t\t\t\t\t\tnumber = number[!precision || precision <= sf ? 'toPrecision' : 'toExponential'](precision)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnumber += ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (number.length < minWidth) number = pad(number, minWidth, '0', false)\n\t\t\t\tif (thousandSeparation) {\n\t\t\t\t\tlet split = number.split('.')\n\t\t\t\t\tsplit[0] = split[0].replace(thousandSeparationReg, '$1,')\n\t\t\t\t\tnumber = split.join('.')\n\t\t\t\t}\n\t\t\t\tvalue = prefix + number\n\t\t\t\tif ('EGP'.indexOf(type) != -1) return value.toUpperCase()\n\t\t\t\treturn value\n\t\t\t}\n\t\t\tcase 'b':\n\t\t\t\tbase = 2\n\t\t\t\tbreak\n\t\t\tcase 'o':\n\t\t\t\tbase = 8\n\t\t\t\tbreak\n\t\t\tcase 'u':\n\t\t\t\tbase = 10\n\t\t\t\tbreak\n\t\t\tcase 'x':\n\t\t\tcase 'X':\n\t\t\t\tbase = 16\n\t\t\t\tbreak\n\t\t\tcase 'n':\n\t\t\t\treturn ''\n\t\t\tdefault:\n\t\t\t\treturn match\n\t\t}\n\t\tlet number = value >>> 0\n\t\tprefix = (prefixBaseX && base != 10 && number && ['0b', '0', '0x'][base >> 3]) || ''\n\t\tnumber = number.toString(base)\n\t\tif (number.length < minWidth) number = pad(number, minWidth, '0', false)\n\t\tvalue = prefix + number\n\t\tif (type == 'X') return value.toUpperCase()\n\t\treturn value\n\t})\n\n\treturn {\n\t\tformat: str, // format result\n\t\tcount: index, // format param count\n\t}\n}\n\nexport function format(str) {\n\treturn _format(str, slice.call(arguments, 1)).format\n}\n\nformat.format = _format\n","/*\n * property path\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 18:00:02\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 18:00:02\n */\nimport { assert } from 'devlevel'\nimport { create, isArray } from '../helper'\n\nconst pathCache = create(null),\n\tpathReg = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,\n\tescapeCharReg = /\\\\(\\\\)?/g,\n\tformatReg = /(?:\\.|^)([^a-zA-Z_$][^.]*)/g\n\nexport function parsePath(path, cache) {\n\tif (isArray(path)) return path\n\n\tassert.str(path, `Require path[Array | String]`)\n\n\tlet rs = pathCache[path]\n\tif (!rs) {\n\t\trs = []\n\t\tif (cache !== false) pathCache[path] = rs\n\t\tpath.replace(pathReg, function(match, number, quote, string) {\n\t\t\trs.push(quote ? string.replace(escapeCharReg, '$1') : number || match)\n\t\t})\n\t}\n\treturn rs.slice()\n}\n\nexport function formatPath(path) {\n\tif (isArray(path)) return path.join('.').replace(formatReg, formatHandle)\n\tassert.str(path, `Require path[Array | String]`)\n\treturn path\n}\n\nfunction formatHandle(m, i) {\n\treturn `['${i}']`\n}\n\nexport function get(obj, path) {\n\tpath = parsePath(path)\n\tconst l = path.length - 1\n\tif (l === -1) return obj\n\tlet i = 0\n\tfor (; i < l; i++) {\n\t\tobj = obj[path[i]]\n\t\tif (obj === null || obj === undefined) return undefined\n\t}\n\treturn obj ? obj[path[i]] : undefined\n}\n\nexport function set(obj, path, value) {\n\tpath = parsePath(path)\n\tconst l = path.length - 1\n\tif (l === -1) return\n\tlet attr,\n\t\tv,\n\t\ti = 0\n\tfor (; i < l; i++) {\n\t\tattr = path[i]\n\t\tv = obj[attr]\n\t\tif (!v) obj[attr] = v = {}\n\t\tobj = v\n\t}\n\tattr = path[i]\n\tobj[attr] = value\n}\n","import { assert, error } from 'devlevel'\nimport { inherit, isObj, isFn, isStr, isNum, isInt, isArray, isBool, isReg, applyNoScope, reEscape, regStickySupport, makeMap, assign } from '../helper'\nimport { pad, escapeString } from './format'\n\n// ================================================\n// Text Stream\n// ================================================\nconst LINE_REG = /\\n/g\n\nfunction Stream(buff) {\n\tthis.orgbuff = buff\n\tthis.orglen = buff.length\n\t// [buff, offset, orgoffset, prev, char code cache]\n\tconst curr = [buff, 0, 0, null, null]\n\tthis.curr = curr\n\tthis.stack = [curr]\n}\ninherit(Stream, {\n\tenter() {\n\t\tlet { curr } = this\n\t\t// [buff, offset, orgoffset, prev, char code cache]\n\t\tthis.curr = curr = [curr[0], curr[1], curr[2], curr, null]\n\t\tthis.stack.push(curr)\n\t},\n\treset() {\n\t\tconst { curr } = this\n\t\tconst prev = curr[3]\n\t\tif (curr[2] !== prev[2]) {\n\t\t\tcurr[0] = prev[0]\n\t\t\tcurr[1] = prev[1]\n\t\t\tcurr[2] = prev[2]\n\t\t\tcurr[4] = null\n\t\t\treturn true\n\t\t}\n\t},\n\texit() {\n\t\tconst curr = this.stack.pop()\n\t\tthis.curr = curr[3]\n\t},\n\tcommit() {\n\t\tconst curr = this.stack.pop(),\n\t\t\tprev = curr[3]\n\t\tthis.curr = prev\n\t\tprev[0] = curr[0]\n\t\tprev[1] = curr[1]\n\t\tprev[2] = curr[2]\n\t\tprev[4] = curr[4]\n\t},\n\tbuff(reset) {\n\t\tconst { curr } = this\n\t\tif (reset) {\n\t\t\tcurr[0] = curr[0].substring(curr[1])\n\t\t\tcurr[1] = 0\n\t\t}\n\t\treturn curr[0]\n\t},\n\toffset() {\n\t\treturn this.curr[1]\n\t},\n\torgOffset() {\n\t\treturn this.curr[2]\n\t},\n\tupOrgOffset() {\n\t\tconst prev = this.curr[3]\n\t\treturn prev ? prev[2] : 0\n\t},\n\tnextCode() {\n\t\tconst { curr } = this\n\t\tif (curr[4] === null) curr[4] = curr[2] < this.orglen ? curr[0].charCodeAt(curr[1]) : 0\n\t\treturn curr[4]\n\t},\n\tconsume(len) {\n\t\tif (len) {\n\t\t\tconst { curr } = this\n\t\t\tcurr[1] += len\n\t\t\tcurr[2] += len\n\t\t\tcurr[4] = null\n\t\t}\n\t},\n\tposition(offset) {\n\t\tconst { orgbuff } = this\n\t\tlet line = 0,\n\t\t\tlineOffset = 0\n\n\t\twhile (LINE_REG.exec(orgbuff) && offset >= LINE_REG.lastIndex) {\n\t\t\tlineOffset = LINE_REG.lastIndex\n\t\t\tline++\n\t\t}\n\t\tLINE_REG.lastIndex = 0\n\t\treturn [line, offset - lineOffset]\n\t},\n\tsource() {\n\t\tconst { orgbuff } = this\n\t\tlet line = 1\n\t\treturn ` 0: ${orgbuff.replace(LINE_REG, () => `\\n${pad(line++, 2)}: `)}`\n\t},\n})\n\n// ================================================\n// Rule Base API\n// ================================================\nlet idGen = 0\n\nexport const MatchResult = inherit(\n\tfunction MatchResult(parent) {\n\t\tthis.parent = parent\n\t\tthis.data = []\n\t},\n\t{\n\t\tadd(data) {\n\t\t\tthis.data.push(data)\n\t\t},\n\t\taddAll(datas) {\n\t\t\tconst { data } = this\n\t\t\tconst len = data.length\n\t\t\tlet i = datas.length\n\t\t\twhile (i--) data[len + i] = datas[i]\n\t\t},\n\t\tempty() {\n\t\t\tthis.setLen(0)\n\t\t},\n\t\tsetLen(len) {\n\t\t\tconst { data } = this\n\t\t\tif (data.length > len) data.length = len\n\t\t},\n\t}\n)\n\n/**\n * static Rule options\n */\nexport function UNATTACH() {}\nexport const UNCAPTURABLE = {\n\t\tcapturable: false,\n\t},\n\tUNATTACH_CAPTURABLE = {\n\t\tattach: UNATTACH,\n\t\tcapturable: false,\n\t}\n\nfunction defaultErrorMsg(err) {\n\treturn err\n}\n\nfunction defaultAttach(data, rs) {\n\trs.add(data)\n}\n\nfunction defaultRuleTest() {\n\treturn true\n}\n\nconst OPTION_ATTACH = 'attach',\n\tOPTION_ERROR = 'error',\n\tOPTION_CAPTURABLE = 'capturable'\n/**\n * Rule Interface\n *\n * Overrides:\n *      Rule(name, attachFunction: <Function>)\n *\n *      Rule(name, errorMsg: <String>)\n *\n * @param {String}                  name                rule name\n * @param {Function|String|Object}  option              rule option\n * @param {Function}                option.attach       data attach callback\n * @param {Boolean}                 option.capturable   error is capturable\n * @param {Function|String}         option.error        error message or error message callback\n */\nexport function Rule(name, option) {\n\tthis.id = idGen++\n\tthis.name = name\n\tlet capturable = true,\n\t\tattach = null,\n\t\tmsg = null\n\n\tif (isObj(option)) {\n\t\tattach = option[OPTION_ATTACH]\n\t\tmsg = option[OPTION_ERROR]\n\t\tcapturable = option[OPTION_CAPTURABLE] !== false\n\t} else if (isFn(option)) {\n\t\tattach = option\n\t} else if (isStr(option)) {\n\t\tmsg = option\n\t}\n\tthis.capturable = capturable\n\tthis.attach = isFn(attach) ? attach : defaultAttach\n\tthis.msg = isStr(msg) ? () => msg : isFn(msg) ? msg : defaultErrorMsg\n}\ninherit(Rule, {\n\t$rule: true,\n\terror(stream, err, capturable, srcErr) {\n\t\terr = [stream.orgOffset(), this.msg(err), capturable && srcErr ? srcErr[2] : capturable, srcErr, this]\n\t\terr.$err = true\n\t\treturn err\n\t},\n\tsuccess(stream, data, result) {\n\t\tconst curr = stream.curr,\n\t\t\terr = this.attach(data, result, stream, this)\n\n\t\tassert(stream.curr == curr)\n\n\t\treturn err && !err.$err ? this.error(stream, err, false) : err\n\t},\n\tsetExpr(expr) {\n\t\tthis.defName = this.mkExpr(expr)\n\t\tthis.EXPECT = `Expect: ${expr}`\n\t},\n\tmkExpr(expr) {\n\t\treturn `<${this.type}: ${expr}>`\n\t},\n\ttoString() {\n\t\treturn this.name || this.defName\n\t},\n\tgetStart() {\n\t\treturn []\n\t},\n\ttest: defaultRuleTest,\n})\n\n// ================================================\n// Match Rule API\n// ================================================\n\nfunction testRuleByIndex(stream) {\n\treturn this.index[stream.nextCode()]\n}\n\n/**\n * match rule interface\n *\n * @param {String}                              name        rule name\n * @param {Int | String | Array<String | Int>}  startCodes  start codes in match\n * @param {Boolean}                             ignoreCase  is match ignore case\n * @param {?}                                   option      see Rule Constructor\n */\nexport const MatchRule = inherit(\n\tfunction MatchRule(name, startCodes, ignoreCase, option) {\n\t\tRule.call(this, name, option)\n\n\t\tconst start = [],\n\t\t\tindex = []\n\t\teachCharCodes(startCodes, ignoreCase, code => {\n\t\t\tif (!index[code]) {\n\t\t\t\tstart.push(code)\n\t\t\t\tindex[code] = code\n\t\t\t}\n\t\t})\n\t\tthis.start = start\n\t\tthis.index = index\n\t\tthis.test = start.length ? testRuleByIndex : defaultRuleTest\n\t},\n\tRule,\n\t{\n\t\tcomsume(stream, data, len, result) {\n\t\t\tstream.consume(len)\n\t\t\treturn this.success(stream, data, result)\n\t\t},\n\t\tgetStart() {\n\t\t\treturn this.start\n\t\t},\n\t}\n)\n\n// ================================================\n// Char Match Rule\n// ================================================\n\nfunction defaultCharMatchRuleTest() {\n\treturn stream.nextCode()\n}\n/**\n * match one char which in allow list\n * well match every char when allows is empty\n *\n * @param {String}                              name        rule name\n * @param {Int | String | Array<String | Int>}  allows      which char can be matched\n *                                                          well match every char when allows is empty\n * @param {Boolean}                             ignoreCase  is match ignore case\n * @param {?}                                   option      see Rule Constructor\n */\nexport const CharMatchRule = inherit(\n\tfunction CharMatchRule(name, allows, ignoreCase, option) {\n\t\tMatchRule.call(this, name, allows, ignoreCase, option)\n\n\t\tconst codes = this.start\n\t\tlet i = codes.length,\n\t\t\texpr = '*'\n\t\tif (i) {\n\t\t\tconst chars = []\n\t\t\twhile (i--) chars[i] = String.fromCharCode(codes[i])\n\t\t\texpr = `\"${chars.join('\" | \"')}\"`\n\t\t} else {\n\t\t\tthis.test = defaultCharMatchRuleTest\n\t\t}\n\t\tthis.setExpr(expr)\n\t},\n\tMatchRule,\n\t{\n\t\ttype: 'Character',\n\t\tmatch: function charMatch(stream, result) {\n\t\t\treturn this.comsume(stream, String.fromCharCode(stream.nextCode()), 1, result)\n\t\t},\n\t}\n)\n\n// ================================================\n// Regexp Match Rule\n// ================================================\n/**\n * match by RegExp\n *\n * optimization:\n *      Priority use sticky mode\n *\n * @param {String}                              name        rule name\n * @param {RegExp}                              regexp      regexp\n * @param {Int | Boolean}                       pick        pick match result\n *                                                          0       : [default] pick match[0]\n *                                                                    optimize: test and substring in sticky mode\n *                                                          pick > 0: pick match[pick]\n *                                                          pick < 0: pick first matched group\n *                                                          true    : pick match\n *                                                          false   : no data pick\n *                                                                    optimize: just test string in sticky mode\n * @param {Int | String | Array<String | Int>}  startCodes  start codes of regexp\n * @param {?}                                   option      see Rule Constructor\n */\nexport const RegMatchRule = inherit(\n\tfunction RegMatchRule(name, regexp, pick, startCodes, option) {\n\t\tpick = pick === false || isInt(pick) ? pick : !!pick || 0\n\n\t\tconst sticky = regStickySupport && !pick, // use exec when need pick match group data\n\t\t\tpattern = regexp.source,\n\t\t\tignoreCase = regexp.ignoreCase\n\n\t\t// always wrapping in a none capturing group preceded by '^' to make sure\n\t\t// matching can only work on start of input. duplicate/redundant start of\n\t\t// input markers have no meaning (/^^^^A/ === /^A/)\n\n\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/sticky\n\t\t// When the y flag is used with a pattern, ^ always matches only at the\n\t\t// beginning of the input, or (if multiline is true) at the beginning of a\n\t\t// line.\n\t\tregexp = new RegExp(sticky ? pattern : `^(?:${pattern})`, (ignoreCase ? 'i' : '') + (regexp.multiline ? 'm' : '') + (sticky ? 'y' : ''))\n\n\t\tMatchRule.call(this, name, startCodes, ignoreCase, option)\n\n\t\tthis.regexp = regexp\n\t\tthis.pick = pick\n\t\tthis.match = createRegMatchRulePolicy(name || `reg${this.id}`, sticky, pick)\n\n\t\tthis.setExpr(regexp.toString())\n\t},\n\tMatchRule,\n\t{\n\t\ttype: 'RegExp',\n\t}\n)\n\n/**\n * generate match function\n *\n * sticky mode:\n *      var reg = this.regexp,\n *          buff = stream.buff(),\n *          start = stream.offset()\n *      reg.lastIndex = start\n *      if (reg.test(buff))\n *          return this.comsume(stream,\n *                              this.pick === false ? null : buff.substring(start, reg.lastIndex),\n *                              reg.lastIndex - start)\n *      return this.error(stream, this.EXPECT, this.capturable, result);\n *\n * unsticky mode:\n *      var m = this.regexp.exec(stream.buff(true))\n *      if (m) {\n *          var pick = this.pick,\n *              pickData\n *          if (pick < 0) {\n *              pick = -pick\n *              for(var i = 1; i <= pick; i++) {\n *                  if (m[i]) {\n *                      pickData = m[i]\n *                      break\n *                  }\n *              }\n *          }else {\n *              pickData = pick === true ? m : m[pick || 0]\n *          }\n *          return this.comsume(stream, pickData, m[0].length, result)\n *      }\n *      return this.error(stream, this.EXPECT, this.capturable);\n *\n */\nfunction createRegMatchRulePolicy(name, sticky, pick) {\n\tconst R = `this.regexp`,\n\t\tSTREAM = 'stream',\n\t\tS_BUFF = `${STREAM}.buff`,\n\t\tLIDX = `r.lastIndex`\n\n\tname += `_${sticky ? 'test' : 'exec'}_pick_${pick === true ? 'all' : pick < 0 ? 'one_' + -pick : pick || 0}`\n\n\tlet code = sticky\n\t\t? // sticky mode\n\t\t  `var r = ${R}, b = ${S_BUFF}(), s = ${STREAM}.offset();\n\\t${LIDX} = s;\n\\tif (r.test(b))\n\\t\\t${consumCode(pick === false ? 'null' : `b.substring(s, ${LIDX})`, `${LIDX} - s`)}`\n\t\t: // unsticky mode\n\t\t  `var m = ${R}.exec(${S_BUFF}(true));\n\\tif (m)\n\\t\\t${consumCode(pick < 0 ? pickCode(-pick) : `m${pick === true ? '' : `[${pick || 0}]`}`, 'm[0].length')}`\n\n\treturn new Function(`return function ${name}(${STREAM}, rs){\n\\t${code}\n\\treturn this.error(${STREAM}, this.EXPECT, this.capturable);\n}`)()\n\n\tfunction consumCode(data, len) {\n\t\treturn `return this.comsume(${STREAM}, ${data}, ${len}, rs)`\n\t}\n\n\tfunction pickCode(pick) {\n\t\tlet arr = []\n\t\tfor (var i = 1; i <= pick; i++) arr.push(`m[${i}]`)\n\t\treturn arr.join(' || ')\n\t}\n}\n\n// ================================================\n// String Match Rule\n// ================================================\n/**\n * match string\n *\n * @param {String}  name        rule name\n * @param {String}  str         match string\n * @param {Boolean} ignoreCase  is match ignore case\n * @param {?}       option      see Rule Constructor\n */\nexport const StrMatchRule = inherit(\n\tfunction StrMatchRule(name, str, ignoreCase, option) {\n\t\tRegMatchRule.call(this, name, new RegExp(reEscape(str), ignoreCase ? 'i' : ''), 0, str.charCodeAt(0), option)\n\t\tthis.setExpr(str)\n\t},\n\tRegMatchRule,\n\t{\n\t\ttype: 'String',\n\t}\n)\n\n// ================================================\n// Match API\n// ================================================\n/**\n *\n * Overrides:\n *      match(name, regexp, pick, start, option)\n *\n *      match(name, regexp, start, option)\n *\n *      match(name, regexp, option: <Object>)\n *\n *      match(regexp, pick, start, option)\n *\n *      match(regexp, start, option)\n *\n *      match(regexp, option)\n *\n *      match(name, str, ignoreCase, option)\n *\n *      match(name, str, option)\n *\n *      match(str, ignoreCase, option)\n *\n *      match(str, option: <Object>)\n *\n *      match({\n *           name,\n *           pattern: <String>\n *           ignoreCase,\n *           // option...\n *           attach: <Function>,\n *           capturable: <Boolean>,\n *           error: <Function|String>\n *      })\n *      match({\n *           name,\n *           pattern: <RegExp>\n *           pick,\n *           startCodes,\n *           // option...\n *           attach: <Function>,\n *           capturable: <Boolean>,\n *           error: <Function|String>\n *      })\n *\n * @param {String}                              name        [Option] rule name\n * @param {String | RegExp}                     pattern     match pattern: String pattern | RegExp pattern\n * @param {Boolean}                             ignoreCase  [Option] [String pattern] is match ignore Case\n * @param {Int | true}                          pick        [Option] [RegExp pattern] pick match result, default: 0\n * @param {Int | String | Array<Int | String>}  startCodes  [Option] [RegExp pattern] start codes of RegExp\n * @param {?}                                   option      [Option] see Rule Constructor\n * @return {MatchRule}\n */\nexport function match(name, pattern) {\n\tconst args = arguments\n\tlet i = 2\n\n\tif (isReg(name) || !(isReg(pattern) || isStr(pattern))) {\n\t\tpattern = name\n\t\tname = null\n\t\ti = 1\n\t}\n\n\tif (isReg(pattern)) {\n\t\tvar pick = args[i++],\n\t\t\tstartCodes = args[i++],\n\t\t\toption = args[i++]\n\n\t\tif (!isBool(pick) && !isInt(pick)) {\n\t\t\toption = startCodes\n\t\t\tstartCodes = pick\n\t\t\tpick = 0\n\t\t}\n\t\tif (!isStr(startCodes) && !isNum(startCodes) && !isArray(startCodes)) {\n\t\t\toption = startCodes\n\t\t\tstartCodes = null\n\t\t}\n\t\treturn regMatch(name, pattern, pick, startCodes, option)\n\t}\n\n\tif (isStr(pattern) || isArray(pattern)) {\n\t\t// string pattern | char[] pattern\n\t\tvar ignoreCase = args[i++],\n\t\t\toption = args[i++]\n\n\t\tif (!isBool(ignoreCase)) {\n\t\t\toption = ignoreCase\n\t\t\tignoreCase = false\n\t\t}\n\t\treturn strMatch(name, pattern, ignoreCase, option)\n\t}\n\n\tif (isObj(pattern)) {\n\t\tconst _pattern = pattern.pattern,\n\t\t\tname = pattern.name,\n\t\t\toption = pattern.option\n\t\tif (isReg(_pattern)) return regMatch(name, _pattern, pattern.pick, pattern.startCodes, option)\n\t\tif (isStr(_pattern)) return strMatch(name, _pattern, pattern.ignoreCase, option)\n\t}\n\terror(`Invalid Match Rule: ${pattern}`)\n}\n\nfunction strMatch(name, pattern, ignoreCase, option) {\n\tconst C = isArray(pattern) || pattern.length <= 1 ? CharMatchRule : StrMatchRule\n\treturn new C(name, pattern, ignoreCase, option)\n}\n\nconst REG_ESPEC_CHARS = makeMap('dDsStrnt0cbBfvwW', '', 1)\n\nfunction regMatch(name, pattern, pick, startCodes, option) {\n\tconst source = pattern\n\tif (!pick) {\n\t\tvar c = 0\n\t\tif (source.length == 1 && source !== '^' && source !== '$') {\n\t\t\tc = source === '.' ? '' : source\n\t\t} else if (source.length == 2 && source[0] === '\\\\' && REG_ESPEC_CHARS[source[1]]) {\n\t\t\tc = source[1]\n\t\t}\n\t\tif (c != 0) return strMatch(name, c, pattern.ignoreCase, option)\n\t}\n\treturn new RegMatchRule(name, pattern, pick, startCodes, option)\n}\n\n// ================================================\n// Char Code Tools\n// ================================================\nfunction eachCharCodes(codes, ignoreCase, cb) {\n\tif (isStr(codes)) {\n\t\tvar i = codes.length\n\t\twhile (i--) eachCharCode(codes.charCodeAt(i), ignoreCase, cb)\n\t} else if (isArray(codes)) {\n\t\tvar i = codes.length\n\t\twhile (i--) eachCharCodes(codes[i], ignoreCase, cb)\n\t} else if (isInt(codes)) {\n\t\teachCharCode(codes, ignoreCase, cb)\n\t}\n}\n\nfunction eachCharCode(code, ignoreCase, cb) {\n\tcb(code)\n\tif (ignoreCase) {\n\t\tif (code <= 90) {\n\t\t\tif (code >= 65) cb(code + 32)\n\t\t} else if (code <= 122) {\n\t\t\tcb(code - 32)\n\t\t}\n\t}\n}\n\n// ================================================\n// Complex Rule API\n// ================================================\n\n/**\n * complex rule interface\n *\n * @param {String}              name        rule name\n * @param {Function|Array|...}  rules       complex rules\n * @param {?}                   option      see Rule Constructor\n */\nexport const ComplexRule = inherit(\n\tfunction ComplexRule(name, rules, option) {\n\t\tRule.call(this, name, option)\n\n\t\tconst getRules = this.getRules\n\n\t\tthis.getRules = function getLazyRules() {\n\t\t\tthis.getRules = getRules\n\n\t\t\tthis.rules = rules = parseComplexRules(this, isFn(rules) ? rules() : rules, [])\n\t\t\tconst len = (this.len = rules.length)\n\t\t\tassert(len, `Require Rules`)\n\n\t\t\t// parse Expression\n\t\t\tconst names = this.subNames()\n\t\t\tthis.setExpr(names.join(this.split))\n\n\t\t\tfor (let i = 0; i < len; i++) names[i] = `Expect[${i}]: ${names[i]}`\n\t\t\tthis.EXPECTS = names\n\n\t\t\tthis.__init(rules, len)\n\n\t\t\treturn this.getRules()\n\t\t}\n\t},\n\tRule,\n\t{\n\t\t/**\n\t\t * parse buffer\n\t\t *\n\t\t * @param {String} buff text buff\n\t\t */\n\t\tparse(buff, errSource) {\n\t\t\tconst result = new MatchResult(),\n\t\t\t\tstream = new Stream(buff)\n\t\t\tlet err = this.match(stream, result)\n\t\t\tif (err) {\n\t\t\t\tconst source = stream.source()\n\t\t\t\tvar pos,\n\t\t\t\t\tmsg = []\n\t\t\t\tdo {\n\t\t\t\t\tpos = stream.position(err[0])\n\t\t\t\t\tmsg.unshift(`[${pad(pos[0], 2)}:${pad(pos[1], 2)}] - ${err[4].toString()}: ${err[1]} on \"${escapeString(buff.substr(err[0], 20))}\"`)\n\t\t\t\t\terr = err[3]\n\t\t\t\t} while (err)\n\n\t\t\t\tif (errSource !== false) msg.push('[Source]', source)\n\n\t\t\t\tconst e = new SyntaxError(msg.join('\\n'))\n\t\t\t\te.source = source\n\t\t\t\tthrow e\n\t\t\t}\n\t\t\treturn result.data\n\t\t},\n\t\tcommit(stream, data, result) {\n\t\t\tconst err = this.success(stream, data, result)\n\n\t\t\tif (err) {\n\t\t\t\tstream.exit()\n\t\t\t\treturn err\n\t\t\t}\n\t\t\tstream.commit()\n\t\t},\n\t\texit(stream, msg, srcErr) {\n\t\t\tconst err = this.error(stream, msg, this.capturable, srcErr)\n\t\t\tstream.exit()\n\t\t\treturn err\n\t\t},\n\t\tinit() {\n\t\t\tthis.getRules()\n\t\t\treturn this\n\t\t},\n\t\t__init() {},\n\t\tgetRules() {\n\t\t\treturn this.rules\n\t\t},\n\t\tsubNames(map) {\n\t\t\tconst rules = this.getRules(),\n\t\t\t\tnames = []\n\t\t\tfor (let i = 0; i < this.len; i++) names[i] = rules[i].toString(this.idStack(this.id, map))\n\t\t\treturn names\n\t\t},\n\t\ttoString(map) {\n\t\t\tthis.init()\n\t\t\tif (this.name) return this.name\n\t\t\tif (map) {\n\t\t\t\tconst { id } = this\n\t\t\t\tif (map[id]) {\n\t\t\t\t\tif (map[id] === 1) return `<${this.type} -> $Self>`\n\t\t\t\t\treturn `<${this.type} -> $${map[id]}>`\n\t\t\t\t}\n\t\t\t\treturn this.mkExpr(this.subNames(map).join(this.split))\n\t\t\t}\n\t\t\treturn this.defName\n\t\t},\n\t\tidStack(id, map) {\n\t\t\tmap = assign(\n\t\t\t\t{\n\t\t\t\t\tlevel: 0,\n\t\t\t\t\tpush: idStackPush,\n\t\t\t\t},\n\t\t\t\tmap\n\t\t\t)\n\t\t\tif (id) map.push(id)\n\t\t\treturn map\n\t\t},\n\t}\n)\n\nfunction idStackPush(id) {\n\tthis[id] = ++this.level\n\treturn this\n}\n\nfunction parseComplexRules(curr, rules, dist) {\n\tfor (let i = 0, l = rules.length; i < l; i++) {\n\t\tif (!rules[i]) error(`Empty Rules[${i}]: ${rules}`)\n\t\tparseRule(curr, rules[i], dist)\n\t}\n\treturn dist\n}\n\nfunction parseRule(curr, rule, dist) {\n\tif (rule.$rule) {\n\t\t// Rule Object\n\t\tdist.push(rule)\n\t} else if (isStr(rule)) {\n\t\t// match rule\n\t\tdist.push(match(rule, UNATTACH))\n\t} else if (isReg(rule)) {\n\t\tdist.push(match(rule, false, UNATTACH))\n\t} else if (isObj(rule)) {\n\t\tdist.push(match(rule))\n\t} else if (isArray(rule)) {\n\t\t// rule connections or match rule\n\t\tdist.push(applyNoScope(match, rule))\n\t} else {\n\t\terror(`Invalid Rule: ${rule}`)\n\t}\n}\n\n// ================================================\n// Complex Rules\n// ================================================\n/**\n * and complex rule interface\n *\n * @param {String}              name        rule name\n * @param {Function|Array|...}  rules       complex rules\n * @param {?}                   option      see Rule Constructor\n */\nexport const AndRule = inherit(\n\tfunction AndRule(name, rules, option) {\n\t\tComplexRule.call(this, name, rules, option)\n\t},\n\tComplexRule,\n\t{\n\t\ttype: 'And',\n\t\tsplit: ' + ',\n\t\t__init(rules, len) {\n\t\t\tconst start = [],\n\t\t\t\tindex = [],\n\t\t\t\tcodes = rules[0].getStart(this.idStack(this.id))\n\n\t\t\teachCharCodes(codes, false, code => {\n\t\t\t\tif (!index[code]) {\n\t\t\t\t\tstart.push(code)\n\t\t\t\t\tindex[code] = code\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.start = start\n\t\t\tthis.index = index\n\t\t\tthis.test = start.length ? testRuleByIndex : defaultRuleTest\n\t\t},\n\t\tgetStart(map) {\n\t\t\tthis.init()\n\t\t\tif (this.start) return this.start\n\t\t\tif (map) {\n\t\t\t\tconst { id } = this\n\t\t\t\tif (map[id]) return []\n\t\t\t\treturn this.getRules()[0].getStart(this.idStack(id, map))\n\t\t\t}\n\t\t\treturn this.start\n\t\t},\n\t\tmatch: function andMatch(stream, result) {\n\t\t\tconst rules = this.getRules(),\n\t\t\t\tlen = this.len,\n\t\t\t\trs = new MatchResult(result)\n\t\t\tlet err,\n\t\t\t\ti = 0\n\n\t\t\tstream.enter()\n\t\t\tfor (; i < len; i++) {\n\t\t\t\tif (!rules[i].test(stream) || (err = rules[i].match(stream, rs))) {\n\t\t\t\t\treturn this.exit(stream, this.EXPECTS[i], err)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.commit(stream, rs.data, result)\n\t\t},\n\t}\n)\n\nexport const OrRule = inherit(\n\tfunction OrRule(name, rules, option) {\n\t\tComplexRule.call(this, name, rules, option)\n\t},\n\tComplexRule,\n\t{\n\t\ttype: 'Or',\n\t\tsplit: ' | ',\n\t\t__init(rules, len) {\n\t\t\tconst starts = [], // all distinct start codes\n\t\t\t\trStarts = [], // start codes per rule\n\t\t\t\tindex = [\n\t\t\t\t\t[], // rules witch have unkown start code\n\t\t\t\t]\n\n\t\t\tlet i, j, k, codes\n\n\t\t\t// get start codes of all rules\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\trStarts[i] = []\n\t\t\t\tcodes = rules[i].getStart(this.idStack(this.id))\n\t\t\t\teachCharCodes(codes, false, code => {\n\t\t\t\t\trStarts[i].push(code)\n\t\t\t\t\tif (!index[code]) {\n\t\t\t\t\t\t// init index\n\t\t\t\t\t\tindex[code] = []\n\t\t\t\t\t\tstarts.push(code)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// fill index\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tcodes = rStarts[i]\n\t\t\t\tif (!codes.length) {\n\t\t\t\t\t// rules[i] not unkown start code\n\t\t\t\t\tindex[0].push(rules[i]) // append rules[i] to index[0]\n\t\t\t\t\tcodes = starts // append rules[i] to all start code index\n\t\t\t\t}\n\t\t\t\t// append rules[i] to start code index\n\t\t\t\tj = codes.length\n\t\t\t\twhile (j--) {\n\t\t\t\t\tk = index[codes[j]]\n\t\t\t\t\tif (k.idx !== i) {\n\t\t\t\t\t\t// deduplication\n\t\t\t\t\t\tk.push(rules[i]) // append rules[i] to start code index[codes[j]]\n\t\t\t\t\t\tk.idx = i\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.rStarts = rStarts\n\t\t\t// rule have unkown start code when got unkown start code from any rules\n\t\t\tthis.start = index[0].length ? [] : starts\n\t\t\tthis.test = starts.length && !index[0].length ? testRuleByIndex : this.test\n\n\t\t\tif (starts.length)\n\t\t\t\t// not use index when got unkown start code from every rules\n\t\t\t\tthis.index = index\n\t\t},\n\t\tgetStart(map) {\n\t\t\tthis.init()\n\t\t\tif (this.start) return this.start\n\t\t\tif (map) {\n\t\t\t\tconst { id } = this\n\t\t\t\tif (map[id]) return []\n\n\t\t\t\tconst rules = this.getRules(),\n\t\t\t\t\tstarts = []\n\t\t\t\tfor (var i = 0, start; i < this.len; i++) {\n\t\t\t\t\tstart = rules[i].getStart(this.idStack(id, map))\n\t\t\t\t\tif (!start.length) return []\n\t\t\t\t\tstarts[i] = start\n\t\t\t\t}\n\t\t\t\treturn starts\n\t\t\t}\n\t\t\treturn this.start\n\t\t},\n\t\tmatch: function orMatch(stream, result) {\n\t\t\tconst { index } = this\n\t\t\tconst rules = index ? index[stream.nextCode()] || index[0] : this.getRules(),\n\t\t\t\tlen = rules.length\n\n\t\t\tconst rs = new MatchResult(result)\n\t\t\tvar err, upErr, i\n\t\t\tstream.enter()\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (!(err = rules[i].match(stream, rs)) && !(err = this.success(stream, rs.data, result))) {\n\t\t\t\t\tstream.commit()\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (!err[2])\n\t\t\t\t\t// not capturable error\n\t\t\t\t\treturn this.exit(stream, this.EXPECTS[i], err)\n\n\t\t\t\tif (!upErr || err[0] >= upErr[0]) upErr = err\n\t\t\t\tstream.reset()\n\t\t\t\trs.empty()\n\t\t\t}\n\t\t\treturn this.exit(stream, this.EXPECT, upErr)\n\t\t},\n\t}\n)\n\nfunction createRepeatRule(defType, Parent, match) {\n\treturn inherit(\n\t\tfunction AndRepeatRule(name, type, min, max, rules, option) {\n\t\t\tif (min < 0) min = 0\n\t\t\tif (max <= 0) max = 999999\n\t\t\tassert(min < max)\n\n\t\t\tParent.call(this, name, rules, option)\n\n\t\t\tthis.min = min\n\t\t\tthis.max = max\n\t\t\tthis.type = type || `${defType}[${min} - ${max}]`\n\t\t},\n\t\tParent,\n\t\t{\n\t\t\t__init(rules, len) {\n\t\t\t\tParent.prototype.__init.call(this, rules, len)\n\t\t\t\tif (!this.min) this.test = defaultRuleTest\n\t\t\t},\n\t\t\tmatch,\n\t\t}\n\t)\n}\n\nexport const AndRepeatRule = createRepeatRule('AndRepeat', AndRule, function andRepeatMatch(stream, result) {\n\tconst { min, max } = this\n\tconst rules = this.getRules(),\n\t\tlen = this.len,\n\t\trs = new MatchResult(result),\n\t\tdata = rs.data\n\n\tlet err,\n\t\trepeat = 0,\n\t\ti,\n\t\tl\n\n\tstream.enter()\n\tout: for (; repeat < max; repeat++) {\n\t\tl = data.length\n\t\tstream.enter()\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!rules[i].test(stream) || (err = rules[i].match(stream, rs))) {\n\t\t\t\tif (repeat < min || (err && !err[2])) {\n\t\t\t\t\t// have no enough data or error is not capturable\n\t\t\t\t\terr = this.exit(stream, this.EXPECTS[i], err)\n\t\t\t\t\tstream.exit()\n\t\t\t\t\treturn err\n\t\t\t\t}\n\t\t\t\tstream.exit()\n\t\t\t\trs.setLen(l)\n\t\t\t\tbreak out\n\t\t\t}\n\t\t}\n\t\tstream.commit()\n\t}\n\treturn this.commit(stream, data, result)\n})\n\nexport const OrRepeatRule = createRepeatRule('OrRepeat', OrRule, function orRepeatMatch(stream, result) {\n\tconst { min, max, index } = this\n\tconst rs = new MatchResult(result),\n\t\tdata = rs.data\n\tlet err,\n\t\tupErr,\n\t\trepeat = 0,\n\t\ti,\n\t\tl,\n\t\trules,\n\t\tlen\n\n\tif (!index) {\n\t\trules = this.getRules()\n\t\tlen = rules.length\n\t}\n\n\tstream.enter() // outer: enter\n\tout: for (; repeat < max; repeat++) {\n\t\tif (index) {\n\t\t\trules = index[stream.nextCode()] || index[0]\n\t\t\tlen = rules.length\n\t\t}\n\t\tif (len) {\n\t\t\tupErr = null\n\t\t\tl = data.length\n\t\t\tstream.enter() // inner: enter\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (!(err = rules[i].match(stream, rs))) {\n\t\t\t\t\tstream.commit() // inner: commit\n\t\t\t\t\tcontinue out\n\t\t\t\t}\n\t\t\t\tif (!err[2]) {\n\t\t\t\t\t// not capturable error\n\t\t\t\t\terr = this.exit(stream, this.EXPECTS[i], err) // inner: exit\n\t\t\t\t\tstream.exit() // outer: exit\n\t\t\t\t\treturn err\n\t\t\t\t}\n\t\t\t\tif (!upErr || err[0] >= upErr[0]) upErr = err\n\t\t\t\tstream.reset()\n\t\t\t\trs.setLen(l)\n\t\t\t}\n\t\t\tif (repeat < min) {\n\t\t\t\terr = this.exit(stream, this.EXPECT, upErr) // inner: exit\n\t\t\t\tstream.exit() // outer: exit\n\t\t\t\treturn err\n\t\t\t}\n\t\t} else if (repeat < min) return this.exit(stream, this.EXPECT) // outer: exit\n\t\tbreak\n\t}\n\treturn this.commit(stream, data, result) // outer: commit\n})\n\n// ================================================\n// Rule APIs\n// ================================================\n\n/**\n * and(name, rules[], option)\n *\n * and(name, rules..., option)\n *\n * and(rules[], option)\n *\n * and(rules..., option)\n *\n * and({\n *      name,\n *      rules,\n *      option\n * })\n * @param {String}                                                  name    [option] rule name\n * @param {(Array|Arguments)<Rule|String|RegExp|Function>|Function} rules   match rules\n * @param {Function}                                                option  see Rule.option\n */\nexport function and() {\n\treturn buildComplexRule(arguments, 0, (name, rules, option) => new AndRule(name, rules, option))\n}\n\nexport function or() {\n\treturn buildComplexRule(arguments, 0, (name, rules, option) => new OrRule(name, rules, option))\n}\n\nfunction buildRepeatRule(args, i, type, min, max, C) {\n\treturn buildComplexRule(args, i, (name, rules, option) => new C(name, type, min, max, rules, option))\n}\n\nfunction buildAndRepeatRule(args, i, type, min, max, C) {\n\treturn buildRepeatRule(args, i, type, min, max, AndRepeatRule)\n}\nexport function any() {\n\treturn buildAndRepeatRule(arguments, 0, 'Any', 0, -1)\n}\n\nexport function many() {\n\treturn buildAndRepeatRule(arguments, 0, 'Many', 1, -1)\n}\n\nexport function option() {\n\treturn buildAndRepeatRule(arguments, 0, 'Option', 0, 1)\n}\n\nexport function repeat(min, max) {\n\treturn buildAndRepeatRule(arguments, 2, 0, min, max)\n}\n\nfunction buildOrRepeatRule(args, i, type, min, max, C) {\n\treturn buildRepeatRule(args, i, type, min, max, OrRepeatRule)\n}\nexport function anyOne() {\n\treturn buildOrRepeatRule(arguments, 0, 'AnyOne', 0, -1)\n}\n\nexport function manyOne() {\n\treturn buildOrRepeatRule(arguments, 0, 'ManyOne', 1, -1)\n}\n\nexport function optionOne() {\n\treturn buildOrRepeatRule(arguments, 0, 'OptionOne', 0, 1)\n}\n\nexport function repeatOne(min, max) {\n\treturn buildOrRepeatRule(arguments, 2, 0, min, max)\n}\n\nfunction buildComplexRule(args, i, build) {\n\tconst arglen = args.length\n\n\tlet name = 0,\n\t\trules,\n\t\toption = null\n\n\tif (isObj(args[i])) {\n\t\tname = args[i].name\n\t\trules = args[i].rules\n\t\toption = args[i]\n\t} else {\n\t\tif (isStr(args[i])) name = args[i++]\n\n\t\tif (isArray(args[i]) || isFn(args[i])) {\n\t\t\trules = args[i++]\n\t\t\toption = args[i]\n\t\t} else {\n\t\t\trules = []\n\t\t\tfor (; i < arglen - 1; i++) rules.push(args[i])\n\t\t\tif (isFn(args[i]) || isObj(args[i]) || isStr(args[i])) option = args[i]\n\t\t\telse if (args[i]) rules.push(args[i])\n\t\t}\n\t}\n\treturn build(name, rules, option)\n}\n","/**\n * @module common/ast\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-11-06 18:02:16\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-11-06 18:02:16\n */\n","/*\n * Common Utils\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 17:59:38\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-11-07 09:16:18\n */\n\nexport { default as List } from './List'\nexport { default as FnList } from './FnList'\nexport * from './nextTick'\nexport * from './format'\nexport * from './path'\nimport * as Parser from './ASTBuilder'\nexport { Parser }\nexport * from './ast'\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:32:09\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:09\n */\nimport { global, isFn } from '../helper'\n\nexport default function(defaultProps) {\n\tif (isFn(global.Proxy)) {\n\t\treturn {\n\t\t\tname: 'Proxy',\n\t\t\tproxyEnabled: true,\n\t\t\timpl: {\n\t\t\t\t__init() {\n\t\t\t\t\tlet isArray = this.isArray\n\t\t\t\t\tthis.proxy = new Proxy(this.source, {\n\t\t\t\t\t\tget: (source, attr, proxy) => {\n\t\t\t\t\t\t\treturn source[attr]\n\t\t\t\t\t\t},\n\t\t\t\t\t\tset: (source, attr, value, proxy) => {\n\t\t\t\t\t\t\tif (defaultProps[attr]) {\n\t\t\t\t\t\t\t\tsource[attr] = value\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar oldValue = source[attr]\n\t\t\t\t\t\t\t\tsource[attr] = value\n\t\t\t\t\t\t\t\tthis.__write(attr, value, oldValue)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t}\n\t\treturn true\n\t}\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:32:14\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:14\n */\nimport { create, defProp, defPropSupport } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport default function() {\n\tlet defineProperty,\n\t\tname = 'Define Property'\n\tif (defPropSupport) {\n\t\tdefineProperty = function(observer, attr) {\n\t\t\tconst source = observer.source\n\t\t\tlet value = source[attr]\n\t\t\tdefProp(source, attr, {\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true,\n\t\t\t\tget() {\n\t\t\t\t\treturn value\n\t\t\t\t},\n\t\t\t\tset(newValue) {\n\t\t\t\t\tlet oldValue = value\n\t\t\t\t\tvalue = newValue\n\t\t\t\t\tobserver.__write(attr, newValue, oldValue)\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t} else if ('__defineGetter__' in {}) {\n\t\tname = 'Define getter and setter'\n\t\tconst { __defineGetter__, __defineSetter__ } = Object[PROTOTYPE]\n\t\tdefineProperty = function(observer, attr) {\n\t\t\tconst source = observer.source\n\t\t\tlet value = source[attr]\n\t\t\t__defineGetter__.call(source, attr, function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t\t__defineSetter__.call(source, attr, function(newValue) {\n\t\t\t\tlet oldValue = value\n\t\t\t\tvalue = newValue\n\t\t\t\tobserver.__write(attr, newValue, oldValue)\n\t\t\t})\n\t\t}\n\t}\n\tif (defineProperty) {\n\t\treturn {\n\t\t\tname,\n\t\t\timpl: {\n\t\t\t\t__init() {\n\t\t\t\t\tthis.defined = create(null)\n\t\t\t\t},\n\t\t\t\t__watch(attr) {\n\t\t\t\t\tconst defined = this.defined\n\t\t\t\t\tif (defined[attr]) {\n\t\t\t\t\t\tdefineProperty(this, attr)\n\t\t\t\t\t\tdefined[attr] = true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t}\n\t}\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:35:04\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:35:04\n */\nimport { error } from 'devlevel'\nimport { global, create, hasOwnProp } from '../helper'\n\nexport default function(defaultPropMap) {\n\tif (\n\t\t!(function() {\n\t\t\tif (global && global.VBArray) {\n\t\t\t\ttry {\n\t\t\t\t\tglobal.execScript(['Function parseVB(code)', '\\tExecuteGlobal(code)', 'End Function'].join('\\n'), 'VBScript')\n\t\t\t\t\treturn true\n\t\t\t\t} catch (e) {\n\t\t\t\t\terror(e.message, e)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t})()\n\t)\n\t\treturn false\n\n\tconst bindingProp = '__vbclass_binding__',\n\t\tconstructorProp = '__vbclass_constructor__'\n\tconst objectProps = 'hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(','),\n\t\tclassPool = create(null),\n\t\tconstructorScript = [\n\t\t\t'\\tPublic [',\n\t\t\tbindingProp,\n\t\t\t']\\r\\n',\n\t\t\t'\\tPublic Default Function [',\n\t\t\tconstructorProp,\n\t\t\t'](source)\\r\\n',\n\t\t\t'\\t\\tSet [',\n\t\t\tbindingProp,\n\t\t\t'] = source\\r\\n',\n\t\t\t'\\t\\tSet [',\n\t\t\tconstructorProp,\n\t\t\t'] = Me\\r\\n',\n\t\t\t'\\tEnd Function\\r\\n\\n',\n\t\t].join('')\n\n\tlet classNameGenerator = 1\n\n\tfunction parseGetter(prop, buffer) {\n\t\tbuffer.push.call(\n\t\t\tbuffer,\n\t\t\t'\\tPublic Property Let [',\n\t\t\tprop,\n\t\t\t'](val)\\r\\n',\n\t\t\t'\\t\\tCall [',\n\t\t\tbindingProp,\n\t\t\t'].doWrite(\"',\n\t\t\tprop,\n\t\t\t'\",val)\\r\\n',\n\t\t\t'\\tEnd Property\\r\\n',\n\t\t\t'\\tPublic Property Set [',\n\t\t\tprop,\n\t\t\t'](val)\\r\\n',\n\t\t\t'\\t\\tCall [',\n\t\t\tbindingProp,\n\t\t\t'].doWrite(\"',\n\t\t\tprop,\n\t\t\t'\",val)\\r\\n',\n\t\t\t'\\tEnd Property\\r\\n\\r\\n'\n\t\t)\n\t}\n\n\tfunction parseSetter(prop, buffer) {\n\t\tbuffer.push.call(\n\t\t\tbuffer,\n\t\t\t'\\tPublic Property Get [',\n\t\t\tprop,\n\t\t\t']\\r\\n',\n\t\t\t'\\tOn Error Resume Next\\r\\n',\n\t\t\t'\\t\\tSet[',\n\t\t\tprop,\n\t\t\t'] = [',\n\t\t\tbindingProp,\n\t\t\t'].doRead(\"',\n\t\t\tprop,\n\t\t\t'\")\\r\\n',\n\t\t\t'\\tIf Err.Number <> 0 Then\\r\\n',\n\t\t\t'\\t\\t[',\n\t\t\tprop,\n\t\t\t'] = [',\n\t\t\tbindingProp,\n\t\t\t'].doRead(\"',\n\t\t\tprop,\n\t\t\t'\")\\r\\n',\n\t\t\t'\\tEnd If\\r\\n',\n\t\t\t'\\tOn Error Goto 0\\r\\n',\n\t\t\t'\\tEnd Property\\r\\n\\r\\n'\n\t\t)\n\t}\n\n\tfunction parseVBClass(className, props) {\n\t\tlet buffer = ['Class ', className, '\\r\\n', constructorScript, '\\r\\n'],\n\t\t\tprop\n\n\t\tfor (var i = 0, l = props.length; i < l; i++) {\n\t\t\tprop = props[i]\n\t\t\tparseSetter(prop, buffer)\n\t\t\tparseGetter(prop, buffer)\n\t\t}\n\t\tbuffer.push('End Class')\n\t\treturn buffer.join('')\n\t}\n\n\tfunction getOrCreateVBClass(props) {\n\t\tlet classKey = [props.sort().join('|')].join(''),\n\t\t\tproviderName = classPool[classKey]\n\t\tif (!providerName) {\n\t\t\tvar className = 'VBClass' + classNameGenerator++\n\t\t\tproviderName = className + 'Provider'\n\t\t\tparseVB(parseVBClass(className, props))\n\t\t\tparseVB(['Function ', providerName, '(desc)\\r\\n', '\\tDim o\\r\\n', '\\tSet o = (New ', className, ')(desc)\\r\\n', '\\tSet ', providerName, ' = o\\r\\n', 'End Function'].join(''))\n\t\t\tclassPool[classKey] = providerName\n\t\t}\n\t\treturn providerName\n\t}\n\n\tfunction createProxy(source, vbproxy) {\n\t\tlet propMap = create(null),\n\t\t\tprops = [],\n\t\t\tprop\n\n\t\tfor (var i = 0, l = objectProps.length; i < l; i++) {\n\t\t\tprop = objectProps[i]\n\t\t\tpropMap[prop] = true\n\t\t\tprops[i] = prop\n\t\t}\n\n\t\tfor (prop in source) {\n\t\t\tif (!propMap[prop]) {\n\t\t\t\tprops.push(prop)\n\t\t\t\tpropMap[prop] = true\n\t\t\t}\n\t\t}\n\n\t\tfor (prop in defaultPropMap) {\n\t\t\tif (defaultPropMap[prop] && !propMap[prop]) {\n\t\t\t\tsource[prop] = undefined\n\t\t\t\tpropMap[prop] = true\n\t\t\t\tprops.push(prop)\n\t\t\t}\n\t\t}\n\t\treturn global[getOrCreateVBClass(props)](vbproxy)\n\t}\n\n\tfunction buildProxy(observer) {\n\t\tlet source = observer.source,\n\t\t\tproxy = (observer.proxy = createProxy(source, observer)),\n\t\t\tfuncs = (observer.funcs = create(null)),\n\t\t\tfunc\n\t\tfor (var prop in source) {\n\t\t\tfunc = source[prop]\n\t\t\tif (typeof func === 'function') funcs[prop] = func.bind(proxy)\n\t\t}\n\t}\n\treturn {\n\t\tname: 'VBProxy',\n\t\tproxyEnabled: true,\n\t\tproxyChangeable: true,\n\t\tsourceOwnProperty: true,\n\t\timpl: {\n\t\t\t__init() {\n\t\t\t\tbuildProxy(this)\n\t\t\t},\n\t\t\t__watch(attr) {\n\t\t\t\tif (!(attr in this.proxy)) {\n\t\t\t\t\tbuildProxy(this)\n\t\t\t\t\tthis.__proxyChanged()\n\t\t\t\t}\n\t\t\t},\n\t\t\tdoWrite(attr, value) {\n\t\t\t\tlet { source, proxy, funcs } = this\n\t\t\t\tif (typeof value === 'function') {\n\t\t\t\t\tfuncs[attr] = value.bind(proxy)\n\t\t\t\t} else if (funcs[attr]) {\n\t\t\t\t\tfuncs[attr] = false\n\t\t\t\t}\n\t\t\t\tif (defaultProps[attr]) {\n\t\t\t\t\tsource[attr] = value\n\t\t\t\t} else {\n\t\t\t\t\tvar oldValue = source[attr]\n\t\t\t\t\tsource[attr] = value\n\t\t\t\t\tthis.__write(attr, value, oldValue)\n\t\t\t\t}\n\t\t\t},\n\t\t\tdoRead(attr) {\n\t\t\t\tlet { source, proxy, funcs } = this\n\t\t\t\treturn funcs[attr] || source[attr]\n\t\t\t},\n\t\t},\n\t}\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:33:23\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-06 13:59:32\n */\nimport { assert, info } from 'devlevel'\nimport { List, FnList, nextTick, parsePath, formatPath, get, set } from '../common'\nimport { DEFAULT_BINDING } from '../common/List'\nimport { DEFAULT_FN_BINDING, DEFAULT_SCOPE_BINDING } from '../common/FnList'\nimport { inherit, create, extend, apply, defPropValue, hasOwnProp, eq, isPrimitive, isArray, makeMap, makeArray } from '../helper'\nimport es6 from './es6'\nimport es5 from './es5'\nimport vb from './vb'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst OBSERVER_KEY = '__observer__'\n\n// ================= Array Hook Begin =======================\nconst ARRAY_EVENTS = makeMap('length,change')\nconst ArrayProto = Array[PROTOTYPE]\nconst arrayHooks = makeArray('fill,pop,push,reverse,shift,sort,splice,unshift', method => {\n\t\tconst fn = ArrayProto[method]\n\t\treturn [\n\t\t\tmethod,\n\t\t\tfunction() {\n\t\t\t\tconst len = this.length,\n\t\t\t\t\trs = apply(fn, this, arguments),\n\t\t\t\t\tnewlen = this.length,\n\t\t\t\t\tobserver = this[OBSERVER_KEY]\n\t\t\t\tobserver.__write('change', this, this)\n\t\t\t\tif (len !== newlen) observer.__write('length', newlen, len)\n\t\t\t\treturn rs\n\t\t\t},\n\t\t]\n\t}),\n\tarrayHookLength = arrayHooks.length\n\nfunction hookArray(array) {\n\tfor (let i = 0, hook; i < arrayHookLength; i++) {\n\t\thook = arrayHooks[i]\n\t\tarray[hook[0]] = hook[1]\n\t}\n\treturn array\n}\n// ================= Array Hook End =======================\n\nexport const defaultProps = makeMap([OBSERVER_KEY, DEFAULT_BINDING, DEFAULT_FN_BINDING, DEFAULT_SCOPE_BINDING])\n// ================ init policy Begin ========================\nconst policy = es6(defaultProps) || es5(defaultProps) || vb(defaultProps)\n\nassert(policy, 'Observer is not supported.')\n\nconst { proxyEnabled = false, proxyChangeable = false, sourceOwnProperty = false } = policy\n\ninfo(\n\t`Observer: enable policy[${policy.name}]: `,\n\t{\n\t\tproxyEnabled,\n\t\tproxyChangeable,\n\t\tsourceOwnProperty,\n\t},\n\t'default properties: ',\n\tdefaultProps\n)\n\nexport function isDefaultProp(prop) {\n\treturn defaultProps[prop] || false\n}\n\n// ================ init policy End========================\n\nfunction noProxyChangeEventHandler() {\n\treturn false\n}\nlet disableWriteEvent = false\n\nfunction Observer(source) {\n\t// bind observer to object\n\tdefPropValue(source, OBSERVER_KEY, this)\n\tthis.source = this.proxy = source\n\tthis.bubbles = create(null)\n\tif ((this.isArray = isArray(source))) {\n\t\thookArray(source)\n\t} else {\n\t\tthis.__init()\n\t}\n}\n\ninherit(\n\tObserver,\n\t{\n\t\t__init() {\n\t\t\t// implement by policy\n\t\t},\n\t\t__watch(prop) {\n\t\t\t// implement by policy\n\t\t},\n\t\t__write(prop, value, oldValue) {\n\t\t\t// call by policy\n\t\t\tif (disableWriteEvent) return\n\t\t\tconst list = this.bubbles[prop]\n\t\t\tif (!list || !list.length || (value === oldValue && isPrimitive(value))) return\n\t\t\tlist.each(desc => addChangedQueue(desc, oldValue))\n\t\t},\n\t\tobserve(path, handler, scope) {\n\t\t\tassert.fn(handler, 'require function handler.')\n\n\t\t\tpath = parsePath(path)\n\t\t\tconst l = path.length - 1\n\t\t\tassert(l >= 0, 'require non-empty path.')\n\n\t\t\tlet watchs = this.watchs || (this.watchs = create(null)),\n\t\t\t\tcurrentObserver = this,\n\t\t\t\tattr,\n\t\t\t\tdesc,\n\t\t\t\tparent = undefined,\n\t\t\t\ti = 0,\n\t\t\t\tchildObserver,\n\t\t\t\tobj\n\n\t\t\tfor (; i <= l; i++) {\n\t\t\t\tattr = path[i]\n\t\t\t\tdesc = watchs[attr]\n\t\t\t\tif (!desc) {\n\t\t\t\t\tdesc = allocWatchDescriptor(this, currentObserver, attr, parent)\n\t\t\t\t\tif (currentObserver) {\n\t\t\t\t\t\tassert(!currentObserver.isArray || (ARRAY_EVENTS[attr] && i == l), () => {\n\t\t\t\t\t\t\tconst pathStr = formatPath(path)\n\t\t\t\t\t\t\tconst errorPath = formatPath(path.slice(i))\n\t\t\t\t\t\t\tconst arrayPath = i ? '[' + formatPath(path.slice(0, i)) + ']' : ''\n\t\t\t\t\t\t\treturn `invalid path[${pathStr}]: not support \"${errorPath}\" in Array${arrayPath}, change to \"change\" or \"length\".`\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tregisterBubble(currentObserver, desc)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (i < l) {\n\t\t\t\t\tparent = desc\n\t\t\t\t\twatchs = desc[DESC_CHILDREN_INDEX]\n\t\t\t\t\tif (currentObserver) {\n\t\t\t\t\t\tif ((obj = currentObserver.source[attr])) {\n\t\t\t\t\t\t\tif (!(childObserver = getObserver(obj))) {\n\t\t\t\t\t\t\t\tchildObserver = new Observer(obj)\n\t\t\t\t\t\t\t\tsetChildObserver(currentObserver, attr, childObserver)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tchildObserver = undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentObserver = childObserver\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdesc[DESC_PATH_INDEX] = path\n\t\t\treturn desc[DESC_HANDLERS_INDEX].add(handler, scope)\n\t\t},\n\t\tunobserve(path, handler, scope) {\n\t\t\tassert.fn(handler, 'require function handler.')\n\n\t\t\tpath = parsePath(path)\n\t\t\tconst l = path.length\n\n\t\t\tassert(l, 'require non-empty path.')\n\n\t\t\treturn this.watchs ? unwatch(this.watchs, path, 0, l - 1, handler, scope) : false\n\t\t},\n\t\tisObserved(path, handler, scope) {\n\t\t\tassert.fn(handler, 'require function handler.')\n\n\t\t\tpath = parsePath(path)\n\t\t\tconst l = path.length - 1\n\n\t\t\tassert(l >= 0, 'require non-empty path.')\n\n\t\t\tlet watchs = this.watchs,\n\t\t\t\ti = 0,\n\t\t\t\tdesc\n\n\t\t\tif (!watchs) return false\n\n\t\t\tfor (; i <= l; i++) {\n\t\t\t\tdesc = watchs[path[i]]\n\t\t\t\tif (!desc) return false\n\t\t\t\tif (i < l) watchs = desc[DESC_CHILDREN_INDEX]\n\t\t\t}\n\t\t\treturn handler ? desc[DESC_HANDLERS_INDEX].has(handler, scope) : !!desc[DESC_HANDLERS_INDEX].size()\n\t\t},\n\t\tset: proxyEnabled\n\t\t\t? function(path, value, disableEvent) {\n\t\t\t\t\t_set(this, parsePath(path), value, disableEvent)\n\t\t\t\t\treturn this\n\t\t\t  }\n\t\t\t: function(path, value, disableEvent) {\n\t\t\t\t\tif (disableEvent) {\n\t\t\t\t\t\tconst disabled = disableWriteEvent\n\t\t\t\t\t\tdisableWriteEvent = true\n\t\t\t\t\t\t_set(this, path, value, true)\n\t\t\t\t\t\tdisableWriteEvent = disabled\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_set(this, path, value, true)\n\t\t\t\t\t}\n\t\t\t\t\treturn this\n\t\t\t  },\n\t\tget(path) {\n\t\t\treturn get(this.source, path)\n\t\t},\n\t\t__proxyChanged: noProxyChangeEventHandler,\n\t\tonProxyChange: noProxyChangeEventHandler,\n\t\tunProxyChange: noProxyChangeEventHandler,\n\t},\n\tpolicy.impl\n)\n\n// ============ watch descriptor begin ===============\nconst DESC_HANDLERS_INDEX = 0,\n\tDESC_CHILDREN_INDEX = 1,\n\tDESC_CHILD_NUM_INDEX = 2,\n\tDESC_OWNER_INDEX = 3,\n\tDESC_OBSERVER_INDEX = 4,\n\tDESC_ATTR_INDEX = 5,\n\tDESC_PARENT_INDEX = 6,\n\tDESC_CHANGED_INDEX = 7,\n\tDESC_EVENT_INDEX = 8,\n\tDESC_VALUE_INDEX = 9,\n\tDESC_PATH_INDEX = 10\n\nfunction allocWatchDescriptor(owner, observer, attr, parent) {\n\tconst desc = [new FnList(), create(null), 0, owner, observer, attr, parent, NO_CHANGED, NO_CHANGED]\n\tif (parent) {\n\t\tparent[DESC_CHILDREN_INDEX][attr] = desc\n\t\tparent[DESC_CHILD_NUM_INDEX]++\n\t} else {\n\t\towner.watchs[attr] = desc\n\t}\n\treturn desc\n}\n\nfunction freeWatchDescriptor(desc) {\n\tconst parent = desc[DESC_PARENT_INDEX],\n\t\tattr = desc[DESC_ATTR_INDEX]\n\tif (parent) {\n\t\tparent[DESC_CHILDREN_INDEX][attr] = undefined\n\t\tparent[DESC_CHILD_NUM_INDEX]--\n\t} else {\n\t\tdesc[DESC_OWNER_INDEX].watchs[attr] = undefined\n\t}\n}\n// ============ watch descriptor end ===============\n\nfunction unwatch(watchs, path, level, maxLevel, handler, scope) {\n\tconst desc = watchs[path[level]]\n\tif (desc) {\n\t\tconst ret = level === maxLevel ? desc[DESC_HANDLERS_INDEX].remove(handler, scope) : unwatch(desc[DESC_CHILDREN_INDEX], path, level + 1, maxLevel, handler, scope)\n\n\t\tif (!desc[DESC_CHILD_NUM_INDEX] && !desc[DESC_HANDLERS_INDEX].size()) {\n\t\t\tunregisterBubble(desc[DESC_OBSERVER_INDEX], desc, desc[DESC_ATTR_INDEX])\n\t\t\tfreeWatchDescriptor(desc)\n\t\t}\n\t\treturn ret\n\t}\n\treturn false\n}\n\nfunction registerBubble(observer, descriptor) {\n\tif (!observer) return false\n\tlet bubbles = observer.bubbles,\n\t\tattr = descriptor[DESC_ATTR_INDEX],\n\t\tdescs = bubbles[attr]\n\n\tif (!descs) {\n\t\tdescs = bubbles[attr] = new List()\n\t\tif (!observer.isArray) observer.__watch(attr)\n\t}\n\treturn descs.add(descriptor)\n}\n\nfunction unregisterBubble(observer, descriptor, attr) {\n\tif (!observer) return false\n\tconst bubbles = observer.bubbles,\n\t\tdescs = bubbles[attr]\n\treturn descs && descs.remove(descriptor)\n}\n\nconst changedQueue = [],\n\teventQueue = [],\n\tNO_CHANGED = {}\n\nfunction addChangedQueue(desc, oldValue) {\n\tif (desc[DESC_CHANGED_INDEX] === NO_CHANGED) {\n\t\tdesc[DESC_CHANGED_INDEX] = oldValue\n\t\tconst l = changedQueue.length\n\t\tchangedQueue[l] = desc\n\t\tif (!l) nextTick(flushChangedQueue)\n\t}\n}\n\nfunction addEventQueue(desc, value, oldValue) {\n\tif (desc[DESC_EVENT_INDEX] === NO_CHANGED) {\n\t\tdesc[DESC_VALUE_INDEX] = value\n\t\tdesc[DESC_EVENT_INDEX] = oldValue\n\t\teventQueue.push(desc)\n\t} else {\n\t\tdesc[DESC_VALUE_INDEX] = value\n\t}\n}\n\nfunction flushChangedQueue() {\n\tlet desc,\n\t\ti = 0,\n\t\tl = changedQueue.length\n\n\tfor (; i < l; i++) {\n\t\tdesc = changedQueue[i]\n\t\tbubble(desc, observerValue(desc[DESC_OBSERVER_INDEX], desc[DESC_ATTR_INDEX]), desc[DESC_CHANGED_INDEX], addEventQueue)\n\t\tdesc[DESC_CHANGED_INDEX] = NO_CHANGED\n\t}\n\tchangedQueue.length = 0\n\n\tlet value, oldValue\n\tfor (i = 0, l = eventQueue.length; i < l; i++) {\n\t\tdesc = eventQueue[i]\n\t\tvalue = desc[DESC_VALUE_INDEX]\n\t\toldValue = desc[DESC_EVENT_INDEX]\n\t\tif (value !== oldValue || !isPrimitive(value))\n\t\t\tdesc[DESC_HANDLERS_INDEX].each((callback, scope) => {\n\t\t\t\tscope ? callback.call(scope, desc[DESC_PATH_INDEX], value, oldValue, desc[DESC_OWNER_INDEX]) : callback(desc[DESC_PATH_INDEX], value, oldValue, desc[DESC_OWNER_INDEX])\n\t\t\t})\n\t\tdesc[DESC_EVENT_INDEX] = NO_CHANGED\n\t}\n\teventQueue.length = 0\n}\n\nfunction bubble(desc, value, oldValue, cb) {\n\tif (desc[DESC_HANDLERS_INDEX].size()) cb(desc, value, oldValue)\n\n\tif (desc[DESC_CHILD_NUM_INDEX]) {\n\t\tnewObserver = value ? observer(value) : undefined\n\t\tsetChildObserver(desc[DESC_OBSERVER_INDEX], desc[DESC_ATTR_INDEX], newObserver)\n\t\t__bubble(desc, newObserver, cb)\n\t}\n}\n\nfunction __bubble(parent, newObserver, cb) {\n\tlet children = parent[DESC_CHILDREN_INDEX],\n\t\tattr,\n\t\tdesc,\n\t\toldObserver,\n\t\tnextObserver\n\n\tfor (attr in children) {\n\t\tif ((desc = children[attr]) && desc[DESC_OWNER_INDEX] && (oldObserver = desc[DESC_OBSERVER_INDEX]) !== newObserver) {\n\t\t\tif (desc[DESC_HANDLERS_INDEX].size()) cb(desc, observerValue(newObserver, attr), observerValue(oldObserver, attr))\n\n\t\t\tunregisterBubble(oldObserver, desc, attr)\n\t\t\tdesc[DESC_OBSERVER_INDEX] = newObserver\n\t\t\tregisterBubble(newObserver, desc)\n\n\t\t\tif (desc[DESC_CHILD_NUM_INDEX]) {\n\t\t\t\tnextObserver = (nextObserver = newObserver.source[attr]) ? observer(nextObserver) : undefined\n\t\t\t\tsetChildObserver(newObserver, attr, nextObserver)\n\t\t\t\t__bubble(desc, nextObserver, cb)\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst setChildObserver = proxyEnabled\n\t? function(parentObserver, attr, childObserver) {\n\t\t\tif (childObserver) parentObserver.source[attr] = childObserver.proxy\n\t  }\n\t: function(parentObserver, attr, childObserver) {}\n\nfunction observerValue(observer, attr) {\n\tif (observer) {\n\t\tif (observer.isArray && attr === 'change') return observer.proxy\n\t\treturn observer.source[attr]\n\t}\n}\n\nfunction _set(observer, path, value, setSource) {\n\tlet i = 0,\n\t\tl = path.length - 1,\n\t\tprop,\n\t\tobj,\n\t\tnextObj,\n\t\tsource\n\n\tfor (; i < l; i++) {\n\t\tprop = path[i]\n\t\tif (observer) {\n\t\t\tsource = observer.source\n\t\t\tnextObj = source[prop]\n\t\t\tif (!nextObj || !(observer = getObserver(nextObj))) {\n\t\t\t\tif (nextObj === undefined || nextObj === null) nextObj = setSource ? (source[prop] = {}) : (observer.proxy[prop] = {})\n\t\t\t\tobserver = undefined\n\t\t\t\tobj = nextObj\n\t\t\t}\n\t\t} else {\n\t\t\tnextObj = obj[prop]\n\t\t\tif (!nextObj) nextObj = obj[prop] = {}\n\t\t\tobj = nextObj\n\t\t}\n\t}\n\tprop = path[i]\n\tif (observer) {\n\t\tsetSource ? (observer.source[prop] = value) : (observer.proxy[prop] = value)\n\t} else {\n\t\tobj[prop] = value\n\t}\n}\n\n// ================== API ============================\nexport function isProxyEnabled() {\n\treturn proxyEnabled\n}\n\nexport function $set(obj, path, value) {\n\tpath = parsePath(path)\n\tconst observer = getObserver(obj)\n\tif (observer) return _set(observer, path, value, !proxyEnabled)\n\tset(obj, path)\n}\n\nexport function observer(source) {\n\treturn getObserver(source) || new Observer(source)\n}\n\nexport function observe(source, path, handler, scope) {\n\tconst _observer = observer(source)\n\treturn _observer.observe(path, handler, scope), _observer.proxy\n}\n\nexport function unobserve(obj, path, handler, scope) {\n\tconst observer = getObserver(obj)\n\treturn observer ? (observer.unobserve(path, handler, scope), observer.proxy) : obj\n}\n\nexport function isObserved(obj, path, handler, scope) {\n\tconst observer = getObserver(obj)\n\treturn observer && observer.isObserved(path, handler, scope)\n}\n\nlet getObserver = obj => {\n\t\tconst observer = obj[OBSERVER_KEY]\n\t\tif (observer && observer.source === obj) return observer\n\t},\n\t$hasOwnProp = (obj, prop) => {\n\t\treturn defaultProps[prop] ? false : hasOwnProp(obj, prop)\n\t},\n\tsource = obj => obj,\n\tproxy = source,\n\t$eq = eq,\n\tonProxyChange = noProxyChangeEventHandler,\n\tunProxyChange = noProxyChangeEventHandler\n\nif (proxyEnabled) {\n\tif (sourceOwnProperty) {\n\t\t$hasOwnProp = function(obj, prop) {\n\t\t\tif (defaultProps[prop]) return false\n\t\t\tconst observer = getObserver(obj)\n\t\t\treturn hasOwnProp(observer ? observer.source : obj, prop)\n\t\t}\n\t}\n\n\t$hasOwnProp = function(obj, prop) {\n\t\tif (defaultProps[prop]) return false\n\t\tconst observer = getObserver(obj)\n\t\treturn hasOwnProp(observer ? observer.source : obj, prop)\n\t}\n\n\tgetObserver = function(obj) {\n\t\tconst observer = obj[OBSERVER_KEY]\n\t\tif (observer && (observer.source === obj || observer.proxy === obj)) return observer\n\t}\n\tsource = function(obj) {\n\t\tconst observer = obj && getObserver(obj)\n\t\treturn observer ? observer.source : obj\n\t}\n\tproxy = function(obj) {\n\t\tconst observer = obj && getObserver(obj)\n\t\treturn observer ? observer.proxy : obj\n\t}\n\t$eq = function(o1, o2) {\n\t\treturn eq(o1, o2) || (o1 && o2 && (o1 = getObserver(o1)) ? o1 === getObserver(o2) : false)\n\t}\n\tif (proxyChangeable) {\n\t\textend(Observer, {\n\t\t\t__proxyChanged() {\n\t\t\t\tconst list = this.proxyListens,\n\t\t\t\t\tsource = this.source,\n\t\t\t\t\tproxy = this.proxy\n\t\t\t\tlist &&\n\t\t\t\t\tlist.each((callback, scope) => {\n\t\t\t\t\t\tscope ? callback.call(scope, source, proxy, this) : callback(source, proxy, this)\n\t\t\t\t\t})\n\t\t\t},\n\t\t\tonProxyChange(fn, scope) {\n\t\t\t\tassert.fn(fn, 'require function handler.')\n\t\t\t\tlet list = this.proxyListens\n\t\t\t\tif (!list) list = this.proxyListens = new FnList()\n\t\t\t\treturn list.add(fn, scope)\n\t\t\t},\n\t\t\tunProxyChange(fn, scope) {\n\t\t\t\tassert.fn(fn, 'require function handler.')\n\t\t\t\tlet list = this.proxyListens\n\t\t\t\treturn list && list.remove(fn, scope)\n\t\t\t},\n\t\t})\n\n\t\tonProxyChange = function(obj, fn, scope) {\n\t\t\tconst observer = getObserver(obj)\n\t\t\treturn observer && observer.onProxyChange(fn, scope)\n\t\t}\n\t\tunProxyChange = function(obj, fn, scope) {\n\t\t\tconst observer = getObserver(obj)\n\t\t\treturn observer && observer.unProxyChange(fn, scope)\n\t\t}\n\t}\n}\n\nexport { getObserver, $hasOwnProp, source, proxy, $eq, onProxyChange, unProxyChange }\n\nexport function $getOwnProp(obj, key, defaultVal) {\n\treturn $hasOwnProp(obj, key) ? obj[key] : defaultVal\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:32:20\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:20\n */\nimport { proxy, $hasOwnProp, isDefaultProp } from './observer'\nimport { eachObj, eachStr, reachStr, __mkEachArrayLike, __mkREachArrayLike, __mkEach, STOP } from '../helper/each'\n\nexport const $eachArray = __mkEachArrayLike(arrayValueHandler),\n\t$reachArray = __mkREachArrayLike(arrayValueHandler),\n\t$each = __mkEach(eachStr, $eachArray, $eachObj),\n\t$reach = __mkEach(reachStr, $reachArray, $eachObj)\n\nexport function $eachObj(obj, callback, scope, own) {\n\tif (scope) callback = callback.bind(scope)\n\tlet key\n\tif (own === false) {\n\t\tfor (key in obj) if (!isDefaultProp(key) && callback(proxy(obj[key]), key, obj) === STOP) return key\n\t} else {\n\t\tfor (key in obj) if ($hasOwnProp(obj, key) && callback(proxy(obj[key]), key, obj) === STOP) return key\n\t}\n}\n\nfunction arrayValueHandler(array, i) {\n\tconst obj = array[i]\n\treturn obj ? proxy(obj) : obj\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:32:59\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:59\n */\nimport { $each, $eachArray, $eachObj } from './each'\nimport { mapStr, __mkMapArrayLike, __mkMapObj } from '../helper/map'\nimport { __mkEach } from '../helper/each'\n\nexport const $mapArray = __mkMapArrayLike($eachArray),\n\t$mapObj = __mkMapObj($eachObj),\n\t$map = __mkEach(mapStr, $mapArray, $mapObj)\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:32:40\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:40\n */\nimport { $map, $mapArray, $mapObj } from './map'\nimport { mapStr, __mkMapArrayLike, __mkMapObj } from '../helper/map'\nimport { __mkFilter } from '../helper/filter'\n\nexport const $filterArray = __mkFilter($mapArray),\n\t$filterObj = __mkFilter($mapObj),\n\t$filter = __mkFilter($map)\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:32:50\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:50\n */\nimport { $each, $eachArray, $eachObj, $reach, $reachArray } from './each'\nimport { __mkFind } from '../helper/find'\n\nexport const $findArray = __mkFind($eachArray),\n\t$findObj = __mkFind($eachObj),\n\t$find = __mkFind($each),\n\t$rfindArray = __mkFind($reachArray),\n\t$rfind = __mkFind($reach)\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:32:55\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:55\n */\nimport { $eachArray, $eachObj, $reachArray } from './each'\nimport { __mkIndexOf, __mkTypeIndexOf } from '../helper/indexOf'\n\nexport const $indexOfArray = __mkTypeIndexOf($eachArray),\n\t$indexOfObj = __mkTypeIndexOf($eachObj),\n\t$lastIndexOfArray = __mkTypeIndexOf($reachArray),\n\t$indexOf = __mkIndexOf($indexOfArray, 'indexOf'),\n\t$lastIndexOf = __mkIndexOf($lastIndexOfArray, 'lastIndexOf')\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:32:23\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:23\n */\nimport { __assign } from '../helper/assign'\nimport { proxy, $hasOwnProp } from './observer'\n\nexport function $assign(obj) {\n\treturn __assign(obj, arguments, 1, __assignFilter)\n}\n\nexport function $assignIf(obj) {\n\treturn __assign(obj, arguments, 1, __assignIfFilter)\n}\n\nexport function $assignBy(obj, filter) {\n\treturn __assign(obj, arguments, 2, __assignUserFilter, filter)\n}\n\nfunction __assignUserFilter(prop, dist, source, cb) {\n\treturn $hasOwnProp(source, prop) && cb(prop, dist, source)\n}\n\nfunction __assignIfFilter(prop, dist, source) {\n\treturn $hasOwnProp(source, prop) && !$hasOwnProp(dist, prop)\n}\n\nfunction __assignFilter(prop, dist, source) {\n\treturn $hasOwnProp(source, prop)\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:33:14\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:33:14\n */\nimport { proxy, $hasOwnProp, isDefaultProp } from './observer'\nimport { STOP, SKIP } from '../helper'\nimport { __mkKV } from '../helper/obj2array'\n\nexport function $obj2array(obj, valueHandler, scope, own) {\n\tconst array = []\n\tlet key,\n\t\tret,\n\t\ti = 0\n\n\tif (scope) valueHandler = valueHandler.bind(scope)\n\tif (own === false) {\n\t\tfor (key in obj) {\n\t\t\tif (!isDefaultProp(key)) {\n\t\t\t\tret = valueHandler(obj, key)\n\t\t\t\tif (ret === STOP) break\n\t\t\t\tif (ret !== SKIP) array[i++] = ret\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (key in obj) {\n\t\t\tif ($hasOwnProp(obj, key)) {\n\t\t\t\tret = valueHandler(obj, key)\n\t\t\t\tif (ret === STOP) break\n\t\t\t\tif (ret !== SKIP) array[i++] = ret\n\t\t\t}\n\t\t}\n\t}\n\treturn array\n}\n\nexport const $keys = __mkKV($obj2array, keyHandler),\n\t$values = __mkKV($obj2array, valueHandler)\n\nfunction keyHandler(obj, key) {\n\treturn isDefaultProp(key) ? isDefaultProp : key\n}\n\nfunction valueHandler(obj, key) {\n\treturn proxy(obj[key])\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:35:58\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-10-20 13:09:21\n */\nimport { assert } from 'devlevel'\nimport { inherit } from '../helper'\n\nexport const CHILD_NODES = 'childNodes',\n\tPARENT = 'parent',\n\tVIRT_NODE = '$virtNode',\n\tVIRT_ELEMENT = '$virtElement',\n\tVIRT_TEXT = '$virtText',\n\tVIRT_BINDING_TEXT = '$virtBindingText',\n\tVIRT_COMPLEX_ELEMENT = '$virtComplexElement',\n\tVIRT_COMMENT = '$virtComment'\n\nexport default inherit(\n\tfunction VNode(comp) {\n\t\tassert(comp.$comp, 'Require Compontent')\n\t\tthis.comp = comp\n\t},\n\t{\n\t\t[VIRT_NODE]: true,\n\t\tprepare() {},\n\t\tmount() {},\n\t\tunmount() {},\n\t\tappendTo(parent) {\n\t\t\tassert(parent.$virtComplexElement, 'parent should be Virtual Complex Element')\n\n\t\t\treturn parent.append(this)\n\t\t},\n\t\tprependTo(parent) {\n\t\t\tassert(parent.$virtComplexElement, 'parent should be Virtual Complex Element')\n\n\t\t\treturn parent.prepend(this)\n\t\t},\n\t\tinsertBeforeTo(target) {\n\t\t\tassert(target[PARENT], 'target is Root Node')\n\t\t\tassert(target[VIRT_NODE], 'target should be Virtual Node')\n\n\t\t\treturn target[PARENT].insertBefore(this, target)\n\t\t},\n\t\tinsertAfterTo(target) {\n\t\t\tassert(target[PARENT], 'target is Root Node')\n\t\t\tassert(target[VIRT_NODE], 'target should be Virtual Node')\n\n\t\t\treturn target[PARENT].insertAfter(this, target)\n\t\t},\n\t\treplaceTo(target) {\n\t\t\tassert(target[PARENT], 'target is Root Node')\n\t\t\tassert(target[VIRT_NODE], 'target should be Virtual Node')\n\n\t\t\treturn target[PARENT].replace(this, target)\n\t\t},\n\t\tprevSibling() {\n\t\t\tconst parent = this[PARENT]\n\t\t\treturn parent && parent[CHILD_NODES].prev(this)\n\t\t},\n\t\tnextSibling() {\n\t\t\tconst parent = this[PARENT]\n\t\t\treturn parent && parent[CHILD_NODES].next(this)\n\t\t},\n\t\tremove() {\n\t\t\tconst parent = this[PARENT]\n\t\t\tif (parent) {\n\t\t\t\tparent[CHILD_NODES].remove(this)\n\t\t\t\tthis[PARENT] = undefined\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t}\n)\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:36:05\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:14:12\n */\nimport VNode, { VIRT_TEXT } from './VNode'\nimport { inherit, isNil, strval } from '../helper'\n\nexport default inherit(\n\tfunction VText(comp, text) {\n\t\tVNode.call(this, comp)\n\t\tthis.data = text\n\t},\n\tVNode,\n\t{\n\t\t[VIRT_TEXT]: true,\n\t\ttext(text) {\n\t\t\tconst { data } = this\n\t\t\tif (arguments.length === 0) return data\n\t\t\ttext = strval(text)\n\t\t\tif (text !== data) {\n\t\t\t\tthis.update(text)\n\t\t\t\tthis.data = text\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t}\n)\n","import { create, createFn, makeMap, apply, trim, STOP, inherit } from './helper'\n\nexport const keywords = makeMap(\n\t'argilo,Math,Date,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,parseInt,parseFloat,' + (window ? 'window,document,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent' : 'global')\n)\n\nconst wsReg = /\\s/g,\n\tnewlineReg = /\\n/g,\n\tescapeReg = /[\\{,]\\s*[\\w\\$_]+\\s*:|('(?:[^'\\\\]|\\\\.)*'|\"(?:[^\"\\\\]|\\\\.)*\"|`(?:[^`\\\\]|\\\\.)*\\$\\{|\\}(?:[^`\\\\\"']|\\\\.)*`|`(?:[^`\\\\]|\\\\.)*`)|new |typeof |void |(\\|\\|)/g,\n\trestoreReg = /\"(\\d+)\"/g,\n\tidentityReg = /[^\\w$\\.][A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*)*/g,\n\tpropReg = /^[A-Za-z_$][\\w$]*/,\n\tsimplePathReg = /^[A-Za-z_$#@][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?'\\]|\\[\".*?\"\\]|\\[\\d+\\]|\\[[A-Za-z_$][\\w$]*\\])*$/,\n\tsplitReg = /\\s*\\|\\s*(?:\\|\\s*)*/,\n\ttransformParamReg = /\\s*,\\s*|\\s+/g\n\n// escaped code\n// save escaped string\nconst escaped = []\n\nfunction escape(code) {\n\treturn code.replace(escapeReg, escapeHandler)\n}\n\nfunction restore(code) {\n\treturn code.replace(restoreReg, restoreHandler)\n}\n\nfunction escapeHandler(match) {\n\tlet i = escaped.length\n\tescaped[i] = match\n\treturn `\"${i}\"`\n}\n\nconst escapeStrReg = /\\n|\\t|\\r/g\n\nfunction escapeStrHandler(m) {\n\tswitch (m) {\n\t\tcase '\\n':\n\t\t\treturn '\\\\n'\n\t\tcase '\\t':\n\t\t\treturn '\\\\t'\n\t\tcase '\\r':\n\t\t\treturn '\\\\r'\n\t}\n}\n\nfunction restoreHandler(match, i) {\n\tconst v = escaped[i]\n\tswitch (v.charAt(0)) {\n\t\tcase '\"':\n\t\tcase \"'\":\n\t\tcase '`':\n\t\t\treturn v.replace(escapeStrReg, escapeStrHandler)\n\t}\n\treturn v\n}\n\n// identity opeartion type\nexport const IDENTITY_OPT_GET = 1,\n\tIDENTITY_OPT_SET = 2,\n\tIDENTITY_OPT_CALL = 3\n\n// parsed identities\nlet identities = create(null),\n\tidentitySize = 0\n\n// identity process callback: function(prefix, identity, opt[IDENTITY_OPT_GET | IDENTITY_OPT_SET | IDENTITY_OPT_CALL])\nlet userIdentityHandler, userKeyWords\n\nfunction isKeyword(attr) {\n\treturn keywords[attr] || (userKeyWords && userKeyWords[attr])\n}\n\nfunction identityHandler(match, i, str) {\n\tconst prefix = match.charAt(0),\n\t\tidentity = match.slice(1),\n\t\tattr = identity.match(propReg)[0]\n\n\tif (isKeyword(attr)) return match\n\n\tconst optIdx = i + match.length,\n\t\toptChar = str.charAt(optIdx)\n\n\tlet opt = IDENTITY_OPT_GET\n\tswitch (optChar) {\n\t\tcase '(':\n\t\t\topt = IDENTITY_OPT_CALL\n\t\t\tbreak\n\t\tcase '=':\n\t\t\tif (str.charAt(optIdx + 1) !== '=') opt = IDENTITY_OPT_SET\n\t\t\tbreak\n\t\tcase '/':\n\t\tcase '*':\n\t\tcase '+':\n\t\tcase '-':\n\t\tcase '%':\n\t\tcase '&':\n\t\tcase '|':\n\t\tcase '~':\n\t\tcase '^':\n\t\t\tif (str.charAt(optIdx + 1) === '=') opt = IDENTITY_OPT_SET\n\t\t\tbreak\n\t\tcase '>':\n\t\tcase '<':\n\t\t\tif (str.charAt(optIdx + 1) === optChar && str.charAt(optIdx + 2) === '=') opt = IDENTITY_OPT_SET\n\t\t\tbreak\n\t}\n\n\tconst rs = userIdentityHandler(prefix, identity, opt)\n\tif (rs) {\n\t\tif (rs[1]) {\n\t\t\tif (!identities[rs[1]]) {\n\t\t\t\tidentitySize++\n\t\t\t\tidentities[rs[1]] = true\n\t\t\t}\n\t\t}\n\t\treturn rs[0]\n\t}\n\treturn match\n}\n\nfunction makeExecutor(code, params) {\n\tconst body = 'return' + restore((' ' + code.replace(wsReg, '')).replace(identityReg, identityHandler))\n\ttry {\n\t\treturn createFn(params, body)\n\t} catch (e) {\n\t\tconsole.error(code, body)\n\t\tthrow e\n\t}\n}\n\nfunction cleanIdentities() {\n\tif (!identitySize) return []\n\n\t// get identities\n\tconst idents = new Array(identitySize)\n\tlet ident,\n\t\ti = 0\n\tfor (ident in identities) idents[i++] = ident\n\n\t// reset identities\n\tidentities = create(null)\n\tidentitySize = 0\n\treturn idents\n}\n\nfunction isSimpleExpr(code) {\n\tif (simplePathReg.test(code)) {\n\t\tconst match = code.match(propReg)\n\t\treturn match ? !isKeyword(match[0]) : false\n\t}\n\treturn false\n}\n\nconst filterSplitReg = /\\s*\\|\\s*(?:\\|\\s*)*/,\n\tfilterParamReg = /\\s*,\\s*|\\s+/g\n\n/**\n * - identity processor Prototype:\n *\n * [word: String, identity: String>] function(prefix: String, identity: String, opt: IDENTITY_OPT_GET | IDENTITY_OPT_SET | IDENTITY_OPT_CALL)\n *\n * - transforms format:\n *\n * {\n *      [name]: {\n *          transform(args){\n *              ...\n *          },\n *          restore(args){\n *          }\n *      }\n * }\n * @param {String} code                 expression code\n * @param {String[]} paramNames         parameter names\n * @param {Function} identityHandler    identity processor\n * @param {Function} parseFilter        filter processor\n * @param {Object} keywords             keywords <key, true>\n *\n */\nexport function Expression(code, paramNames, identityHandler, parseFilter, keywords) {\n\tuserIdentityHandler = identityHandler\n\tuserKeyWords = keywords\n\n\tthis.expr = code\n\n\tconst codeSplit = escape(code).split(filterSplitReg),\n\t\tlen = codeSplit.length\n\n\t// parse executor\n\tthis.executor = makeExecutor(codeSplit[0], paramNames)\n\n\tconst filters = (this.filters = new Array(len - 1))\n\n\t// parse filters\n\tfor (var i = 1, j, l, name, args; i < len; i++) {\n\t\targs = trim(codeSplit[i]).split(filterParamReg)\n\t\tname = restore(args.shift())\n\t\tfor (j = 0, l = args.length; j < l; j++) args[j] = makeExecutor(args[j], paramNames)\n\t\tfilters[i - 1] = [parseFilter(name), args, name]\n\t}\n\tconst identities = (this.identities = cleanIdentities())\n\tthis.simple = identities.length === 1 && isSimpleExpr(codeSplit[0]) ? codeSplit[0] : false\n\n\tescaped.length = 0\n\tuserIdentityHandler = undefined\n\tuserKeyWords = undefined\n}\ninherit(Expression, {\n\texecute(scope, args) {\n\t\tapply(this.executor, scope, args)\n\t},\n\teachFilter(cb, scope, args) {\n\t\tconst filters = this.filters\n\t\tlet i = 0,\n\t\t\tl = filters.length,\n\t\t\tfilter\n\t\tfor (; i < l; i++) {\n\t\t\tfilter = filters[i]\n\t\t\tif (cb(filter[0], new FilterParams(filter[1], scope, args)) === false) return false\n\t\t}\n\t},\n\treachFilter(cb, scope, args) {\n\t\tconst filters = this.filters\n\t\tlet i = filters.length,\n\t\t\tfilter\n\t\twhile (i--) {\n\t\t\tfilter = filters[i]\n\t\t\tif (cb(filter[0], new FilterParams(filter[1], scope, args)) === false) return false\n\t\t}\n\t},\n})\n\nfunction FilterParams(params, scope, args) {\n\tthis.params = params\n\tthis.scope = scope\n\tthis.args = args\n}\ninherit(FilterParams, {\n\tget(index, val) {\n\t\tconst { scope, args, params } = this\n\t\tif (arguments.length) return params[index] ? apply(params[index], scope, args) : val\n\n\t\tlet i = params.length\n\t\tconst arr = new Array(i)\n\t\twhile (i--) {\n\t\t\tarr[i] = apply(params[i], scope, args)\n\t\t}\n\t\treturn arr\n\t},\n\titer() {\n\t\tconst { scope, args, params } = this\n\t\tconst len = params.length\n\t\tlet i = 0\n\t\treturn function() {\n\t\t\treturn i < len ? apply(params[i++], scope, args) : STOP\n\t\t}\n\t},\n})\n","/*\n * VNode Expression Identity Handler\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 17:58:05\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 16:15:24\n */\nimport { IDENTITY_OPT_GET, IDENTITY_OPT_CALL } from '../../Expression'\nimport { formatPath } from '../../common'\n\nexport const VNodeKeyword = '$node'\nexport function identityHandler(prefix, path, opt) {\n\tswitch (path[0]) {\n\t\tcase VNodeKeyword:\n\t\t\treturn undefined\n\t\tcase 'this':\n\t\t\tpath.shift()\n\t\t\tbreak\n\t}\n\n\tlet identity = formatPath(path),\n\t\texpr = opt === IDENTITY_OPT_GET ? 'this.$scope.' + identity : 'this.getScope(\"' + path[0] + '\").' + identity\n\n\tif (opt === IDENTITY_OPT_CALL || path[0].charAt(0) === '$') identity = undefined\n\tif (prefix === '#') {\n\t\tidentity = undefined\n\t\tprefix = ''\n\t}\n\treturn [prefix + expr, identity]\n}\n","/*\n * Transform Expression\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 16:46:41\n * @Last Modified by: Tao Zeng (tao.zeng.zt@qq.com)\n * @Last Modified time: 2018-11-07 15:59:34\n */\nimport { assert } from 'devlevel'\nimport { Expression } from '../../Expression'\nimport { VNodeKeyword, identityHandler } from './identityHandler'\nimport { parsePath } from '../../common'\nimport { create, inherit, isFn } from '../../helper'\n\nexport const transforms = create(null)\n\nfunction transformIdentityHandler(prefix, identity, opt) {\n\treturn identityHandler(prefix, parsePath(identity), opt)\n}\n\nconst paramNames = [VNodeKeyword]\nexport default function TransformExpression(code, transforms, keywords) {\n\tExpression.call(this, code, paramNames, transformIdentityHandler, this.parseFilter.bind(this), keywords)\n\tthis.transforms = transforms\n}\n\ninherit(TransformExpression, Expression, {\n\tvalue(scope, args) {\n\t\treturn this.execute(scope, args)\n\t},\n\ttransformValue(scope, args) {\n\t\treturn this.transform(this.execute(scope, args), scope, args)\n\t},\n\ttransform(value, scope, args) {\n\t\tthis.eachFilter(\n\t\t\t(filter, args) => {\n\t\t\t\tvalue = isFn(filter) ? filter(value, args) : filter.transform.call(filter, value, args)\n\t\t\t},\n\t\t\tscope,\n\t\t\targs\n\t\t)\n\t\treturn value\n\t},\n\tcheckRestore() {\n\t\tassert.by(() => {\n\t\t\tthis.reachFilter(filter => {\n\t\t\t\tassert.fn(filter.restore, `Transform[${name}] not support restore`)\n\t\t\t})\n\t\t})\n\t},\n\trestore(value, scope, args) {\n\t\tthis.reachFilter(\n\t\t\t(filter, args, name) => {\n\t\t\t\tassert.fn(filter.restore, `Transform[${name}] not support restore`)\n\t\t\t\tvalue = filter.restore.call(filter, value, args)\n\t\t\t},\n\t\t\tscope,\n\t\t\targs\n\t\t)\n\t\treturn value\n\t},\n\tparseFilter(name) {\n\t\tconst localTransforms = this.transforms\n\t\tconst transform = (localTransforms && localTransforms[name]) || transforms[name]\n\n\t\tassert(transform, `Transform[${name}] is undefined`)\n\n\t\tassert(isFn(transform) || isFn(transform.transform), `Invalid Transform[${name}].transform handler on ${localTransforms && localTransforms[name] ? 'Local' : 'Global'} Transforms`)\n\n\t\tassert(!transform.restore || isFn(transform.transform), `Invalid Transform[${name}].restore handler on ${localTransforms && localTransforms[name] ? 'Local' : 'Global'} Transforms`)\n\n\t\treturn transform\n\t},\n})\n","/*\n * Transforms\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 17:57:39\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 18:30:39\n */\nimport { makeMap, applyNoScope, isStr, trim } from '../../helper'\nimport { format, plural, singular, thousandSeparate } from '../../common'\nimport { transforms } from './TransformExpression'\n\ntransforms.json = {\n\ttransform(value, param) {\n\t\tif (isStr(value)) return `\"${value}\"`\n\t\tconst indent = +param.get(0)\n\t\treturn JSON.stringify(value, param.get(1), isNaN(indent) ? 0 : indent)\n\t},\n\trestore(value) {\n\t\treturn value && isStr(value) ? JSON.parse(value) : value\n\t},\n}\n\ntransforms.trim = {\n\ttransform(value) {\n\t\treturn isStr(value) ? trim(value) : value\n\t},\n\trestore(value) {\n\t\treturn isStr(value) ? trim(value) : value\n\t},\n}\n\ntransforms.capitalize = function(value) {\n\treturn isStr(value) ? value.charAt(0).toUpperCase() + value.slice(1) : value\n}\n\ntransforms.uppercase = function(value) {\n\treturn isStr(value) ? value.toUpperCase() : value\n}\n\ntransforms.lowercase = function(value) {\n\treturn isStr(value) ? value.toLowerCase() : value\n}\n\ntransforms.plural = function(value) {\n\treturn isStr(value) ? plural(value) : value\n}\n\ntransforms.singular = function(value) {\n\treturn isStr(value) ? singular(value) : value\n}\n\ntransforms.unit = function(value, param) {\n\tlet unit = param.get(0),\n\t\tfmt = param.get(1)\n\tif (value > 1) unit = plural(unit)\n\treturn fmt ? format(fmt, value, unit) : value + ' ' + unit\n}\n\nconst units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB'],\n\tunitRestoreReg = /(KB|B|MB|GB|TB|PB)$/,\n\tunitMap = makeMap(units, (unit, i) => 1 << (i * 10))\ntransforms.bytes = {\n\ttransform(value, param) {\n\t\tconst v = +value\n\t\tif (isNaN(v)) return value\n\n\t\tconst digit = param.get(0, 2),\n\t\t\tprecision = Math.pow(10, digit),\n\t\t\ti = Math.floor(Math.log(v) / Math.log(1024))\n\t\treturn Math.round((v * precision) / Math.pow(1024, i)) / precision + ' ' + units[i]\n\t},\n\trestore(value) {\n\t\tif (!isStr(value)) return value\n\t\tlet unit,\n\t\t\tv = value.replace(unitRestoreReg, function(match) {\n\t\t\t\tunit = match\n\t\t\t\treturn ''\n\t\t\t})\n\t\tif (!unit) return value\n\t\tv = +v\n\t\tif (isNaN(v)) return value\n\t\treturn Math.round(v * unitMap[unit])\n\t},\n}\n\ntransforms.format = function(value, param) {\n\tconst args = param.get()\n\targs.splice(1, 0, value)\n\treturn applyNoScope(format, args)\n}\n","/*\n * VNode Expression\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 17:58:36\n * @Last Modified by: Tao Zeng (tao.zeng.zt@qq.com)\n * @Last Modified time: 2018-11-07 16:02:15\n */\nimport TransformExpression, { transforms } from './TransformExpression'\nimport './transforms'\n\nexport default TransformExpression\nexport { transforms }\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:36:23\n * @Last Modified by: Tao Zeng (tao.zeng.zt@qq.com)\n * @Last Modified time: 2018-11-07 16:07:37\n */\nimport { VIRT_BINDING_TEXT } from './VNode'\nimport VText from './VText'\nimport TransformExpression from './expression'\nimport { inherit } from '../helper'\n\nexport default inherit(\n\tfunction VBindingText(comp, expr) {\n\t\tVText.call(this, comp)\n\t\tthis.expr = expr\n\t},\n\tVText,\n\t{\n\t\t[VIRT_BINDING_TEXT]: true,\n\t\tprepare(text) {\n\t\t\treturn new TransformExpression(text)\n\t\t},\n\t\tmount() {\n\t\t\tconst { expr, comp } = this\n\t\t\tthis.text(expr.transformValue(comp, [this]))\n\t\t\tcomp.observeExpr(expr, this.exprHandler, this)\n\t\t},\n\t\tunmount() {\n\t\t\tthis.comp.unobserveExpr(this.expr, this.exprHandler, this)\n\t\t},\n\t\texprHandler(path, value) {\n\t\t\tconst { expr, comp } = this\n\t\t\tthis.text(expr.simple ? expr.transform(value, comp, [this]) : expr.transformValue(comp, [this]))\n\t\t},\n\t}\n)\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:36:28\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:14:23\n */\nimport { assert } from 'devlevel'\nimport VNode, { VIRT_ELEMENT } from './VNode'\nimport { inherit, fnName } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport default inherit(\n\tfunction VElement(comp, option) {\n\t\tVNode.call(this, comp)\n\t\tthis.init(option)\n\t\tthis.initAttrs(option.attrs)\n\t\tthis.initDirectives(option.directives)\n\t},\n\tVNode,\n\t{\n\t\t[VIRT_ELEMENT]: true,\n\t\tprepare(option) {\n\t\t\tconst { directives } = option\n\t\t\tif (directives) {\n\t\t\t\tconst l = directives.length\n\t\t\t\tassert.by(l, () => {\n\t\t\t\t\tfor (var i = 0, g, D; i < l; i++) {\n\t\t\t\t\t\tg = directives[i]\n\t\t\t\t\t\tD = g.Directive\n\t\t\t\t\t\tassert(this[D[PROTOTYPE].$nodeKey], `Can not bind directive[${g.dname}: ${fnName(D)}] on ${fnName(this.constructor)}, require ${D[PROTOTYPE].$nodeName}`)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (!l) option.directives = null\n\t\t\t}\n\t\t},\n\t\tinit() {},\n\t\tinitDirectives(directives) {\n\t\t\tif (directives) {\n\t\t\t\tconst l = directives.length,\n\t\t\t\t\t__directives = new Array(l)\n\t\t\t\tfor (var i = 0; i < l; i++) __directives[i] = directives[i](this)\n\t\t\t\tthis.directives = __directives\n\t\t\t}\n\t\t},\n\t\tmount() {\n\t\t\tconst { directives } = this\n\t\t\tif (directives) {\n\t\t\t\tconst l = directives.length\n\t\t\t\tfor (var i = 0; i < l; i++) directives[i].bind()\n\t\t\t}\n\t\t},\n\t\tunmount() {\n\t\t\tconst { directives } = this\n\t\t\tif (directives) {\n\t\t\t\tvar i = directives.length\n\t\t\t\twhile (i--) directives[i].unbind()\n\t\t\t}\n\t\t},\n\t}\n)\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:36:34\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:13:56\n */\nimport { assert } from 'devlevel'\nimport { VIRT_NODE, VIRT_COMPLEX_ELEMENT, CHILD_NODES } from './VNode'\nimport VElement from './VElement'\nimport { List } from '../common'\nimport { inherit } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst { prepare, mount, unmount } = VElement[PROTOTYPE]\n\nexport default inherit(\n\tfunction VComplexElement(comp, option) {\n\t\tVElement.call(this, comp, option)\n\t\tthis.initChildren(option.children)\n\t},\n\tVElement,\n\t{\n\t\t[VIRT_COMPLEX_ELEMENT]: true,\n\t\t$childKey: VIRT_NODE,\n\t\t$childName: 'Virtual Node',\n\t\tprepare(option, N) {\n\t\t\tprepare.call(this, option, N)\n\t\t\tconst children = option.children\n\t\t\tif (children) {\n\t\t\t\tconst l = children.length\n\t\t\t\tfor (var i = 0, N; i < l; i++) {\n\t\t\t\t\tN = children[i].VNode\n\t\t\t\t\tassert(N[PROTOTYPE][this.$childKey], `Child Node[${i}: ${children[i].ename}] should be ${this.$childName}`)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tinitChildren(children) {\n\t\t\tconst childNodes = (this[CHILD_NODES] = new List())\n\t\t\tconst l = children.length\n\t\t\tconst __children = new Array(l)\n\t\t\tfor (var i = 0, child; i < l; i++) {\n\t\t\t\t__children[i] = child = children[i](this.comp)\n\t\t\t\tchild.parent = this\n\t\t\t\tthis.initChild(child)\n\t\t\t}\n\t\t\tchildNodes.addAll(__children)\n\t\t},\n\t\tinitChild(child) {},\n\t\tmount() {\n\t\t\tmount.call(this)\n\t\t\tthis[CHILD_NODES].each(mountChildHandler)\n\t\t},\n\t\tunmount() {\n\t\t\tthis[CHILD_NODES].each(unmountChildHandler)\n\t\t\tunmount.call(this)\n\t\t},\n\t\tchildCount() {\n\t\t\treturn this[CHILD_NODES].length\n\t\t},\n\t\tfirst() {\n\t\t\treturn this[CHILD_NODES].first()\n\t\t},\n\t\tlast() {\n\t\t\treturn this[CHILD_NODES].last()\n\t\t},\n\t\tprev: createSibling('prev'),\n\t\tnext: createSibling('next'),\n\t\tappend: createInsert('add'),\n\t\tprepend: createInsert('addFirst'),\n\t\tinsertBefore: createInsertSibling('insertBefore'),\n\t\tinsertAfter: createInsertSibling('insertAfter'),\n\t\treplace(node, target) {\n\t\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\t\t\tassert(this[CHILD_NODES].has(target), `target is not existing in this Node`)\n\n\t\t\tnode.remove()\n\t\t\tthis[CHILD_NODES].insert(node, target)\n\t\t\ttarget.remove()\n\t\t\tnode.parent = this\n\t\t\treturn this\n\t\t},\n\t\teachChildren(cb, scope) {\n\t\t\treturn this[CHILD_NODES].each(cb, scope)\n\t\t},\n\t}\n)\n\nfunction createSibling(get) {\n\treturn function(node) {\n\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\n\t\treturn this[CHILD_NODES][get](node)\n\t}\n}\n\nfunction createInsert(insert) {\n\treturn function(node) {\n\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\n\t\tnode.remove()\n\t\tthis[CHILD_NODES][insert](node)\n\t\tnode.parent = this\n\t}\n\treturn this\n}\n\nfunction createInsertSibling(insert) {\n\treturn function(node, target) {\n\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\t\tassert(this[CHILD_NODES].has(target), `target is not existing in this Node`)\n\n\t\tnode.remove()\n\t\tthis[CHILD_NODES][insert](node, target)\n\t\tnode.parent = this\n\t\treturn this\n\t}\n}\n\nfunction mountChildHandler(child) {\n\tchild.mount()\n}\n\nfunction unmountChildHandler(child) {\n\tchild.unmount()\n}\n","/*\n * <CompontentTag>\n *      <div ref=\"\"\n * </CompontentTag>\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:37:24\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-05 14:01:41\n */\nimport { assert } from 'devlevel'\nimport VComplexElement from './VComplexElement'\nimport { parsePath } from '../common'\nimport { observer } from '../observer'\nimport { inherit, hasOwnProp, isObj } from '../helper'\n\nexport default inherit(\n\tfunction Compontent(scope, option) {\n\t\tVComplexElement.call(this, this, option)\n\n\t\tlet comp = null\n\t\tif (!isObj(scope)) {\n\t\t\tassert(scope && scope.$comp, 'Require Parent Compontent')\n\t\t\tcomp = scope\n\t\t\tscope = comp.$scope\n\t\t}\n\t\tconst obs = observer(scope)\n\t\tthis.scope = obs.proxy\n\t\tthis.$scope = obs.source\n\t\tthis.$observer = obs\n\t\tthis.parent = comp\n\t},\n\tVComplexElement,\n\t{\n\t\t$comp: true,\n\t\tprepare(option) {},\n\t\tinitAttrs() {},\n\t\t$getScope(attr) {\n\t\t\tlet $observer = this.$observer,\n\t\t\t\tparent\n\t\t\twhile (!hasOwnProp($observer.source, attr) && (parent = $observer.$parent) && attr in parent.source) $observer = parent\n\t\t\treturn $observer\n\t\t},\n\t\tgetScope(attr) {\n\t\t\treturn this.$getScope(attr).proxy\n\t\t},\n\t\tobserve(path, cb, scope) {\n\t\t\tpath = parsePath(path)\n\t\t\tthis.$getScope(path[0]).observe(path, cb, scope)\n\t\t\treturn this\n\t\t},\n\t\tunobserve(path, cb, scope) {\n\t\t\tthis.$getScope(path[0]).unobserve(path, cb, scope)\n\t\t\treturn this\n\t\t},\n\t\tobserveExpr(expr, cb, scope) {\n\t\t\tconst identities = expr.identities,\n\t\t\t\tl = identities.length\n\t\t\tfor (var i = 0; i < l; i++) this.observe(identities[i], cb, scope)\n\t\t\treturn this\n\t\t},\n\t\tunobserveExpr(expr, cb, scope) {\n\t\t\tconst identities = expr.identities,\n\t\t\t\tl = identities.length\n\t\t\tfor (var i = 0; i < l; i++) this.unobserve(identities[i], cb, scope)\n\t\t\treturn this\n\t\t},\n\t\tonProxyChange(fn, scope) {\n\t\t\tthis.$observer.onProxyChange(fn, scope)\n\t\t\treturn this\n\t\t},\n\t\tunProxyChange(fn, scope) {\n\t\t\tthis.$observer.unProxyChange(fn, scope)\n\t\t\treturn this\n\t\t},\n\t\tdestroy() {},\n\t}\n)\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:36:40\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:13:45\n */\nimport VNode, { VIRT_COMMENT } from './VNode'\nimport { inherit } from '../helper'\n\nexport default inherit(\n\tfunction VComment(comp, comment) {\n\t\tVNode.call(this, comp)\n\t\tthis.comment = comment\n\t},\n\tVNode,\n\t{\n\t\t[VIRT_COMMENT]: true,\n\t}\n)\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-29 12:36:45\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 18:03:59\n */\nimport { assert, info } from 'devlevel'\nimport { createClass, inherit, create, subclassOf, fnName, isObj, isFn } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport const directives = create(null)\nexport function Directive(node, params) {\n\tthis.comp = node.comp\n\tthis.node = node\n\tthis.params = params\n}\ninherit(Directive, {\n\t$directive: true,\n\t$nodeKey: '$virtElement',\n\t$nodeName: 'Virtual Element',\n\tprepare() {},\n\tbind() {},\n\tunbind() {},\n\tobserveExpr(expr, cb, scope) {\n\t\treturn this.comp.observeExpr(expr, cb, scope)\n\t},\n\tunobserveExpr(expr, cb, scope) {\n\t\treturn this.comp.unobserveExpr(expr, cb, scope)\n\t},\n})\n\nexport function registerDirective(name, directive) {\n\tname = name.toLowerCase()\n\tassert(!directives[name], `Double Register Directive[${name}]`)\n\tif (!isFn(directive)) {\n\t\tif (!directive.extend) directive.extend = Directive\n\t\tdirective = createClass(directive)\n\t}\n\tassert(directive[PROTOTYPE].$directive, `Invalid Directive[${name}], should extend Directive`)\n\n\tdirectives[name] = directive\n\tinfo(`Register Directive: ${fnName(directive)} [${name}]`)\n\treturn directive\n}\n\nexport function directive(name, value, params) {\n\tconst Directive = directives[name]\n\tassert(Directive, `Directive[${name}] is undefined`)\n\tif (!params) params = {}\n\tparams.value = value\n\tparams = Directive[PROTOTYPE].prepare(params, Directive) || params\n\n\tgenerator.params = params\n\tgenerator.dname = name\n\tgenerator.Directive = Directive\n\n\tfunction generator(node) {\n\t\treturn new Directive(node, params)\n\t}\n\treturn generator\n}\n","export { default as VNode } from './VNode'\nexport { default as VText } from './VText'\nexport { default as VBindingText } from './VBindingText'\nexport { default as VElement } from './VElement'\nexport { default as VComplexElement } from './VComplexElement'\nexport { default as Compontent } from './Compontent'\nexport { default as VComment } from './VComment'\nexport { default as TransformExpression, transforms } from './expression'\nexport * from './Directive'\n\nimport { assert, info, debug } from 'devlevel'\nimport { create, fnName } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\nimport { VIRT_TEXT, VIRT_BINDING_TEXT, VIRT_COMMENT, VIRT_ELEMENT, VIRT_COMPLEX_ELEMENT } from './VNode'\n\nconst VElements = create(null)\nexport const tags = create(VElements)\nlet Text, BindingText, Comment\n\nexport function registerVElement(name, VElement) {\n\tassert(!VElements[name], `Double Register Virtual Element: ${fnName(VElement)} <${name}>`)\n\tassert(VElement[PROTOTYPE][VIRT_ELEMENT], `Invalid Virtual Element: ${fnName(VElement)} <${name}>`)\n\n\tVElements[name] = VElement\n\n\tinfo(`register Virtual Element: ${fnName(VElement)} <${name}>`)\n\treturn VElement\n}\n\nexport function registerVText(VText) {\n\tassert(!Text, `Double Register Virtual Text`)\n\tassert(VText[PROTOTYPE][VIRT_TEXT], `Invalid Virtual Node: ${fnName(VText)}`)\n\n\tText = VText\n\n\tinfo(`register Virtual Text: ${fnName(VText)}`)\n\treturn Text\n}\n\nexport function registerVBindingText(VBindingText) {\n\tassert(!BindingText, `Double Register Virtual Binding Text`)\n\tassert(VBindingText[PROTOTYPE][VIRT_BINDING_TEXT], `Invalid Virtual Binding Text: ${fnName(VBindingText)}`)\n\n\tBindingText = VBindingText\n\n\tinfo(`register Virtual Binding Text: ${fnName(VBindingText)}`)\n\treturn BindingText\n}\n\nexport function registerVComment(VComment) {\n\tassert(!Comment, `Double Register Virtual Comment `)\n\tassert(VComment[PROTOTYPE][VIRT_COMMENT], `Invalid Virtual Comment: ${fnName(VComment)}`)\n\n\tComment = VComment\n\n\tinfo(`register Virtual Comment : ${fnName(VComment)}`)\n\treturn VComment\n}\n\nexport function elem(name, attrs, directives, children) {\n\tconst VElement = VElements[name]\n\tif (children && !children.length) children = undefined\n\n\tassert(VElement, `Virtual Element[${name}] is undefined`)\n\n\tassert(!children || !children.length || VElement[PROTOTYPE][VIRT_COMPLEX_ELEMENT], `Virtual Element[${name}] have no children`)\n\n\tconst gen = generator(VElement, {\n\t\tattrs,\n\t\tdirectives,\n\t\tchildren,\n\t})\n\tgen.ename = name\n\treturn gen\n}\n\nexport function text(text, isExpr) {\n\treturn generator(isExpr ? BindingText : Text, text)\n}\n\nexport function comment(comment) {\n\treturn generator(Comment, comment)\n}\n\nfunction generator(VNode, option) {\n\toption = VNode[PROTOTYPE].prepare(option, VNode) || option\n\n\tfunction generator(comp) {\n\t\treturn new VNode(comp, option)\n\t}\n\tgenerator.VNode = VNode\n\tgenerator.option = option\n\n\treturn generator\n}\n","import { isStr, isArrayLike } from '../../helper'\n\nexport const ADD_EVENT_LISTENER = 'addEventListener',\n\tATTACH_EVENT = 'attachEvent',\n\tDOCUMENT_ELEMENT = 'documentElement',\n\tDEFAULT_VIEW = 'defaultView',\n\tPARENT_WINDOW = 'parentWindow',\n\tAPPEND_CHILD = 'appendChild',\n\tREMOVE_CHILD = 'removeChild',\n\tINSERT_BEFORE = 'insertBefore',\n\tREPLACE_CHILD = 'replaceChild',\n\tPARENT_NODE = 'parentNode',\n\tCONTAINS = 'contains',\n\tINNER_HTML = 'innerHTML',\n\tCREATE_ELEMENT = 'createElement',\n\tOWNER_DOCUMENT = 'ownerDocument',\n\tSET_ATTRIBUTE = 'setAttribute',\n\tGET_ATTRIBUTE = 'getAttribute',\n\tREMOVE_ATTRIBUTE = 'removeAttribute',\n\tCHECKED = 'checked',\n\tSELECTED = 'selected',\n\tDISABLED = 'disabled',\n\tREAD_ONLY = 'readOnly',\n\tTAB_INDEX = 'tabIndex',\n\tHTML_FOR = 'htmlFor',\n\tCLASS_NAME = 'className',\n\tCURRENT_TARGET = 'currentTarget',\n\tPREVENT_DEFAULT = 'preventDefault',\n\tSTOP_PROPAGATION = 'stopPropagation',\n\tSTOP_IMMEDIATE_PROPAGATION = 'stopImmediatePropagation',\n\tCLIENT_TOP = 'clientTop',\n\tCLIENT_LEFT = 'clientLeft',\n\tSCROLL_LEFT = 'scrollLeft',\n\tSCROLL_TOP = 'scrollTop',\n\tPAGE_XOFFSET = 'pageXOffset',\n\tPAGE_YOFFSET = 'pageYOffset',\n\tCLIENTX = 'clientX',\n\tCLIENTY = 'clientY',\n\tPAGEX = 'pageX',\n\tPAGEY = 'pageY'\n\nexport const ROOTELEMENT = document[DOCUMENT_ELEMENT]\nexport const DIV = document[CREATE_ELEMENT]('div')\n\nexport function getWindow(el) {\n\treturn el.window && el.document ? el : el.nodeType === 9 ? el[DEFAULT_VIEW] || el[PARENT_WINDOW] : undefined\n}\n\nexport function inDoc(el, root) {\n\tif (!root) root = ROOTELEMENT\n\tif (root[CONTAINS]) return root[CONTAINS](el)\n\twhile ((el = el[PARENT_NODE])) if (el === root) return true\n\treturn false\n}\n\nexport function query(selectors) {\n\treturn isStr(selectors) ? document.querySelector(selectors) : isArrayLike(selectors) ? selectors[0] : selectors\n}\n\nexport function prependChild(parent, el) {\n\tlet first = parent.firstChild\n\tfirst ? first !== el && parent[INSERT_BEFORE](el, first) : parent[APPEND_CHILD](el)\n}\n\nexport function insertAfter(el, prev) {\n\tvar next = prev.nextSibling\n\tnext ? next !== el && prev[PARENT_NODE][INSERT_BEFORE](el, next) : prev[PARENT_NODE][APPEND_CHILD](el)\n}\n\nexport function insertBefore(el, next) {\n\tel !== next.previousSibling && next[PARENT_NODE][INSERT_BEFORE](el, next)\n}\n","import { VIRT_NODE } from '../vnode/VNode'\nimport { PARENT_NODE, APPEND_CHILD, REMOVE_CHILD, REPLACE_CHILD, query, prependChild, insertAfter, insertBefore } from './util/util'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport default function(VNode) {\n\tconst remove = VNode[PROTOTYPE].remove\n\treturn {\n\t\t$htmlNode: true,\n\t\tappendTo(parent) {\n\t\t\tif (parent[VIRT_NODE]) {\n\t\t\t\tparent.append(this)\n\t\t\t} else {\n\t\t\t\tquery(parent)[APPEND_CHILD](this.el)\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tprependTo(parent) {\n\t\t\tif (parent[VIRT_NODE]) {\n\t\t\t\tparent.prepend(this)\n\t\t\t} else {\n\t\t\t\tprependChild(query(parent), this.el)\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tinsertBeforeTo(target) {\n\t\t\tif (target[VIRT_NODE]) {\n\t\t\t\ttarget.parent.insertBefore(this, target)\n\t\t\t} else {\n\t\t\t\tinsertAfter(this.el, query(target))\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tinsertAfterTo(target) {\n\t\t\tif (target[VIRT_NODE]) {\n\t\t\t\ttarget.parent.insertAfter(this, target)\n\t\t\t} else {\n\t\t\t\tinsertBefore(this.el, query(target))\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\treplaceTo(target) {\n\t\t\tif (target[VIRT_NODE]) {\n\t\t\t\ttarget.parent.replace(this, target)\n\t\t\t} else {\n\t\t\t\ttaget = query(target)\n\t\t\t\ttarget[PARENT_NODE][REPLACE_CHILD](this.el, target)\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tremove() {\n\t\t\tconst el = this.el,\n\t\t\t\tpEl = el[PARENT_NODE]\n\t\t\tpEl && pEl[REMOVE_CHILD](el)\n\t\t\treturn remove.call(this)\n\t\t},\n\t}\n}\n","/*\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-25 17:47:25\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:29:48\n */\nimport { assert } from 'devlevel'\nimport { inDoc, CREATE_ELEMENT, APPEND_CHILD, INNER_HTML } from './util/util'\n\nconst DOM_ELEMENT = '__element__'\nconst CHECKED = 'checked'\n\nconst OUTER_HTML = 'outerHTML'\n\nexport default {\n\t$htmlElement: true,\n\tinit(option) {\n\t\tconst el = document[CREATE_ELEMENT](this.tagName)\n\t\tel[DOM_ELEMENT] = this\n\t\tthis.el = el\n\t\tthis.initDomEvent()\n\t},\n\tinDoc() {\n\t\treturn inDoc(this.el)\n\t},\n\touterHtml() {\n\t\tconst el = this.el\n\t\tif (el[OUTER_HTML]) return el[OUTER_HTML]\n\t\tDIV[APPEND_CHILD](el.cloneNode(true))\n\t\tconst html = DIV[INNER_HTML]\n\t\tDIV[INNER_HTML] = ''\n\t\treturn html\n\t},\n\tfocus() {\n\t\tthis.el.focus()\n\t\treturn this\n\t},\n}\n","import { create, hasOwnProp, isObj } from '../../helper'\n\nexport default function(normal, __hooks, defKey, recive) {\n\tconst hooks = create(null),\n\t\trevices = recive && create(null)\n\t__hooks && addHook(__hooks)\n\n\treturn {\n\t\taddHook,\n\t\tgetHook(key) {\n\t\t\treturn hooks[key] || normal\n\t\t},\n\t\thookMember(key, member) {\n\t\t\tconst hook = hooks[key]\n\t\t\treturn hook && hook[member]\n\t\t},\n\t\tmemberHook(key, member) {\n\t\t\tconst hook = hooks[key]\n\t\t\tif (hook && hook[member]) return hook\n\t\t\tif (normal[member]) return normal\n\t\t},\n\t\thookRevice(key) {\n\t\t\treturn revices[key]\n\t\t},\n\t}\n\n\tfunction addHook(key, hook) {\n\t\tif (arguments.length === 1) {\n\t\t\tfor (var k in key) if (hasOwnProp(key, k)) doAdd(k, key[k])\n\t\t} else {\n\t\t\treturn doAdd(key, hook)\n\t\t}\n\t}\n\n\tfunction doAdd(key, hook) {\n\t\tif (!isObj(hook)) {\n\t\t\thook = {\n\t\t\t\t[defKey]: hook,\n\t\t\t}\n\t\t}\n\t\tif (revices && hook[recive]) revices[hook[recive]] = key\n\t\thooks[key] = hook\n\t\treturn hook\n\t}\n}\n","/*\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 17:54:34\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 12:47:27\n */\nimport createHook from './util/hook'\nimport { SET_ATTRIBUTE, GET_ATTRIBUTE, REMOVE_ATTRIBUTE, CHECKED, SELECTED, DISABLED, READ_ONLY, TAB_INDEX, HTML_FOR } from './util/util'\nimport { $eachObj } from '../observer'\nimport { create, applyNoScope, isStr } from '../helper'\n\nconst GET_ATTRIBUTENODE = GET_ATTRIBUTE + 'Node'\n\nconst NAME = 'name',\n\tGET = 'get',\n\tSET = 'set'\n\nconst { hookMember, memberHook, addHook } = createHook(\n\t{\n\t\tget(el, name) {\n\t\t\treturn el[name]\n\t\t},\n\t\tset(el, name, value) {\n\t\t\tel[name] = value\n\t\t},\n\t},\n\t{\n\t\ttabIndex: {\n\t\t\tget(el, name) {\n\t\t\t\tlet attributeNode = el[GET_ATTRIBUTENODE]('tabindex')\n\t\t\t\treturn attributeNode && attributeNode.specified ? parseInt(attributeNode.value, 10) : rfocusable.test(el.nodeName) || (rclickable.test(el.nodeName) && el.href) ? 0 : undefined\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\ttabindex: TAB_INDEX,\n\t\treadonly: READ_ONLY,\n\t\tfor: HTML_FOR,\n\t\tclass: 'className',\n\t\tmaxlength: 'maxLength',\n\t\tcellspacing: 'cellSpacing',\n\t\tcellpadding: 'cellPadding',\n\t\trowspan: 'rowSpan',\n\t\tcolspan: 'colSpan',\n\t\tusemap: 'useMap',\n\t\tframeborder: 'frameBorder',\n\t\tcontenteditable: 'contentEditable',\n\t},\n\tNAME\n)\n\nexport default {\n\tinitAttrs(attrs) {\n\t\tattrs && this.attr(attrs)\n\t},\n\tattr(name, value) {\n\t\tconst el = this.el\n\t\tif (arguments.length === 1) {\n\t\t\tif (isStr(name)) return el[GET_ATTRIBUTE](name)\n\t\t\t$eachObj(name, (value, name) => {\n\t\t\t\tel[SET_ATTRIBUTE](name, value)\n\t\t\t})\n\t\t} else {\n\t\t\tel[SET_ATTRIBUTE](name, value)\n\t\t}\n\t\treturn this\n\t},\n\tremoveAttr(name) {\n\t\tthis.el[REMOVE_ATTRIBUTE](name)\n\t\treturn this\n\t},\n\tprop(name, value) {\n\t\tconst el = this.el\n\t\tif (arguments.length === 1) {\n\t\t\tif (isStr(name)) return getProp(el, name)\n\t\t\t$eachObj(name, (value, name) => {\n\t\t\t\tsetProp(el, name, value)\n\t\t\t})\n\t\t} else {\n\t\t\tsetProp(el, name, value)\n\t\t}\n\t\treturn this\n\t},\n\tchecked: propAccessor(CHECKED),\n\tselected: propAccessor(SELECTED),\n\tdisabled: propAccessor(DISABLED),\n\treadonly: propAccessor(READ_ONLY),\n\ttabindex: propAccessor(TAB_INDEX),\n\tfor: propAccessor(HTML_FOR),\n}\n\nexport function addDomPropHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nfunction propAccessor(PROP) {\n\treturn function(value) {\n\t\tconst el = this.el\n\t\tif (arguments.length) {\n\t\t\tsetProp(el, PROP, value)\n\t\t\treturn this\n\t\t}\n\t\treturn getProp(el, PROP)\n\t}\n}\n\nfunction getProp(el, name) {\n\tname = hookMember(name, NAME)\n\treturn memberHook(name, GET)[GET](el, name)\n}\n\nfunction setProp(el, name, value) {\n\tname = hookMember(name, NAME)\n\tmemberHook(name, SET)[SET](el, name, value)\n}\n","/*\n * element class operations\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 17:48:52\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 12:43:08\n */\nimport { DIV, CLASS_NAME } from './util/util'\nimport { create, trim, isArray, isStr, isBool } from '../helper'\n\nconst CLASS_LIST = 'classList'\n\nconst wsReg = /\\s+/g\n\nconst addClass = DIV[CLASS_LIST]\n\t\t? mkClasslistUpdator('add')\n\t\t: function(el, className) {\n\t\t\t\tclassName = parseClassNameArray(className)\n\t\t\t\tif (className.length) el[CLASS_NAME] = trim(clearClassName(el[CLASS_NAME], className) + ' ' + className.join(' '))\n\t\t\t\treturn this\n\t\t  },\n\tremoveClass = DIV[CLASS_LIST]\n\t\t? mkClasslistUpdator('remove')\n\t\t: function(el, className) {\n\t\t\t\tclassName = parseClassNameArray(className)\n\t\t\t\tif (className.length) el[CLASS_NAME] = trim(clearClassName(el[CLASS_NAME], className))\n\t\t\t\treturn this\n\t\t  }\nexport default {\n\tclassName(className) {\n\t\tconst el = this.el\n\t\tif (arguments.length) {\n\t\t\tel[CLASS_NAME] = parseClassName(className)\n\t\t\treturn this\n\t\t}\n\t\treturn trim(el[CLASS_NAME]).split(wsReg)\n\t},\n\taddClass,\n\tremoveClass,\n\tmargeClass(obj) {\n\t\tconst el = this.el,\n\t\t\tadds = [],\n\t\t\tclears = []\n\t\tlet name, val\n\t\tfor (name in obj) {\n\t\t\tval = obj[name]\n\t\t\tswitch (val) {\n\t\t\t\tcase true:\n\t\t\t\t\tadds.push(name)\n\t\t\t\tcase false:\n\t\t\t\t\tclears.push(name)\n\t\t\t}\n\t\t}\n\t\tel[CLASS_NAME] = trim(clearClassName(el[CLASS_NAME], clears) + ' ' + adds.join(' '))\n\t\treturn this\n\t},\n}\n\nfunction mkClasslistUpdator(method) {\n\treturn function(className) {\n\t\tclassName = parseClassNameArray(className)\n\n\t\tconst classList = this.el[CLASS_LIST]\n\t\tlet i = className.length\n\t\twhile (i--) classList[method](className[i])\n\t\treturn this\n\t}\n}\n\nconst clearRegCache = create(null)\n\nfunction clearClassName(className, removes) {\n\tremoves = removes.join('|')\n\tconst reg = clearRegCache[removes] || (clearRegCache[removes] = new RegExp('(\\\\s+|^)(' + removes + ')', 'g'))\n\treturn className.replace(reg, '')\n}\n\nfunction parseClassName(className) {\n\tif (isStr(className)) return trim(className)\n\treturn parseClassNameArrayByObj(className).join(' ')\n}\n\nfunction parseClassNameArray(className) {\n\tif (isStr(className)) return trim(className).split(wsReg)\n\treturn parseClassNameArrayByObj(className)\n}\n\nfunction parseClassNameArrayByObj(className) {\n\tif (isArray(className)) return className\n\n\tconst names = []\n\tlet key,\n\t\ti = 0\n\tfor (key in className) {\n\t\tif (className[key] === true) names[i++] = key\n\t}\n\treturn names\n}\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-09-01 10:51:15\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:15:03\n */\nimport { ROOTELEMENT, ADD_EVENT_LISTENER, ATTACH_EVENT } from './util'\nimport { nextTick } from '../../common'\n\nexport const W3C = !!window.dispatchEvent\nexport const IE8 = !!window.XDomainRequest\nexport const IE9 = navigator.userAgent.indexOf('MSIE 9') !== -1\n\nexport default function ready(fn) {\n\t!isReady ? readyList.push(fn) : fn()\n}\n\nlet readyList = [],\n\tisReady\n\nfunction fireReady(fn) {\n\tisReady = true\n\twhile ((fn = readyList.shift())) fn()\n\treadyList = undefined\n}\n\nconst READY_STATE = 'readyState',\n\tDO_SCROLL = 'doScroll'\n\nif (document[READY_STATE] === 'complete') {\n\tnextTick(fireReady)\n} else if (document[ADD_EVENT_LISTENER]) {\n\tdocument[ADD_EVENT_LISTENER]('DOMContentLoaded', fireReady)\n} else if (document[ATTACH_EVENT]) {\n\tdocument[ATTACH_EVENT]('onreadystatechange', function() {\n\t\tif (document[READY_STATE] === 'complete') fireReady()\n\t})\n\tif (ROOTELEMENT[DO_SCROLL] && window.frameElement === null && window.external) {\n\t\tfunction doScrollCheck() {\n\t\t\ttry {\n\t\t\t\tROOTELEMENT[DO_SCROLL]('left')\n\t\t\t\tfireReady()\n\t\t\t} catch (e) {\n\t\t\t\tnextTick(doScrollCheck)\n\t\t\t}\n\t\t}\n\t\tdoScrollCheck()\n\t}\n}\n","/*\n * element css opeartions\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 17:49:56\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:55:15\n */\nimport { inDoc, getWindow, ROOTELEMENT, OWNER_DOCUMENT, PARENT_WINDOW, DEFAULT_VIEW, REMOVE_ATTRIBUTE, CLIENT_TOP, CLIENT_LEFT, SCROLL_LEFT, SCROLL_TOP, PAGE_XOFFSET, PAGE_YOFFSET } from './util/util'\nimport createHook from './util/hook'\nimport { W3C, IE8 } from './util'\nimport { create, applyScope, makeMap, isNil, isStr } from '../helper'\nimport { $eachObj } from '../observer'\n\nconst numberCss = makeMap('animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,' + 'fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom')\n\nconst NAME = 'name',\n\tGET = 'get',\n\tSET = 'set'\nconst nameHooks = create(null)\nconst { memberHook, addHook } = createHook({\n\tget(el, name) {\n\t\tif (name === 'background') name = 'backgroundColor'\n\t\treturn getStyle(el, name)\n\t},\n\tset(el, name, value) {\n\t\tel.style[name] = value\n\t},\n})\nnameHooks.float = W3C ? 'cssFloat' : 'styleFloat'\n\nconst OFFSET_PARENT = 'offsetParent',\n\tGET_BOUNDING_CLIENT_RECT = 'getBoundingClientRect',\n\tFILTER = 'filter',\n\tPOSITION = 'position'\n\n// ========================= Mixin =================================\nfunction setCss(el, name, value) {\n\tname = camelize(name)\n\tif (isNil(value)) {\n\t\tvalue = ''\n\t} else if (!numberCss[name] && isFinite(value)) {\n\t\tvalue += 'px'\n\t}\n\tmemberHook(name, SET)[SET](el, cssHookName(name), value, name)\n}\n\nexport default {\n\tcss(name, value) {\n\t\tconst el = this.el\n\t\tif (arguments.length === 1) {\n\t\t\tif (isStr(name)) {\n\t\t\t\tname = camelize(name)\n\t\t\t\tconst value = memberHook(name, GET)[GET](el, cssHookName(name), name),\n\t\t\t\t\tnum = parseFloat(value)\n\t\t\t\treturn isFinite(num) ? num : value\n\t\t\t}\n\t\t\t$eachObj(name, (value, name) => {\n\t\t\t\tsetCss(el, name, value)\n\t\t\t})\n\t\t} else {\n\t\t\tsetCss(el, name, value)\n\t\t}\n\t\treturn this\n\t},\n\toffset() {\n\t\tconst el = this.el,\n\t\t\tdoc = el[OWNER_DOCUMENT],\n\t\t\tbox = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t}\n\n\t\tif (!doc) return box\n\n\t\tconst body = doc.body,\n\t\t\twin = doc[DEFAULT_VIEW] || doc[PARENT_WINDOW]\n\n\t\tif (!inDoc(el)) return box\n\n\t\tif (el[GET_BOUNDING_CLIENT_RECT]) {\n\t\t\tvar rect = el[GET_BOUNDING_CLIENT_RECT]()\n\t\t\tbox.top = rect.top\n\t\t\tbox.left = rect.left\n\t\t}\n\t\tconst clientTop = ROOTELEMENT[CLIENT_TOP] || body[CLIENT_TOP],\n\t\t\tclientLeft = ROOTELEMENT[CLIENT_LEFT] || body[CLIENT_LEFT],\n\t\t\tscrollTop = Math.max(win[PAGE_YOFFSET] || 0, ROOTELEMENT[SCROLL_TOP], body[SCROLL_TOP]),\n\t\t\tscrollLeft = Math.max(win[PAGE_XOFFSET] || 0, ROOTELEMENT[SCROLL_LEFT], body[SCROLL_LEFT])\n\n\t\tbox.top += scrollTop - clientTop\n\t\tbox.left += scrollLeft - clientLeft\n\t\treturn box\n\t},\n\tposition() {\n\t\tconst el = this.el\n\t\tlet top, left\n\t\tif (getStyle(el, POSITION) === 'fixed') {\n\t\t\tvar o = el[GET_BOUNDING_CLIENT_RECT]()\n\t\t\ttop = o.top\n\t\t\tleft = o.left\n\t\t} else {\n\t\t\tvar o = this.offset(el),\n\t\t\t\tp = offsetParent(el)\n\t\t\ttop = o.top - getNumStyle(p, 'borderTopWidth') + this.scrollTop(p)\n\t\t\tleft = o.left - getNumStyle(p, 'borderLeftWidth') + this.scrollLeft(p)\n\t\t\tif (p.tagName !== 'HTML') {\n\t\t\t\tvar op = this.offset(p)\n\t\t\t\ttop -= op.top\n\t\t\t\tleft -= op.left\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\ttop: top - getNumStyle(el, 'marginTop'),\n\t\t\tleft: left - getNumStyle(el, 'marginLeft'),\n\t\t}\n\t},\n\tscrollTop() {\n\t\tconst el = this.el,\n\t\t\twin = getWindow(el)\n\t\treturn (win ? (SCROLL_TOP in win ? win[SCROLL_TOP] : ROOTELEMENT[PAGE_YOFFSET]) : el[PAGE_YOFFSET]) || 0\n\t},\n\tscrollLeft() {\n\t\tconst el = this.el,\n\t\t\twin = getWindow(el)\n\t\treturn (win ? (SCROLL_LEFT in win ? win[SCROLL_LEFT] : ROOTELEMENT[PAGE_XOFFSET]) : el[PAGE_XOFFSET]) || 0\n\t},\n\tscrollTo(left, top) {\n\t\tconst el = this.el,\n\t\t\twin = getWindow(el)\n\t\tif (win) {\n\t\t\twin.scrollTo(left, top)\n\t\t} else {\n\t\t\tel[PAGE_XOFFSET] = left\n\t\t\tel[PAGE_YOFFSET] = top\n\t\t}\n\t},\n}\n\nexport function addDomStyleHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nfunction offsetParent(el) {\n\tlet p = el[OFFSET_PARENT]\n\twhile (p && getStyle(p, POSITION) === 'static') p = p[OFFSET_PARENT]\n\treturn p || ROOTELEMENT\n}\n\n// ========================= css opeartions =================================\n\nconst cssPrefixes = ['', '-webkit-', '-o-', '-moz-', '-ms-'],\n\thost = ROOTELEMENT.style,\n\tcssPrefixeSize = cssPrefixes.length\n\nfunction cssHookName(name) {\n\tlet fixedName = nameHooks[name]\n\tif (fixedName) return fixedName\n\tfor (var i = 0; i < cssPrefixeSize; i++) {\n\t\tfixedName = camelize(cssPrefixes[i] + name)\n\t\tif (fixedName in host) {\n\t\t\tnameHooks[name] = fixedName\n\t\t\treturn fixedName\n\t\t}\n\t}\n\tthrow new Error(`invalid style[${name}]`)\n}\n\nconst GET_COMPUTED_STYLE = 'getComputedStyle'\nconst computedStyle = !!window[GET_COMPUTED_STYLE]\n\nfunction getNumStyle(el, name) {\n\tconst val = getStyle(el, name),\n\t\ti = parseFloat(val)\n\treturn i === i ? i : 0\n}\nlet getStyle\nif (computedStyle) {\n\tgetStyle = function(el, name) {\n\t\tconst styles = window[GET_COMPUTED_STYLE](el, null)\n\t\tlet value\n\t\tif (styles) {\n\t\t\tvalue = name === FILTER ? styles.getPropertyValue(name) : styles[name]\n\t\t\tif (value === '') value = el.style[name]\n\t\t}\n\t\treturn value\n\t}\n} else {\n\tconst RUNTIME_STYLE = 'runtimeStyle',\n\t\trnumnonpx = /^-?(?:\\d*\\.)?\\d+(?!px)[^\\d\\s]+$/i,\n\t\trposition = /^(top|right|bottom|left)$/,\n\t\tborder = {\n\t\t\tthin: IE8 ? '1px' : '2px',\n\t\t\tmedium: IE8 ? '3px' : '4px',\n\t\t\tthick: IE8 ? '5px' : '6px',\n\t\t}\n\tgetStyle = function(el, name) {\n\t\tconst currentStyle = el.currentStyle\n\t\tlet value = currentStyle[name]\n\t\tif (rnumnonpx.test(value) && !rposition.test(value)) {\n\t\t\tconst style = el.style,\n\t\t\t\tleft = style.left,\n\t\t\t\trsLeft = el[RUNTIME_STYLE].left\n\n\t\t\tel[RUNTIME_STYLE].left = currentStyle.left\n\t\t\tstyle.left = name === 'fontSize' ? '1em' : value || 0\n\t\t\tvalue = style.pixelLeft + 'px'\n\t\t\tstyle.left = left\n\t\t\tel[RUNTIME_STYLE].left = rsLeft\n\t\t}\n\t\tif (value === 'medium') {\n\t\t\tname = name.replace('Width', 'Style')\n\t\t\tif (currentStyle[name] === 'none') value = '0px'\n\t\t}\n\t\treturn value === '' ? 'auto' : border[value] || value\n\t}\n}\n\nconst camelizeReg = /[-_][^-_]/g\n\nfunction camelize(target) {\n\treturn target ? target.replace(camelizeReg, camelizeHandler) : target\n}\n\nfunction camelizeHandler(match) {\n\treturn match.charAt(1).toUpperCase()\n}\n\n// ========================= hooks =================================\nconst OPACITY = 'opacity'\nif (computedStyle) {\n\taddHook(OPACITY, {\n\t\tget(el, name) {\n\t\t\tlet value = getStyle(el, name)\n\t\t\treturn value === '' ? 1 : value\n\t\t},\n\t})\n} else {\n\tconst FILTERS = FILTER + 's',\n\t\tsalpha = 'DXImageTransform.Microsoft.Alpha',\n\t\tralpha = /alpha\\([^)]*\\)/i\n\n\taddHook(OPACITY, {\n\t\tget(el, name) {\n\t\t\tconst alpha = el[FILTERS].alpha || el[FILTERS][salpha],\n\t\t\t\top = alpha && alpha.enabled ? alpha[OPACITY] : 100\n\t\t\treturn op / 100\n\t\t},\n\t\tset(el, name, value) {\n\t\t\tconst style = el.style,\n\t\t\t\topacity = isFinite(value) && value <= 1 ? `alpha(${OPACITY}=${value * 100})` : '',\n\t\t\t\tfilter = style[FILTER] || ''\n\t\t\tstyle.zoom = 1\n\t\t\tstyle[FILTER] = trim(ralpha.test(filter) ? filter.replace(ralpha, opacity) : filter + ' ' + opacity)\n\t\t\tif (!style[FILTER]) style[REMOVE_ATTRIBUTE](FILTER)\n\t\t},\n\t})\n}\n","/*\n * Dom Value opeartions\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 17:54:59\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:43:09\n */\nimport { assert } from 'devlevel'\nimport createHook from './util/hook'\nimport { SELECTED } from './util/util'\nimport { create, applyNoScope, strval, isNil, isArray, isObj, makeMap } from '../helper'\n\nconst GET = 'get',\n\tSET = 'set'\n\nexport default {\n\tvalue(value) {\n\t\tconst el = this.el\n\t\tlet type = el.tagName\n\t\tif (type === 'INPUT') type = el.type\n\n\t\tif (arguments.length) {\n\t\t\tmemberHook(type, SET)[SET](el, value, type)\n\t\t\treturn this\n\t\t}\n\t\treturn memberHook(type, GET)[GET](el, type)\n\t},\n}\n\nexport function addDomValueHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nconst EMPTY_MAP = create(null),\n\tSELECTED_INDEX = 'selectedIndex',\n\tSELECT_ONE = 'select-one',\n\tOPTIONS = 'options'\n\nconst { memberHook, addHook } = createHook(\n\t{\n\t\tget(el) {\n\t\t\treturn el.value || ''\n\t\t},\n\t\tset(el, value) {\n\t\t\tel.value = strval(value)\n\t\t},\n\t},\n\t{\n\t\toption: {\n\t\t\tget(el) {\n\t\t\t\treturn getOptionValue(el)\n\t\t\t},\n\t\t},\n\t\tselect: {\n\t\t\tget(el) {\n\t\t\t\tconst signle = el.type == SELECT_ONE,\n\t\t\t\t\tindex = el[SELECTED_INDEX]\n\n\t\t\t\tif (index < 0) return signle ? undefined : []\n\n\t\t\t\tconst options = el[OPTIONS],\n\t\t\t\t\tl = options.length\n\n\t\t\t\tlet option,\n\t\t\t\t\ti = 0\n\n\t\t\t\tif (!signle) {\n\t\t\t\t\tconst values = []\n\t\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\t\toption = options[i]\n\t\t\t\t\t\tif (option[SELECTED] || i === index) values.push(getOptionValue(option))\n\t\t\t\t\t}\n\t\t\t\t\treturn values\n\t\t\t\t}\n\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\toption = options[i]\n\t\t\t\t\tif (option[SELECTED] || i === index) return getOptionValue(option)\n\t\t\t\t}\n\t\t\t},\n\t\t\tset(el, value) {\n\t\t\t\tconst signle = el.type == SELECT_ONE,\n\t\t\t\t\toptions = el[OPTIONS],\n\t\t\t\t\tl = options.length\n\n\t\t\t\tlet option,\n\t\t\t\t\tvl,\n\t\t\t\t\tval,\n\t\t\t\t\ti = 0\n\n\t\t\t\tif (signle) {\n\t\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\t\toption = options[i]\n\t\t\t\t\t\tif (getOptionValue(option) === value) {\n\t\t\t\t\t\t\toption[SELECTED] = true\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tel[SELECTED_INDEX] = -1\n\t\t\t\t\tlet map\n\t\t\t\t\tif (isNil(value)) {\n\t\t\t\t\t\tmap = EMPTY_MAP\n\t\t\t\t\t} else if (isArray(value)) {\n\t\t\t\t\t\tmap = makeMap(value)\n\t\t\t\t\t} else if (isObj(value)) {\n\t\t\t\t\t\tmap = value\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmap = create(null)\n\t\t\t\t\t\tmap[value] = true\n\t\t\t\t\t}\n\t\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\t\toption = options[i]\n\t\t\t\t\t\tif (map[getOptionValue(option)] === true) option[SELECTED] = true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t}\n)\n\nfunction getOptionValue(el) {\n\tconst val = el.attributes.value\n\treturn !val || val.specified ? el.value : el.text\n}\n","import { assert } from 'devlevel'\nimport { W3C, IE9 } from './util'\nimport {\n\tROOTELEMENT,\n\tDOCUMENT_ELEMENT,\n\tOWNER_DOCUMENT,\n\tCREATE_ELEMENT,\n\tADD_EVENT_LISTENER,\n\tATTACH_EVENT,\n\tPARENT_NODE,\n\tCURRENT_TARGET,\n\tPREVENT_DEFAULT,\n\tSTOP_PROPAGATION,\n\tSTOP_IMMEDIATE_PROPAGATION,\n\tSCROLL_LEFT,\n\tSCROLL_TOP,\n\tCLIENT_TOP,\n\tCLIENT_LEFT,\n\tCLIENTX,\n\tCLIENTY,\n\tPAGEX,\n\tPAGEY,\n\tDISABLED,\n} from './util/util'\nimport createHook from './util/hook'\nimport { inherit, create, applyScope, applyNoScope, hasOwnProp, isFn, isStr, makeMap } from '../helper'\nimport { FnList } from '../common'\nimport { DEFAULT_FN_BINDING } from '../common/FnList'\n\nconst TYPE = 'type'\nconst { getHook, hookRevice, addHook } = createHook(null, null, TYPE, TYPE)\n\n// ========================= Mixin =================================\nconst DOM_ELEMENT = '__element__'\n\nconst MIXIN_EVENTS = '__domEvents',\n\tMIXIN_ADD_LISTEN = '__addDomListen',\n\tMIXIN_DEL_LISTEN = '__delDomListen',\n\tMIXIN_EMIT_LISTEN = '__emitDomEvent'\n\nconst EventMixin = {\n\tinitDomEvent() {\n\t\tthis.el[DOM_ELEMENT] = this\n\t\tthis[MIXIN_EVENTS] = create(null)\n\t},\n\ton(type, fn, scope) {\n\t\tassert.fn(fn, 'Invalid Event Listener')\n\n\t\tif (this[MIXIN_ADD_LISTEN](type, fn, scope) === 1) {\n\t\t\tconst el = this.el,\n\t\t\t\thook = getHook(type)\n\t\t\tif (hook) {\n\t\t\t\tif (hook.type) type = hook.type\n\t\t\t\tif (hook.bind && hook.bind(el, type) === false) return\n\t\t\t}\n\t\t\tbindDispatcher(el, type)\n\t\t}\n\t},\n\tun(type, fn, scope) {\n\t\tassert.fn(fn, 'Invalid Event Listener')\n\n\t\tif (this[MIXIN_DEL_LISTEN](type, fn, scope) === 0) {\n\t\t\tconst el = this.el,\n\t\t\t\thook = getHook(type)\n\t\t\tif (hook) {\n\t\t\t\tif (hook.type) type = hook.type\n\t\t\t\tif (hook.unbind && hook.unbind(el, type) === false) return\n\t\t\t}\n\t\t\tunbindDispatcher(el, type)\n\t\t}\n\t},\n\tonce(type, fn, scope) {\n\t\tassert.fn(fn, 'Invalid Event Listener')\n\n\t\tconst el = this.el,\n\t\t\tbinding = fn[DEFAULT_FN_BINDING],\n\t\t\tself = this\n\n\t\tif (binding) proxy[DEFAULT_FN_BINDING] = binding\n\n\t\tthis.on(type, proxy, scope)\n\n\t\tif (!binding) fn[DEFAULT_FN_BINDING] = cb[DEFAULT_FN_BINDING]\n\n\t\tfunction proxy() {\n\t\t\tapplyScope(fn, this, arguments)\n\t\t\tself.un(type, proxy, scope)\n\t\t}\n\t},\n}\n\nEventMixin[MIXIN_ADD_LISTEN] = function(type, fn, scope) {\n\tconst events = this[MIXIN_EVENTS],\n\t\tlistens = events[type] || (events[type] = new FnList())\n\treturn listens.add(fn, scope)\n}\n\nEventMixin[MIXIN_DEL_LISTEN] = function(type, fn, scope) {\n\tconst events = this[MIXIN_EVENTS],\n\t\tlistens = events[type]\n\treturn listens && listens.remove(fn, scope)\n}\n\nEventMixin[MIXIN_EMIT_LISTEN] = function(type, event) {\n\tconst events = this[MIXIN_EVENTS],\n\t\tlistens = events[type]\n\tif (listens && listens.size()) {\n\t\tif (!event.$hookEvent) {\n\t\t\tevent = packEvent(type, event)\n\t\t\tconst target = event.target\n\t\t\tevent.targetEl = target\n\t\t\tevent.target = target[DOM_ELEMENT]\n\t\t}\n\t\tevent.current = this\n\t\tevent[IS_IMMEDIATE_PROPAGATION_STOPPED] = false\n\t\tlistens.each((fn, scope) => {\n\t\t\treturn fn.call(scope || this, event, this) !== false && !event[IS_IMMEDIATE_PROPAGATION_STOPPED]\n\t\t})\n\t}\n\treturn event\n}\n\nexport default EventMixin\n\nexport function addDomEventHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nconst ORIGINAL_EVENT = 'originalEvent',\n\tRETURN_VALUE = 'returnValue',\n\tGET_PREVENT_DEFAULT = 'getPreventDefault',\n\tTIME_STAMP = 'timeStamp',\n\tORIGINAL_PROPS = 'originalProps',\n\tIS_IMMEDIATE_PROPAGATION_STOPPED = 'isImmediatePropagationStopped',\n\tCANCEL_BUBBLE = 'cancelBubble'\n\n// ========================= event tool =================================\nconst addEventListener = W3C\n\t\t? function(el, type, fn) {\n\t\t\t\tel[ADD_EVENT_LISTENER](type, fn, type !== 'focus' && type !== 'blur')\n\t\t  }\n\t\t: function(el, type, fn) {\n\t\t\t\tel[ATTACH_EVENT]('on' + type, fn)\n\t\t  },\n\tremoveEventListener = W3C\n\t\t? function(el, type, fn) {\n\t\t\t\tel.removeEventListener(type, fn)\n\t\t  }\n\t\t: function(el, type, fn) {\n\t\t\t\tel.detachEvent('on' + type, fn)\n\t\t  }\n\n// ========================= bind event dispatcher =================================\n\nconst bubbleUpEvents = makeMap(\n\t'click,dblclick,keydown,keypress,keyup,mousedown,mousemove,mouseup,mouseover,' +\n\t\t'mouseout,wheel,mousewheel,input,beforeinput,compositionstart,compositionupdate,' +\n\t\t'compositionend,cut,copy,paste,beforecut,beforecopy,beforepaste,focusin,focusout,' +\n\t\t'DOMFocusIn,DOMFocusOut,DOMActivate,dragend,datasetchanged'\n)\n\nif (W3C) bubbleUpEvents.change = bubbleUpEvents.select = true\n\nfunction listenEl(el) {\n\treturn bubbleUpEvents[el.type] ? ROOTELEMENT : el\n}\n\nconst DOM_DISPATCH_EVENTS = '__dispatch_events__'\n\nfunction bindDispatcher(el, type) {\n\tel = listenEl(el)\n\tconst events = el[DOM_DISPATCH_EVENTS] || (el[DOM_DISPATCH_EVENTS] = create(null)),\n\t\tnum = events[type] || 0\n\tif (!num) addEventListener(el, type, dispatch)\n\tevents[type] = num + 1\n}\n\nfunction unbindDispatcher(el, type) {\n\tel = listenEl(el)\n\tconst events = el[DOM_DISPATCH_EVENTS],\n\t\tnum = events && events[type]\n\tif (num) {\n\t\tif (num === 1) removeEventListener(el, type, dispatch)\n\t\tevents[type] = num - 1\n\t}\n}\n\n// ========================= hook =================================\nconst keyEventReg = /^key/,\n\tCHARCODE = 'charCode',\n\tKEYCODE = 'keyCode',\n\tWHICH = 'which',\n\tkeyEventProps = ['char', 'key', CHARCODE, KEYCODE],\n\tkeyEventHook = {\n\t\tfix(event, original) {\n\t\t\tevent[ORIGINAL_PROPS](keyEventProps)\n\t\t\tif (!event[WHICH]) event[WHICH] = original[CHARCODE] != null ? original[CHARCODE] : original[KEYCODE]\n\t\t},\n\t},\n\tmouseEventReg = /^(?:mouse|contextmenu|drag)|click/,\n\tBUTTON = 'button',\n\tmouseEventProps = [BUTTON, BUTTON + 's', CLIENTX, CLIENTY, 'offsetX', 'offsetY', PAGEX, PAGEY, 'screenX', 'screenY', 'toElement'],\n\tmouseEventHook = {\n\t\tfix(event, original) {\n\t\t\tconst button = original[BUTTON]\n\t\t\tevent[ORIGINAL_PROPS](mouseEventProps)\n\t\t\tif (!event[PAGEX] && original[CLIENTX]) {\n\t\t\t\tvar eventDoc = event.target[OWNER_DOCUMENT] || document,\n\t\t\t\t\tdoc = eventDoc[DOCUMENT_ELEMENT],\n\t\t\t\t\tbody = eventDoc.body\n\t\t\t\tevent[PAGEX] = original[CLIENTX] + ((doc && doc[SCROLL_LEFT]) || (body && body[SCROLL_LEFT]) || 0) - ((doc && doc[CLIENT_LEFT]) || (body && body[CLIENT_LEFT]) || 0)\n\t\t\t\tevent[PAGEY] = original[CLIENTY] + ((doc && doc[SCROLL_TOP]) || (body && body[SCROLL_TOP]) || 0) - ((doc && doc[CLIENT_TOP]) || (body && body[CLIENT_TOP]) || 0)\n\t\t\t}\n\t\t\tif (!event[WHICH] && button !== undefined) event[WHICH] = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0\n\t\t},\n\t}\n\nlet last = 0\nconst moveEventReg = /move|scroll/\n\nfunction dispatch(event) {\n\tlet type = event.type,\n\t\ttarget = eventTarget(event)\n\n\ttype = hookRevice(type) || type\n\tif (moveEventReg.test(type)) {\n\t\tvar now = new Date()\n\t\tif (now - last < 16) return\n\t\tlast = now\n\t}\n\tlet elem\n\tif (target[DISABLED] !== true || type !== 'click') {\n\t\tif (bubbleUpEvents[type]) {\n\t\t\tdo {\n\t\t\t\tif ((elem = target[DOM_ELEMENT])) event = elem[MIXIN_EMIT_LISTEN](type, event)\n\t\t\t\ttarget = target[PARENT_NODE]\n\t\t\t} while (target && !event[CANCEL_BUBBLE])\n\t\t} else {\n\t\t\telem = target[DOM_ELEMENT]\n\t\t\tif (elem) elem[MIXIN_EMIT_LISTEN](type, event)\n\t\t}\n\t}\n}\n\nfunction packEvent(type, originalEvent) {\n\tconst event = new Event(originalEvent, type)\n\tlet hook = getHook(type)\n\tif (!hook) {\n\t\tif (mouseEventReg.test(type)) {\n\t\t\thook = mouseEventHook\n\t\t} else if (keyEventReg.test(type)) {\n\t\t\thook = keyEventHook\n\t\t} else {\n\t\t\thook = {}\n\t\t}\n\t\thook = addHook(type, hook)\n\t}\n\thook.fix && hook.fix(event, originalEvent)\n\treturn event\n}\n\n// ========================= Event =================================\nfunction eventTarget(event) {\n\tconst target = event.target || event.srcElement || document\n\treturn target.nodeType == 3 ? target[PARENT_NODE] : target\n}\n\nconst eventProps = 'altKey,bubbles,cancelable,ctrlKey,eventPhase,metaKey,shiftKey,view'.split(',').concat(RELATED_TARGET, PROPERTY_NAME, WHICH, CURRENT_TARGET)\n\nfunction Event(event, type) {\n\tthis.type = type || event.type\n\tthis[ORIGINAL_EVENT] = event\n\tthis.target = eventTarget(event)\n\tthis[RETURN_VALUE] = !(event.defaultPrevented || event[RETURN_VALUE] === false || (event[GET_PREVENT_DEFAULT] && event[GET_PREVENT_DEFAULT]()))\n\tthis[TIME_STAMP] = event[TIME_STAMP] || new Date().getTime()\n\tthis[ORIGINAL_PROPS](eventProps)\n}\n\nconst EventProto = Event.prototype\nEventProto.$hookEvent = true\nEventProto[ORIGINAL_PROPS] = function(props) {\n\tconst e = this[ORIGINAL_EVENT]\n\tfor (var i = 0, l = props.length; i < l; i++) {\n\t\tthis[props[i]] = e[props[i]]\n\t}\n}\n\nEventProto[PREVENT_DEFAULT] = function() {\n\tconst e = this[ORIGINAL_EVENT]\n\tthis[RETURN_VALUE] = false\n\te[RETURN_VALUE] = false\n\te[PREVENT_DEFAULT] && e[PREVENT_DEFAULT]()\n}\n\nEventProto[STOP_PROPAGATION] = function() {\n\tconst e = this[ORIGINAL_EVENT]\n\tthis[CANCEL_BUBBLE] = true\n\te[CANCEL_BUBBLE] = true\n\te[STOP_PROPAGATION] && e[STOP_PROPAGATION]()\n}\n\nEventProto[STOP_IMMEDIATE_PROPAGATION] = function() {\n\tconst e = this[ORIGINAL_EVENT]\n\tthis[IS_IMMEDIATE_PROPAGATION_STOPPED] = true\n\te[STOP_IMMEDIATE_PROPAGATION] && e[STOP_IMMEDIATE_PROPAGATION]()\n\tthis[STOP_PROPAGATION]()\n}\n\n// ========================= hooks =================================\n\nconst PROPERTY_NAME = 'propertyName',\n\tRELATED_TARGET = 'relatedTarget'\n\n// firefox, chrome: mouseenter and mouseleave\nif (ROOTELEMENT.onmouseenter === undefined) {\n\tfunction fix(event) {\n\t\tlet el = event.target,\n\t\t\tt = event[RELATED_TARGET]\n\t\treturn !t || (t !== el && !(el.compareDocumentPosition(t) & 16))\n\t}\n\taddHook({\n\t\tmouseover: {\n\t\t\ttype: 'mouseenter',\n\t\t\tfix,\n\t\t},\n\t\tmouseout: {\n\t\t\ttype: 'mouseleave',\n\t\t\tfix,\n\t\t},\n\t})\n}\n\n// IE9+, W3C: animationend\nif (window.AnimationEvent) {\n\taddHook('animationend', 'AnimationEvent')\n} else if (window.WebKitAnimationEvent) {\n\taddHook('animationend', 'WebKitAnimationEvent')\n}\n\n// IE6-11, chrome: mousewheel, wheelDetla\n// IE9-11: wheel deltaY\n// firefox: DOMMouseScroll detail, wheel detlaY\n// chrome: wheel deltaY\nif (document.onmousewheel === undefined) {\n\tconst fixWheelType = document.onwheel ? 'wheel' : 'DOMMouseScroll',\n\t\tfixWheelDelta = fixWheelType === 'wheel' ? 'deltaY' : 'detail',\n\t\tWHEEL_DELTA = 'wheelDelta',\n\t\tWHEEL_DELTAY = WHEEL_DELTA + 'Y'\n\taddHook('mousewheel', {\n\t\ttype: fixWheelType,\n\t\tfix(event) {\n\t\t\tevent[WHEEL_DELTAY] = event[WHEEL_DELTA] = event[fixWheelDelta] > 0 ? -120 : 120\n\t\t\tevent[WHEEL_DELTAY] = 0\n\t\t},\n\t})\n}\n\nconst INPUT = 'input'\n\n// IE6-9: input\n// IE6-8: change\nif (document[CREATE_ELEMENT](INPUT).oninput === undefined) {\n\t// IE6-IE8: input, change\n\tdelete bubbleUpEvents[INPUT]\n\taddHook(INPUT, {\n\t\ttype: 'propertychange',\n\t\tfix(event) {\n\t\t\treturn event[PROPERTY_NAME] === 'value'\n\t\t},\n\t})\n\tlet changeEventNum = 0\n\tconst DOM_CHANGE_EVENT = '__change_event'\n\taddHook('change', {\n\t\tbind(el) {\n\t\t\tif (el.type == 'checkbox' || el.type == 'radio') {\n\t\t\t\tif (changeEventNum++ === 0) addEventListener(ROOTELEMENT, 'click', changeEventDispath)\n\t\t\t\tel[DOM_CHANGE_EVENT] = true\n\t\t\t\treturn false\n\t\t\t}\n\t\t},\n\t\tunbind(el) {\n\t\t\tif (el.type == 'checkbox' || el.type == 'radio') {\n\t\t\t\tif (--changeEventNum === 0) removeEventListener(ROOTELEMENT, 'click', changeEventDispath)\n\t\t\t\tel[DOM_CHANGE_EVENT] = false\n\t\t\t\treturn false\n\t\t\t}\n\t\t},\n\t})\n\n\tfunction changeEventDispath(event) {\n\t\tconst target = eventTarget(event)\n\t\tif (target[DOM_CHANGE_EVENT]) dispatch(packEvent('change', event))\n\t}\n} else if (IE9) {\n\t// IE9: input\n\tconst OLD_VALUE = 'oldValue'\n\taddHook(INPUT, {\n\t\tfix(event) {\n\t\t\tconst el = event.target\n\t\t\tel[OLD_VALUE] = el.value\n\t\t},\n\t})\n\n\t// http://stackoverflow.com/questions/6382389/oninput-in-ie9-doesnt-fire-when-we-hit-backspace-del-do-cut\n\taddEventListener('selectionchange', function(event) {\n\t\tvar actEl = document.activeElement\n\t\tswitch (actEl.tagName) {\n\t\t\tcase 'INPUT':\n\t\t\t\tif (actEl.type !== 'text') return\n\t\t\tcase 'TEXTAREA':\n\t\t\t\tif (actEl.value !== actEl[OLD_VALUE]) {\n\t\t\t\t\tactEl[OLD_VALUE] = actEl.value\n\t\t\t\t\tdispatch(packEvent(INPUT, event))\n\t\t\t\t}\n\t\t}\n\t})\n}\n","/*\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-25 17:47:25\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-31 18:36:56\n */\nimport { assert } from 'devlevel'\nimport { VElement } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport ElementMixin from './ElementMixin'\nimport ElementAttrMixin from './ElementAttrMixin'\nimport ElementClassMixin from './ElementClassMixin'\nimport ElementStyleMixin from './ElementStyleMixin'\nimport ElementValueMixin from './ElementValueMixin'\nimport ElementEventMixin from './ElementEventMixin'\nimport { inherit } from '../helper'\n\nexport default inherit(\n\tfunction Element(comp, option) {\n\t\tVElement.call(this, comp, option)\n\t},\n\tVElement,\n\tHTMLMixin(VElement),\n\tElementMixin,\n\tElementAttrMixin,\n\tElementClassMixin,\n\tElementStyleMixin,\n\tElementValueMixin,\n\tElementEventMixin\n)\n","import { VComplexElement } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport ElementMixin from './ElementMixin'\nimport ElementAttrMixin from './ElementAttrMixin'\nimport ElementClassMixin from './ElementClassMixin'\nimport ElementStyleMixin from './ElementStyleMixin'\nimport ElementValueMixin from './ElementValueMixin'\nimport ElementEventMixin from './ElementEventMixin'\nimport { DIV, PARENT_NODE, APPEND_CHILD, REPLACE_CHILD, INNER_HTML } from './util/util'\nimport { inherit, isStr } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst { append, appendAll, prepend, insertBefore, insertAfter, replace } = VComplexElement[PROTOTYPE]\n\nconst __TEXT_CONTENT = 'textContent'\nconst TEXT_CONTENT = isStr(DIV[__TEXT_CONTENT]) ? __TEXT_CONTENT : 'innerText'\n\nexport default inherit(\n\tfunction ComplexElement(comp, option) {\n\t\tVComplexElement.call(this, comp, option)\n\t},\n\tVComplexElement,\n\tHTMLMixin(VComplexElement),\n\tElementMixin,\n\tElementAttrMixin,\n\tElementClassMixin,\n\tElementStyleMixin,\n\tElementValueMixin,\n\tElementEventMixin,\n\t{\n\t\t$htmlComplexElement: true,\n\t\t$childKey: '$htmlNode',\n\t\t$childName: 'HTML Virtual Node',\n\t\tinitChild(child) {\n\t\t\tthis.el[APPEND_CHILD](child.el)\n\t\t},\n\t\thtml(html) {\n\t\t\tconst el = this.el\n\t\t\tif (arguments.length) {\n\t\t\t\tel[INNER_HTML] = html\n\t\t\t\treturn this\n\t\t\t}\n\t\t\treturn el[INNER_HTML]\n\t\t},\n\t\ttext(text) {\n\t\t\tconst el = this.el\n\t\t\tif (arguments.length) {\n\t\t\t\tel[TEXT_CONTENT] = text\n\t\t\t\treturn this\n\t\t\t}\n\t\t\treturn el[TEXT_CONTENT]\n\t\t},\n\t\tappend(node) {\n\t\t\tappend.call(this, node)\n\t\t\tthis.el[APPEND_CHILD](node.el)\n\t\t\treturn this\n\t\t},\n\t\tprepend(node) {\n\t\t\tprepend.call(this, node)\n\t\t\tprependChild(this.el, node.el)\n\t\t\treturn this\n\t\t},\n\t\tinsertBefore(node, target) {\n\t\t\tinsertBefore.call(this, node, target)\n\t\t\tdoInsertBefore(node.el, target.el)\n\t\t\treturn this\n\t\t},\n\t\tinsertAfter(node, target) {\n\t\t\tinsertAfter.call(this, node, target)\n\t\t\tdoInsertAfter(node.el, target.el)\n\t\t\treturn this\n\t\t},\n\t\treplace(node, target) {\n\t\t\treplace.call(this, node, target)\n\t\t\ttarget.el[PARENT_NODE][REPLACE_CHILD](node.el, target.el)\n\t\t\treturn this\n\t\t},\n\t}\n)\n","import { Compontent } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport { inherit } from '../helper'\n\nexport default inherit(\n\tfunction HTMLCompontent(option) {\n\t\tCompontent.call(this, option)\n\t},\n\tCompontent,\n\t{\n\t\t$htmlComp: true,\n\t}\n)\n","import { VComment, registerVComment } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport { inherit } from '../helper'\n\nexport default registerVComment(\n\tinherit(\n\t\tfunction Comment(comment) {\n\t\t\tVComment.call(this, comment)\n\t\t\tthis.el = document.createComment(comment)\n\t\t},\n\t\tVComment,\n\t\tHTMLMixin(VComment),\n\t\t{\n\t\t\t$htmlComment: true,\n\t\t}\n\t)\n)\n","import { VText, VBindingText, registerVText, registerVBindingText } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport { inherit } from '../helper'\n\nconst TextMixin = {\n\tupdate(text) {\n\t\tthis.el.data = text\n\t},\n}\n\nexport const HTMLText = registerVText(\n\tinherit(\n\t\tfunction Text(comp, text) {\n\t\t\tVText.call(this, comp, text)\n\t\t\tthis.el = textNode(text)\n\t\t},\n\t\tVText,\n\t\tHTMLMixin(VText),\n\t\tTextMixin\n\t)\n)\n\nexport const HTMLBindingText = registerVBindingText(\n\tinherit(\n\t\tfunction BindingText(comp, expr) {\n\t\t\tVBindingText.call(this, comp, expr)\n\t\t\tthis.el = textNode('')\n\t\t},\n\t\tVBindingText,\n\t\tHTMLMixin(VBindingText),\n\t\tTextMixin\n\t)\n)\n\nfunction textNode(text) {\n\treturn document.createTextNode(text)\n}\n","/*\n *\n * Void elements:\n *      area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr\n *\n * The template elements\n *      template\n *\n * Raw text elements\n *      script, style\n *\n * escapable raw text elements\n *      textarea, title\n *\n * Normal elements\n *      All other allowed HTML elements are normal elements.\n *\n *      Main root:               html\n *      Document metadata:       link, meta, style, title\n *      Sectioning root:         body\n *      Content sectioning:      address, article, aside, footer, header, h1, h2, h3, h4, h5, h6, hgroup, nav, section\n *      Text content:            blockquote, dd, dir, div, dl, dt, figcaption, figure, hr, li, main, ol, p, pre, ul\n *      Inline text semantics:   a, abbr, b, bdi, bdo, br, cite, code, data, dfn, em, i, kbd, mark, nobr, q, rp,\n *                               rt, rtc, ruby, s, samp, small, span, strong, sub, sup, time, tt, u, var, wbr\n *      Image and multimedia:    area, audio, img, map, track, video\n *      Embedded content:        applet, embed, iframe, noembed, object, param, picture, source\n *      Scripting:               canvas, noscript, script\n *      Demarcating edits:       del, ins\n *      Table content:           caption, col, colgroup, table, tbody, td, tfoot, th, thead, tr\n *      Forms:                   button, datalist, fieldset, form, input, label, legend, meter,\n *                               optgroup, option, output, progress, select, textarea\n *      Interactive elements:    details, dialog, menu, menuitem, summary\n *      Web Components:          content, element, shadow, slot, template\n *\n *      Obsolete and deprecated elements:\n *           acronym, applet, basefont, bgsound, big, blink, center, command, content, dir, element,\n *           font, frame, frameset, image, isindex, keygen, listing, marquee, menuitem, multicol, nextid,\n *           nobr, noembed, noframes, plaintext, shadow, spacer, strike, tt, xmp\n *\n * Foreign elements\n *      Elements from the MathML namespace and the SVG namespace.\n *\n *      SVG:\n *          https://developer.mozilla.org/en-US/docs/Web/SVG/Element\n *\n *      MathML:\n *          https://developer.mozilla.org/en-US/docs/Web/MathML/Element\n *\n * links:\n *      https://www.w3.org/TR/html5/syntax.html#writing-html-documents\n *      https://developer.mozilla.org/my/docs/Web/HTML/Element\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-25 18:55:34\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-27 14:29:35\n */\nimport { registerVElement } from '../vnode'\nimport Element from './Element'\nimport ComplexElement from './ComplexElement'\nimport { inherit, createClass } from '../helper'\n\nregister(Element, 'area,br,col,embed,hr,img,input,param,source,track,wbr')\n\nregister(\n\tComplexElement,\n\t'address,article,aside,footer,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n\t\t'blockquote,dd,dir,div,dl,dt,figcaption,figure,li,main,ol,p,pre,ul,a,abbr,b,bdi,bdo,cite,code,data,dfn,em,i,kbd,' +\n\t\t'mark,nobr,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,tt,u,var,audio,map,video,applet,iframe,' +\n\t\t'noembed,object,picture,canvas,noscript,del,ins,caption,colgroup,table,tbody,td,tfoot,th,thead,tr,' +\n\t\t'button,datalist,fieldset,form,label,legend,meter,optgroup,option,output,progress,select,details,' +\n\t\t'dialog,menu,menuitem,summary,content,element,shadow,slot'\n)\n\nregister(ComplexElement, 'template')\nregister(ComplexElement, 'textarea')\nregister(ComplexElement, 'script')\nregister(ComplexElement, 'style')\nregister(ComplexElement, 'link,meta,base')\nregister(ComplexElement, 'title')\n\nfunction register(Element, tags) {\n\ttags = tags.split(',')\n\tfor (let i = 0, l = tags.length; i < l; i++) {\n\t\tregisterVElement(\n\t\t\ttags[i],\n\t\t\tcreateClass({\n\t\t\t\textend: Element,\n\t\t\t\tname: Element.name,\n\t\t\t\ttagName: tags[i],\n\t\t\t})\n\t\t)\n\t}\n}\n","/*\n * Dom Event Expression\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 16:46:41\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 17:04:17\n */\nimport { assert } from 'devlevel'\nimport { Expression } from '../../Expression'\nimport { VNodeKeyword, identityHandler } from '../../vnode/expression/identityHandler'\nimport { parsePath } from '../../common'\nimport { create, inherit, isFn } from '../../helper'\n\nexport const eventFilters = create(null)\n\nexport const EventKeyword = '$event'\n\nfunction eventIdentityHandler(prefix, identity, opt) {\n\tidentity = parsePath(identity)\n\tif (identity[0] !== EventKeyword) return doIdentityHandler(prefix, identity, opt)\n}\n\nconst paramNames = [VNodeKeyword, EventKeyword]\nexport function EventExpression(code, eventFilters, keywords) {\n\tExpression.call(this, code, paramNames, eventIdentityHandler, this.parseFilter.bind(this), keywords)\n\tthis.eventFilters = eventFilters\n}\n\nfunction doFilter(filter, args) {\n\treturn filter(args[1], args)\n}\ninherit(EventExpression, Expression, {\n\ttransformValue(scope, args) {\n\t\treturn this.transform(this.execute(scope, args), scope, args)\n\t},\n\tfilter(scope, args) {\n\t\treturn this.eachFilter(doFilter, scope, args) !== false\n\t},\n\tparseFilter(name) {\n\t\tconst localFilters = this.eventFilters\n\t\tconst filter = (localFilters && localFilters[name]) || eventFilters[name]\n\n\t\tassert(filter, `EventFilter[${name}] is undefined`)\n\n\t\tassert(isFn(filter), `Invalid EventFilter[${name}] on ${localFilters && localFilters[name] ? 'Local' : 'Global'} EventFilters`)\n\t\treturn filter\n\t},\n})\n","/*\n * Dom Event Filters\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 18:15:02\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-05 15:30:40\n */\nimport { assert } from 'devlevel'\nimport { eventFilters } from './EventExpression'\nimport { create, makeMap, applyNoScope, isStr, isArray, isInt } from '../../helper'\nimport { STOP_PROPAGATION } from '../util/util'\n\nexport const keyCodes = {\n\tesc: 27,\n\ttab: 9,\n\tenter: 13,\n\tspace: 32,\n\tdelete: [8, 46],\n\tup: 38,\n\tleft: 37,\n\tright: 39,\n\tdown: 40,\n}\n\neventFilters.key = function(e, param) {\n\tconst which = e.which,\n\t\tcodes = param.get(),\n\t\tl = codes.length\n\n\tif (!l) return true\n\n\tfor (var i = 0, code, key, j, m; i < l; i++) {\n\t\tcode = codes[i]\n\t\tif (isStr(code)) {\n\t\t\tkey = code\n\t\t\tcode = +code\n\t\t\tif (isNaN(code)) {\n\t\t\t\t// key code\n\t\t\t\tcode = keyCodes[key]\n\t\t\t\tassert(isInt(code) || isArray(code), `Invalid Key Code[${key}]`)\n\t\t\t\tif (isArray(code)) {\n\t\t\t\t\t// multi code\n\t\t\t\t\tfor (j = 0, m = code.length; j < m; j++) if (which === code[j]) return true\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (which === code) return true\n\t}\n\treturn false\n}\n\neventFilters.stop = function(e) {\n\te[STOP_PROPAGATION]()\n}\n\neventFilters.prevent = function(e) {\n\te.preventDefault()\n}\n\neventFilters.self = function(e) {\n\treturn e.target === e.currentTarget\n}\n","/*\n * Dom Expression\n *\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 18:32:15\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 18:35:02\n */\nexport * from './EventExpression'\nexport * from './eventFilters'\n","import { Directive } from '../../vnode'\nimport { isFn, inherit } from '../../helper'\nimport { EventExpression } from '../expression'\n\nexport default inherit(\n\tfunction DomDirective(node, expr, params) {\n\t\tDirective.call(this, node, params)\n\t},\n\tDirective,\n\t{\n\t\t$nodeKey: '$htmlElement',\n\t\t$nodeName: 'HTML Virtual Element',\n\t}\n)\n","import { assert } from 'devlevel'\nimport DomDirective from './DomDirective'\nimport { isFn, inherit, isNil } from '../../helper'\nimport { TransformExpression } from '../../vnode'\n\nexport default inherit(\n\tfunction ExpressionDirective(node, params) {\n\t\tDomDirective.call(this, node, params)\n\t\tthis.expr = params.expr\n\t},\n\tDomDirective,\n\t{\n\t\tprepare(params) {\n\t\t\tparams.expr = new TransformExpression(params.value)\n\t\t},\n\t\trealValue() {\n\t\t\treturn this.expr.value(this.comp, [this.node])\n\t\t},\n\t\tvalue() {\n\t\t\treturn this.expr.transformValue(this.comp, [this.node])\n\t\t},\n\t\ttransform(value) {\n\t\t\treturn this.expr.transform(value, this.comp, [this.node])\n\t\t},\n\t\tblankValue(value) {\n\t\t\tif (!arguments.length) value = this.value()\n\t\t\treturn isNil(value) ? '' : value\n\t\t},\n\t\tobserveHandler(path, value) {\n\t\t\tthis.update(this.expr.simple ? this.transform(value) : this.value())\n\t\t},\n\t\tbind() {\n\t\t\tthis.observeExpr(this.expr, this.observeHandler, this)\n\t\t\tthis.update(this.value())\n\t\t},\n\t\tunbind() {\n\t\t\tthis.unobserveExpr(this.expr, this.observeHandler, this)\n\t\t},\n\t\tupdate(value) {\n\t\t\tthrow new Error(`abstract method`)\n\t\t},\n\t}\n)\n","import { assert } from 'devlevel'\nimport DomDirective from './DomDirective'\nimport { isFn, inherit } from '../../helper'\nimport { EventExpression } from '../expression'\nimport { STOP_PROPAGATION } from '../util/util'\n\nexport default inherit(\n\tfunction EventDirective(node, expr, params) {\n\t\tDomDirective.call(this, node, params)\n\t\tthis.expr = params.expr\n\t},\n\tDomDirective,\n\t{\n\t\tprepare(params) {\n\t\t\tparams.expr = new EventExpression(params.value)\n\t\t},\n\t\thandler(e) {\n\t\t\tconst expr = this.expr,\n\t\t\t\tcomp = this.comp,\n\t\t\t\tnode = this.node,\n\t\t\t\targs = [node, e]\n\n\t\t\te[STOP_PROPAGATION]()\n\n\t\t\tif (expr.filter(comp, args)) {\n\t\t\t\tconst ret = expr.value(comp, args)\n\t\t\t\tif (isFn(ret)) {\n\t\t\t\t\tret.call(comp, e, node)\n\t\t\t\t} else {\n\t\t\t\t\tassert(!expr.sample, `Invalid Event Handler: ${this.params.value}`)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tbind() {\n\t\t\tconst node = this.node,\n\t\t\t\thandler = this.handler,\n\t\t\t\ttype = this.eventType\n\t\t\tif (type.push) {\n\t\t\t\tfor (var i = 0; i < type.length; i++) node.on(type[i], handler, this)\n\t\t\t} else {\n\t\t\t\tnode.on(type, handler, this)\n\t\t\t}\n\t\t},\n\t\tunbind() {\n\t\t\tconst node = this.node,\n\t\t\t\thandler = this.handler,\n\t\t\t\ttype = this.eventType\n\t\t\tif (type.push) {\n\t\t\t\tfor (var i = 0; i < type.length; i++) node.un(type[i], handler, this)\n\t\t\t} else {\n\t\t\t\tnode.un(type, handler, this)\n\t\t\t}\n\t\t},\n\t}\n)\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 19:54:12\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-27 15:26:30\n */\nimport EventDirective from './EventDirective'\nimport { registerDirective } from '../../vnode'\nimport { array2obj, map, upperFirst, isStr } from '../../helper'\n\nexport default array2obj(\n\tmap(\n\t\t[\n\t\t\t'blur',\n\t\t\t'change',\n\t\t\t'click',\n\t\t\t'dblclick',\n\t\t\t'error',\n\t\t\t'focus',\n\t\t\t'keydown',\n\t\t\t'keypress',\n\t\t\t'keyup',\n\t\t\t'load',\n\t\t\t'mousedown',\n\t\t\t'mousemove',\n\t\t\t'mouseout',\n\t\t\t'mouseover',\n\t\t\t'mouseup',\n\t\t\t'resize',\n\t\t\t'scroll',\n\t\t\t'select',\n\t\t\t'submit',\n\t\t\t'unload',\n\t\t\t{\n\t\t\t\teventName: 'input',\n\t\t\t\teventType: ['input', 'propertychange'],\n\t\t\t},\n\t\t],\n\t\tevent => {\n\t\t\tif (isStr(event)) event = { eventName: event, eventType: event }\n\t\t\tevent.extend = EventDirective\n\t\t\tevent.name = upperFirst(event.eventName) + 'EventDirective'\n\t\t\treturn registerDirective('on' + event.eventName, event)\n\t\t}\n\t),\n\tdirective => directive.name\n)\n","/*\n * @author tao.zeng (tao.zeng.zt@gmail.com)\n * @created 2018-08-20 19:53:22\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-05 15:29:52\n */\nimport { assert } from 'devlevel'\nimport ExpressionDirective from './ExpressionDirective'\nimport { registerDirective } from '../../vnode'\nimport { isStr, upperFirst, isObj, assignBy, create, isArray, eachObj, isArrayLike } from '../../helper'\nimport { PROTOTYPE } from '../../helper/constants'\nimport { STOP_PROPAGATION } from '../util/util'\n\nconst DISPLAY = 'display',\n\tNONE = 'none'\neachObj(\n\t{\n\t\t// ================ text =================\n\t\ttext: {\n\t\t\tupdate(value) {\n\t\t\t\tthis.node.text(this.blankValue(value))\n\t\t\t},\n\t\t},\n\t\t// ================ html =================\n\t\thtml: {\n\t\t\tupdate(value) {\n\t\t\t\tthis.node.html(this.blankValue(value))\n\t\t\t},\n\t\t},\n\t\t// ================ show =================\n\t\tshow: {\n\t\t\tupdate(value) {\n\t\t\t\tthis.node.css(DISPLAY, value ? '' : NONE)\n\t\t\t},\n\t\t},\n\t\t// ================ hide =================\n\t\thide: {\n\t\t\tupdate(value) {\n\t\t\t\tthis.node.css(DISPLAY, value ? NONE : '')\n\t\t\t},\n\t\t},\n\t\t// ================ focus =================\n\t\tfocus: {\n\t\t\tupdate(value) {\n\t\t\t\tif (value) this.node.focus()\n\t\t\t},\n\t\t},\n\t\t// ================ value (input/textarea/select/option) =================\n\t\tvalue: {\n\t\t\tupdate(value) {\n\t\t\t\tthis.node.value(this.blankValue(value))\n\t\t\t},\n\t\t},\n\t\t// ================ checked (radio/checkbox) =================\n\t\tchecked: {\n\t\t\tupdate(value) {\n\t\t\t\tconst node = this.node\n\t\t\t\tnode.checked(boolVal(node.value(), value))\n\t\t\t},\n\t\t},\n\t\t// ================ selected (option) =================\n\t\tselected: {\n\t\t\tupdate(value) {\n\t\t\t\tconst node = this.node\n\t\t\t\tnode.selected(boolVal(node.value(), value))\n\t\t\t},\n\t\t},\n\t\t// ================ class =================\n\t\tclass: {\n\t\t\tupdate(value) {\n\t\t\t\tif (isStr(value)) value = trim(value).split(/\\s+/g)\n\n\t\t\t\tconst cache = create(null),\n\t\t\t\t\toldCache = this.cache\n\t\t\t\tif (oldCache) {\n\t\t\t\t\tfor (var k in oldCache) if (oldCache[k] === true) cache[k] = false\n\t\t\t\t}\n\t\t\t\tif (isArrayLike(value)) {\n\t\t\t\t\tvar i = value.length\n\t\t\t\t\twhile (i--) cache[value[i]] = true\n\t\t\t\t} else if (value) {\n\t\t\t\t\tfor (var k in value) if (value[k] === true) cache[k] = true\n\t\t\t\t}\n\t\t\t\tthis.cache = cache\n\t\t\t\tthis.node.margeClass(cache)\n\t\t\t},\n\t\t},\n\t\t// =================== style =======================\n\t\tstyle: {\n\t\t\tupdate(value) {\n\t\t\t\tlet ncsses\n\t\t\t\tif (typeof value === 'string' && (value = trim(value))) {\n\t\t\t\t\tvar split = value.split(styleSplitReg)\n\t\t\t\t\tncsses = {}\n\t\t\t\t\tfor (var i = 0, l = split.length, s; i < l; i++) {\n\t\t\t\t\t\ts = split[i].split(cssSplitReg)\n\t\t\t\t\t\tncsses[s[0]] = s[1]\n\t\t\t\t\t}\n\t\t\t\t} else if (isObj(value)) {\n\t\t\t\t\tncsses = value\n\t\t\t\t}\n\t\t\t\tlet csses = this.csses\n\t\t\t\tif (csses) {\n\t\t\t\t\tif (ncsses) {\n\t\t\t\t\t\tfor (var name in csses) if (!ncsses[name]) css(el, name, '')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (var name in csses) css(el, name, '')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.csses = ncsses\n\t\t\t\tif (ncsses) {\n\t\t\t\t\tfor (var name in ncsses) css(el, name, ncsses[name])\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\t(directive, name) => {\n\t\t__register(name, directive)\n\t}\n)\n\nfunction __register(name, directive) {\n\tdirective.extend = ExpressionDirective\n\tdirective.name = upperFirst(name) + 'Directive'\n\tregisterDirective(name, directive)\n}\n\n// ================================= input =======================\nconst EVENT_CHANGE = 'change',\n\tEVENT_INPUT = 'input',\n\tEVENT_CLICK = 'click',\n\tSELECT = 'select',\n\tOPTION = 'option',\n\tTEXTAREA = 'textarea',\n\tINPUT = 'input',\n\tINPUT_RADIO = 'radio',\n\tINPUT_CHECKBOX = 'checkbox'\n\nconst { prepare, bind, unbind } = ExpressionDirective[PROTOTYPE]\n\n__register('input', {\n\tprepare(params, D) {\n\t\tprepare.call(this, params, D)\n\t\tparams.expr.checkRestore()\n\t},\n\tconstructor(node, params) {\n\t\tExpressionDirective.call(this, node, params)\n\n\t\tassert(this.expr.simple, `Invalid Expression[${params.value}] on directive[input]`)\n\n\t\tlet type = node.tagName,\n\t\t\tevent = EVENT_CHANGE,\n\t\t\tdomValue = this.elemValue\n\t\tswitch (type) {\n\t\t\tcase INPUT:\n\t\t\t\tswitch (node.el.type) {\n\t\t\t\t\tcase INPUT_RADIO:\n\t\t\t\t\tcase INPUT_CHECKBOX:\n\t\t\t\t\t\ttype = itype\n\t\t\t\t\t\tdomValue = this.checkedValue\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tevent = EVENT_INPUT\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase TEXTAREA:\n\t\t\t\tevent = EVENT_INPUT\n\t\t\t\tbreak\n\t\t\tcase SELECT:\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow new TypeError(`<${type}> not support Directive[input], should be <input | textarea | select>`)\n\t\t}\n\t\tthis.type = type\n\t\tthis.event = event\n\t\tthis.domValue = domValue\n\t},\n\tupdate(value) {\n\t\tthis.node.value(this.blankValue(value))\n\t},\n\telemValue(value) {\n\t\tconst node = this.node\n\t\tif (arguments.length === 0) return node.value()\n\t\tnode.value(value)\n\t},\n\tcheckedValue(value) {\n\t\tconst node = this.node\n\t\tif (arguments.length === 0) return node.checked() ? node.value() : undefined\n\t\tnode.checked(value == node.value())\n\t},\n\tonChange(e) {\n\t\tconst expr = this.expr\n\t\tthis.comp.set(expr.simple, expr.restore(this.domValue(), this.comp, [this.node]))\n\t\te[STOP_PROPAGATION]()\n\t},\n\tbind() {\n\t\tbind.call(this)\n\t\tthis.node.on(this.event, this.onChange, this)\n\t},\n\tunbind() {\n\t\tthis.node.un(this.event, this.onChange, this)\n\t\tunbind.call(this)\n\t},\n})\n\nfunction boolVal(elValue, value) {\n\tif (isArray(value)) {\n\t\tvar i = value.length\n\t\twhile (i--) if (value[i] === elValue) return true\n\t\treturn false\n\t} else if (isStr(value)) {\n\t\treturn value === elValue\n\t} else if (isObj(value)) {\n\t\treturn !!value[elValue]\n\t}\n\treturn !!value\n}\n","import { assert } from 'devlevel'\nimport { match, and, or, any, option, many, anyOne, UNATTACH, UNCAPTURABLE } from '../common/ASTBuilder'\nimport { makeMap, reEscape } from '../helper'\nimport { escapeString } from '../common/format'\n\nconst EXPR_START = '{',\n\tEXPR_END = '}'\n\nconst AutoCloseElems = makeMap('input'),\n\tContentElems = makeMap('textarea')\n\nconst EXPR_START_LEN = EXPR_START.length,\n\tEXPR_END_LEN = EXPR_END.length\n\nconst EXPR_KEY_WORDS = `\"'\\`[{`\n\nconst EXPR_KEYS = match(EXPR_KEY_WORDS.split(''), UNATTACH),\n\tEXPR_STR = match(/\"(?:[^\\\\\"\\n]|\\\\.)*\"|'(?:[^\\\\'\\n]|\\\\.)*'|`(?:[^\\\\`]|\\\\.)*`/, false, `'\"\\``, UNATTACH),\n\tExprObject = and(\n\t\t'ExprObject',\n\t\t() => [\n\t\t\t'{',\n\t\t\tanyOne(\n\t\t\t\t'ObjBody',\n\t\t\t\t[\n\t\t\t\t\tEXPR_STR, // match by \"'`\n\t\t\t\t\tExprObject, // match by {\n\t\t\t\t\tExprArray, // match by ]\n\t\t\t\t\tEXPR_KEYS, // consume start char when EXPR_STR | ExprObject | ExprArray match failed\n\t\t\t\t\tnew RegExp(`[^${reEscape(EXPR_KEY_WORDS + '}')}]+`), // consume chars which before start codes of EXPR_STR | ExprObject | ExprArray and \"}\"\n\t\t\t\t],\n\t\t\t\tUNATTACH\n\t\t\t),\n\t\t\t'}',\n\t\t],\n\t\tUNATTACH\n\t),\n\tExprArray = and('ExprArray', () => ['[', anyOne('ArrayBody', [EXPR_STR, ExprObject, ExprArray, EXPR_KEYS, new RegExp(`[^${reEscape(EXPR_KEY_WORDS + ']')}]+`)], UNATTACH), ']']),\n\tExpr = and(\n\t\t'Expr',\n\t\t[\n\t\t\t['ExprStart', EXPR_START, attachOffset],\n\t\t\tanyOne(\n\t\t\t\t'ExprBody',\n\t\t\t\t[EXPR_STR, ExprObject, ExprArray, match((EXPR_KEY_WORDS + EXPR_START[0]).split(''), UNATTACH), new RegExp(`[^${reEscape(EXPR_KEY_WORDS + EXPR_START[0] + EXPR_END[0])}]+`)],\n\t\t\t\tUNATTACH\n\t\t\t),\n\t\t\t['ExprEnd', EXPR_END, attachOffset],\n\t\t],\n\t\t(d, rs, stream) => {\n\t\t\tconst content_start = d[0],\n\t\t\t\texpr_end = d[1]\n\t\t\trs.add([stream.orgbuff.substring(content_start, expr_end - EXPR_END_LEN), content_start - EXPR_START_LEN, expr_end])\n\t\t}\n\t)\n\nfunction createStringRule(name, mask, mline) {\n\treturn and(\n\t\tname,\n\t\t[\n\t\t\tmatch(mask, attachOffset),\n\t\t\tanyOne([\n\t\t\t\tExpr,\n\t\t\t\tEXPR_START[0], // consume expr start char when parse expr failed\n\t\t\t\tnew RegExp(`(?:[^\\\\\\\\${mline ? '' : '\\\\n'}${mask}${reEscape(EXPR_START[0])}]|\\\\\\\\.)+`), // string fragment\n\t\t\t]),\n\t\t\tmatch(mask, attachOffset),\n\t\t],\n\t\t(d, rs, stream) => {\n\t\t\tconst buff = stream.orgbuff\n\t\t\tlet start = d[0],\n\t\t\t\tend = d[2] - 1,\n\t\t\t\texprs = d[1]\n\t\t\tif (exprs.length) {\n\t\t\t\tconst offset = start - 1\n\t\t\t\tvar i = 0,\n\t\t\t\t\tl = exprs.length,\n\t\t\t\t\testart\n\t\t\t\tconst expr = []\n\n\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\testart = exprs[i][1]\n\t\t\t\t\tif (start < estart) expr.push(exprStr(buff, start, estart))\n\t\t\t\t\texpr.push(`(${exprs[i][0]})`)\n\t\t\t\t\tstart = exprs[i][2]\n\t\t\t\t}\n\t\t\t\tif (start < end) expr.push(exprStr(buff, start, end))\n\n\t\t\t\trs.add(['expr', expr.join(' + '), offset, end + 1])\n\t\t\t} else {\n\t\t\t\trs.add(['string', buff.substring(start, end)])\n\t\t\t}\n\t\t}\n\t)\n\n\tfunction exprStr(buff, start, end) {\n\t\treturn `\"${escapeString(buff.substring(start, end))}\"`\n\t}\n}\n\nconst ATTR_NAME = match('AttrName', /([@:$_a-zA-Z][\\w-\\.]*)\\s*/, 1),\n\tAttrValue = or(\n\t\t'AttrValue',\n\t\t[\n\t\t\tcreateStringRule('SQString', \"'\"),\n\t\t\tcreateStringRule('DQString', '\"'),\n\t\t\tcreateStringRule('MString', '`', true),\n\t\t\tand(Expr, attachValue('expr', expr => expr[0][0])),\n\t\t\tmatch('Number', /-?(0|[1-9]\\d*)(\\.\\d+)?([eE][+-]?\\d+)?/, '-0123456789', attachValue('number', num => +num)),\n\t\t\tmatch('NaN', attachStaticValue('number', NaN)),\n\t\t\tmatch('undefined', attachStaticValue('undefined', undefined)),\n\t\t\tmatch('null', attachStaticValue('null', undefined)),\n\t\t\tmatch('true', attachStaticValue('boolean', true)),\n\t\t\tmatch('false', attachStaticValue('boolean', false)),\n\t\t],\n\t\t{\n\t\t\tcapturable: false,\n\t\t\tattach(val, rs) {\n\t\t\t\trs.add(val[0])\n\t\t\t},\n\t\t}\n\t),\n\tAttrs = any('Attrs', [ATTR_NAME, option('AttrValue', [[/=\\s*/, false, '=', UNATTACH], AttrValue, /\\s*/])], (d, rs) => {\n\t\tconst attrs = {}\n\t\tfor (let i = 0, l = d.length; i < l; i += 2) attrs[d[i]] = d[i + 1][0]\n\t\trs.add(attrs)\n\t})\n\nconst ELEM_NAME_REG = '[_a-zA-Z][\\\\w-]*',\n\tELEM_NAME = match('ElemName', new RegExp(`<(${ELEM_NAME_REG})\\\\s*`), 1, '<'),\n\tNodeCollection = anyOne('NodeCollection', () => [\n\t\tElem,\n\t\tand(Expr, (d, rs, stream) => {\n\t\t\trs.add({ type: 'expr', data: d[0][0] })\n\t\t}),\n\t\tmatch('<', (d, rs, stream, rule) => {\n\t\t\t//consume one char when Elem match failed\n\t\t\tif (stream.nextCode() === 47)\n\t\t\t\t// is close element\n\t\t\t\treturn rule.error(stream, 'expect: /<[^/]/', true)\n\t\t\tattachText(d, rs, stream, rule) // not element\n\t\t}),\n\t\tmatch(EXPR_START[0], attachText), // consume one char when Expr match failed\n\t\tmatch(new RegExp(`[^\\\\\\\\<${reEscape(EXPR_START[0])}]+|\\\\\\\\${reEscape(EXPR_START[0])}`), attachText),\n\t]),\n\tElem = and(\n\t\t'Elem',\n\t\t[\n\t\t\tELEM_NAME,\n\t\t\tAttrs,\n\t\t\tor('ElemBody', [\n\t\t\t\tmatch(/\\/>\\s*/, false, '/', UNATTACH),\n\t\t\t\tand('childNodes', [\n\t\t\t\t\tmatch(/>/, false, '>', UNATTACH),\n\t\t\t\t\tNodeCollection,\n\t\t\t\t\toption([match('ElemClose', new RegExp(`<\\/(${ELEM_NAME_REG})>\\\\s*`), 1, '<')], (close, childNodesResult, stream) => {\n\t\t\t\t\t\tconst closeTag = close[0],\n\t\t\t\t\t\t\telemResult = childNodesResult.parent.parent,\n\t\t\t\t\t\t\ttag = elemResult.data[0]\n\n\t\t\t\t\t\tif (closeTag) {\n\t\t\t\t\t\t\tif (closeTag !== tag) {\n\t\t\t\t\t\t\t\tif (AutoCloseElems[tag]) {\n\t\t\t\t\t\t\t\t\tstream.reset()\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn `expect: </${tag}>`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (!AutoCloseElems[tag]) {\n\t\t\t\t\t\t\treturn `expect: </${tag}>`\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t]),\n\t\t\t]),\n\t\t],\n\t\t(d, rs) => {\n\t\t\tconst tag = d[0],\n\t\t\t\tchildren = d[2][0] && d[2][0][0],\n\t\t\t\telem = { type: 'elem', tag, attrs: d[1], children }\n\n\t\t\trs.add(elem)\n\n\t\t\tif (children && AutoCloseElems[tag]) {\n\t\t\t\trs.addAll(children)\n\t\t\t\tchildren.length = 0\n\t\t\t}\n\t\t}\n\t)\n\nfunction attachText(text, rs) {\n\tconst data = rs.data,\n\t\tlen = data.length\n\tlet prev\n\tif (len && (prev = data[len - 1]) && prev.type === 'text') {\n\t\tprev.data += text\n\t} else {\n\t\trs.add({ type: 'text', data: text })\n\t}\n}\n\nconst ElemContent = and('Elem-Content', [/\\s*/, many(Elem), match('EOF', /\\s*$/, UNATTACH)], (d, rs) => {\n\trs.addAll(d[0])\n}).init()\n\nexport default ElemContent\n\nfunction attachValue(type, valHandler) {\n\treturn function(value, rs) {\n\t\trs.add([type, valHandler(value)])\n\t}\n}\n\nfunction attachStaticValue(type, val) {\n\treturn attachValue(type, v => v)\n}\n\nfunction attachOffset(d, rs, stream) {\n\trs.add(stream.orgOffset())\n}\n"],"names":["CONSTRUCTOR","PROTOTYPE","PROTO","global","window","BOOL","FN","NUM","STR","eq","o1","o2","isNull","o","isUndef","undefined","isNil","isFn","fn","is","Type","c","Array","i","l","length","Object","isObj","C","mkIs","isBool","Boolean","isNum","Number","isStr","String","isDate","Date","isReg","RegExp","isArray","isInt","isTypedArray","ArrayBuffer","isView","isArrayLike","NodeList","HTMLCollection","Int8Array","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","len","isInstOf","obj","Cls","isPrimitive","blankStrReg","isBlank","test","applyBuilder","max_args","scope","offset","args","cases","slice","join","Function","applyScope","applyNoScope","applyScopeN","applyNoScopeN","apply","applyN","createFn","name","body","arguments","concat","varGenReg","fnName","replace","funcProto","bind","rs","QUERY_SELECTOR","QUERY_SELECTOR_ALL","QUERY_RESULTS","document","selector","head","documentElement","firstChild","styleTag","createElement","appendChild","styleSheet","cssText","textnode","createTextNode","scrollBy","ret","selectors","elements","trimReg","trim","str","firstLetterReg","upperHandler","m","toUpperCase","upperFirst","strval","charCode","index","charCodeAt","genCharCodes","start","end","codes","__hasOwn","hasOwnProperty","hasOwnProp","prop","call","getOwnProp","defaultVal","__getProto","getPrototypeOf","__setProto","setPrototypeOf","prototypeOfSupport","prototypeOf","proto","doCreate","parent","props","k","v","value","create","STOP","eachArray","__mkEachArrayLike","arrayValueHandler","eachStr","strValueHandler","reachArray","__mkREachArrayLike","reachStr","each","__mkEach","eachObj","reach","callback","own","key","arrayType","valueHandler","array","charAt","eachChain","SKIP","mapArray","__mkMapArrayLike","mapStr","mapObj","__mkMapObj","map","copy","j","defaultMapCallback","val","REG_ESCAPE","reEscape","s","reUnion","regexps","regStickySupport","sticky","regUnicodeSupport","unicode","array2obj","keyHandler","arrayElementHandler","dist","makeMap","split","arglen","makeArray","cached","cacheKey","cacheVal","cache","toStr","conditions","UNDEF","NUL","INF","ARR","byteArray","shortArray","intArray","floatArray","arrayBuffer","typedArrays","addTypeCon","reFirst","addValueCon","addCon","a","b","arrayVal","addEqCon","thisCb","cb","injects","conCode","values","notEq","notMakeNot","params","condition","isNot","_if","error","exception","assignCons","assert","currentLevel","logs","debug","createLog","info","warn","log","getLogMethods","bindLog","mark","sliceArgs","level","methods","console","setLogConsole","arr","__defProp","defineProperty","defPropSupport","get","set","e","desc","defProp","defPropValue","configurable","writeable","enumerable","__assign","overrides","filter","data","override","assign","__assignFilter","assignIf","__assignIfFilter","assignBy","__assignUserFilter","__extend","cls","mixins","extend","__extendFilter","mixin","extendIf","__extendIfFilter","extendBy","__extendUserFilter","__inherit","superCls","inherit","fnProto","objProto","subclassOf","target","CLASS_NAME","EXTEND","STATICS","KEYS","createClass","constructor","buildCls","keyFilter","filterArray","__mkFilter","filterStr","filterObj","findArray","__mkFind","findStr","findObj","find","rfindArray","rfindStr","rfind","indexOfArray","__mkTypeIndexOf","indexOfObj","lastIndexOfArray","indexOf","__mkIndexOf","lastIndexOf","strIndexOf","obj2array","keys","__mkKV","handler","DEFAULT_BINDING","List","binding","has","node","add","__insert","tail","addFirst","insertAfter","__getNode","insertBefore","addAll","objs","__insertAll","addFirstAll","insertAfterAll","insertBeforeAll","prev","__siblingObj","next","first","last","remove","scaning","lazyRemoves","push","__remove","__doLazyRemove","toArray","clean","__clean","clone","newlist","newtail","newhead","newprev","__initNode","__doInsert","list","nodeHead","nodeTail","__prev","sibling","DEFAULT_FN_BINDING","DEFAULT_SCOPE_BINDING","FnList","fnBinding","scopeBinding","nodeMap","parseScope","id","nodeId","size","DEFAULT_SCOPE_ID","scopeIdGenerator","fnIdGenerator","fnId","scopeId","ticks","pending","executeTick","flush","MutationObserver","counter","observer","textNode","observe","characterData","setTimeout","nextTick","clearTick","STR_ESCAPE_MAP","STR_ESCAPE","escapeString","pad","chr","leftAlign","padding","replacor","regs","reg","plural","singular","thousandSeparationReg","thousandSeparate","number","formatReg","_format","parseWidth","width","isFinite","parseArg","match","idx","flags","minWidth","precision","type","leftJustify","positivePrefix","zeroPad","prefixBaseX","thousandSeparation","prefix","base","isNaN","fromCharCode","parseInt","toLowerCase","toFixed","toExponential","toPrecision","sf","Math","min","toString","format","count","pathCache","pathReg","escapeCharReg","parsePath","path","quote","string","formatPath","formatHandle","attr","LINE_REG","Stream","buff","orgbuff","orglen","curr","stack","enter","reset","exit","pop","commit","substring","orgOffset","upOrgOffset","nextCode","consume","position","line","lineOffset","exec","lastIndex","source","idGen","MatchResult","datas","empty","setLen","UNATTACH","UNCAPTURABLE","capturable","UNATTACH_CAPTURABLE","attach","defaultErrorMsg","err","defaultAttach","defaultRuleTest","OPTION_ATTACH","OPTION_ERROR","OPTION_CAPTURABLE","Rule","option","msg","$rule","stream","srcErr","$err","success","result","setExpr","expr","defName","mkExpr","EXPECT","getStart","testRuleByIndex","MatchRule","startCodes","ignoreCase","eachCharCodes","code","comsume","defaultCharMatchRuleTest","CharMatchRule","allows","chars","charMatch","RegMatchRule","regexp","pick","pattern","multiline","createRegMatchRulePolicy","R","STREAM","S_BUFF","LIDX","consumCode","pickCode","StrMatchRule","regMatch","strMatch","_pattern","REG_ESPEC_CHARS","eachCharCode","ComplexRule","rules","getRules","getLazyRules","parseComplexRules","names","subNames","EXPECTS","__init","parse","errSource","pos","unshift","substr","SyntaxError","init","idStack","idStackPush","parseRule","rule","AndRule","andMatch","OrRule","starts","rStarts","orMatch","upErr","createRepeatRule","defType","Parent","AndRepeatRule","max","prototype","andRepeatMatch","repeat","out","OrRepeatRule","orRepeatMatch","and","buildComplexRule","or","buildRepeatRule","buildAndRepeatRule","any","many","buildOrRepeatRule","anyOne","manyOne","optionOne","repeatOne","build","defaultProps","Proxy","proxyEnabled","impl","proxy","oldValue","__write","newValue","__defineGetter__","__defineSetter__","defined","__watch","defaultPropMap","VBArray","execScript","message","bindingProp","constructorProp","objectProps","classPool","constructorScript","classNameGenerator","parseGetter","buffer","parseSetter","parseVBClass","className","getOrCreateVBClass","classKey","sort","providerName","parseVB","createProxy","vbproxy","propMap","buildProxy","funcs","func","proxyChangeable","sourceOwnProperty","__proxyChanged","doWrite","doRead","OBSERVER_KEY","ARRAY_EVENTS","ArrayProto","arrayHooks","method","newlen","arrayHookLength","hookArray","hook","policy","es6","es5","vb","isDefaultProp","noProxyChangeEventHandler","disableWriteEvent","Observer","bubbles","addChangedQueue","watchs","currentObserver","childObserver","allocWatchDescriptor","pathStr","errorPath","arrayPath","registerBubble","DESC_CHILDREN_INDEX","getObserver","setChildObserver","DESC_PATH_INDEX","DESC_HANDLERS_INDEX","unobserve","unwatch","isObserved","disableEvent","_set","disabled","onProxyChange","unProxyChange","DESC_CHILD_NUM_INDEX","DESC_OWNER_INDEX","DESC_OBSERVER_INDEX","DESC_ATTR_INDEX","DESC_PARENT_INDEX","DESC_CHANGED_INDEX","DESC_EVENT_INDEX","DESC_VALUE_INDEX","owner","NO_CHANGED","freeWatchDescriptor","maxLevel","unregisterBubble","descriptor","descs","changedQueue","eventQueue","flushChangedQueue","addEventQueue","bubble","observerValue","newObserver","__bubble","children","oldObserver","nextObserver","parentObserver","setSource","nextObj","isProxyEnabled","$set","_observer","$hasOwnProp","$eq","proxyListens","$getOwnProp","$eachArray","$reachArray","$each","$eachObj","$reach","$mapArray","$mapObj","$map","$filterArray","$filterObj","$filter","$findArray","$findObj","$find","$rfindArray","$rfind","$indexOfArray","$indexOfObj","$lastIndexOfArray","$indexOf","$lastIndexOf","$assign","$assignIf","$assignBy","$obj2array","$keys","$values","CHILD_NODES","PARENT","VIRT_NODE","VIRT_ELEMENT","VIRT_TEXT","VIRT_BINDING_TEXT","VIRT_COMPLEX_ELEMENT","VIRT_COMMENT","VNode","comp","$comp","prepare","mount","unmount","appendTo","$virtComplexElement","append","prependTo","prepend","insertBeforeTo","insertAfterTo","replaceTo","prevSibling","nextSibling","VText","text","update","keywords","wsReg","newlineReg","escapeReg","restoreReg","identityReg","propReg","simplePathReg","escaped","escape","escapeHandler","restore","restoreHandler","escapeStrReg","escapeStrHandler","IDENTITY_OPT_GET","IDENTITY_OPT_SET","IDENTITY_OPT_CALL","identities","identitySize","userIdentityHandler","userKeyWords","isKeyword","identityHandler","identity","optIdx","optChar","opt","makeExecutor","cleanIdentities","idents","ident","isSimpleExpr","filterSplitReg","filterParamReg","Expression","paramNames","parseFilter","codeSplit","executor","filters","shift","simple","execute","eachFilter","FilterParams","reachFilter","iter","VNodeKeyword","transforms","transformIdentityHandler","TransformExpression","transformValue","transform","checkRestore","by","localTransforms","json","param","indent","JSON","stringify","capitalize","uppercase","lowercase","unit","fmt","units","unitRestoreReg","unitMap","bytes","digit","pow","floor","round","splice","VBindingText","observeExpr","exprHandler","unobserveExpr","VElement","initAttrs","attrs","initDirectives","directives","g","D","Directive","$nodeKey","dname","$nodeName","__directives","unbind","VComplexElement","initChildren","$childKey","$childName","N","ename","childNodes","__children","child","initChild","mountChildHandler","unmountChildHandler","childCount","createSibling","createInsert","createInsertSibling","insert","eachChildren","Compontent","$scope","obs","$observer","$getScope","$parent","getScope","destroy","VComment","comment","$directive","registerDirective","directive","generator","VElements","tags","Text","BindingText","Comment","registerVElement","registerVText","registerVBindingText","registerVComment","elem","gen","isExpr","ADD_EVENT_LISTENER","ATTACH_EVENT","DOCUMENT_ELEMENT","DEFAULT_VIEW","PARENT_WINDOW","APPEND_CHILD","REMOVE_CHILD","INSERT_BEFORE","REPLACE_CHILD","PARENT_NODE","CONTAINS","INNER_HTML","CREATE_ELEMENT","OWNER_DOCUMENT","SET_ATTRIBUTE","GET_ATTRIBUTE","REMOVE_ATTRIBUTE","CHECKED","SELECTED","DISABLED","READ_ONLY","TAB_INDEX","HTML_FOR","CURRENT_TARGET","PREVENT_DEFAULT","STOP_PROPAGATION","STOP_IMMEDIATE_PROPAGATION","CLIENT_TOP","CLIENT_LEFT","SCROLL_LEFT","SCROLL_TOP","PAGE_XOFFSET","PAGE_YOFFSET","CLIENTX","CLIENTY","PAGEX","PAGEY","ROOTELEMENT","DIV","getWindow","el","nodeType","inDoc","root","query","querySelector","prependChild","previousSibling","$htmlNode","taget","pEl","DOM_ELEMENT","OUTER_HTML","$htmlElement","tagName","initDomEvent","outerHtml","cloneNode","html","focus","normal","__hooks","defKey","recive","hooks","revices","addHook","getHook","hookMember","member","memberHook","hookRevice","doAdd","GET_ATTRIBUTENODE","NAME","GET","SET","createHook","tabIndex","attributeNode","specified","rfocusable","nodeName","rclickable","href","tabindex","readonly","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","removeAttr","getProp","setProp","checked","propAccessor","selected","PROP","CLASS_LIST","addClass","mkClasslistUpdator","parseClassNameArray","clearClassName","removeClass","parseClassName","margeClass","adds","clears","classList","clearRegCache","removes","parseClassNameArrayByObj","W3C","dispatchEvent","IE8","XDomainRequest","IE9","navigator","userAgent","readyList","fireReady","isReady","READY_STATE","DO_SCROLL","frameElement","external","doScrollCheck","numberCss","nameHooks","getStyle","style","float","OFFSET_PARENT","GET_BOUNDING_CLIENT_RECT","FILTER","POSITION","setCss","camelize","cssHookName","css","num","parseFloat","doc","box","top","left","win","rect","clientTop","clientLeft","scrollTop","scrollLeft","p","offsetParent","getNumStyle","op","scrollTo","cssPrefixes","host","cssPrefixeSize","fixedName","Error","GET_COMPUTED_STYLE","computedStyle","styles","getPropertyValue","RUNTIME_STYLE","rnumnonpx","rposition","border","thin","medium","thick","currentStyle","rsLeft","pixelLeft","camelizeReg","camelizeHandler","OPACITY","FILTERS","salpha","ralpha","alpha","enabled","opacity","zoom","EMPTY_MAP","SELECTED_INDEX","SELECT_ONE","OPTIONS","getOptionValue","select","signle","options","vl","attributes","TYPE","MIXIN_EVENTS","MIXIN_ADD_LISTEN","MIXIN_DEL_LISTEN","MIXIN_EMIT_LISTEN","EventMixin","on","bindDispatcher","un","unbindDispatcher","once","self","events","listens","event","$hookEvent","packEvent","targetEl","current","IS_IMMEDIATE_PROPAGATION_STOPPED","ORIGINAL_EVENT","RETURN_VALUE","GET_PREVENT_DEFAULT","TIME_STAMP","ORIGINAL_PROPS","CANCEL_BUBBLE","addEventListener","removeEventListener","detachEvent","bubbleUpEvents","change","listenEl","DOM_DISPATCH_EVENTS","dispatch","keyEventReg","CHARCODE","KEYCODE","WHICH","keyEventProps","keyEventHook","fix","original","mouseEventReg","BUTTON","mouseEventProps","mouseEventHook","button","eventDoc","moveEventReg","eventTarget","now","originalEvent","Event","srcElement","eventProps","RELATED_TARGET","PROPERTY_NAME","defaultPrevented","getTime","EventProto","onmouseenter","t","compareDocumentPosition","mouseover","mouseout","AnimationEvent","WebKitAnimationEvent","onmousewheel","fixWheelType","onwheel","fixWheelDelta","WHEEL_DELTA","WHEEL_DELTAY","INPUT","oninput","changeEventDispath","DOM_CHANGE_EVENT","changeEventNum","OLD_VALUE","actEl","activeElement","Element","HTMLMixin","ElementMixin","ElementAttrMixin","ElementClassMixin","ElementStyleMixin","ElementValueMixin","ElementEventMixin","appendAll","__TEXT_CONTENT","TEXT_CONTENT","ComplexElement","$htmlComplexElement","doInsertBefore","doInsertAfter","HTMLCompontent","$htmlComp","createComment","$htmlComment","TextMixin","HTMLText","HTMLBindingText","register","eventFilters","EventKeyword","eventIdentityHandler","doIdentityHandler","EventExpression","doFilter","localFilters","keyCodes","esc","tab","space","up","right","down","which","stop","prevent","preventDefault","currentTarget","DomDirective","ExpressionDirective","realValue","blankValue","observeHandler","EventDirective","sample","eventType","eventName","DISPLAY","NONE","show","hide","boolVal","oldCache","ncsses","styleSplitReg","cssSplitReg","csses","__register","EVENT_CHANGE","EVENT_INPUT","EVENT_CLICK","SELECT","OPTION","TEXTAREA","INPUT_RADIO","INPUT_CHECKBOX","domValue","elemValue","itype","checkedValue","TypeError","onChange","elValue","EXPR_START","EXPR_END","AutoCloseElems","ContentElems","EXPR_START_LEN","EXPR_END_LEN","EXPR_KEY_WORDS","EXPR_KEYS","EXPR_STR","ExprObject","ExprArray","Expr","attachOffset","d","content_start","expr_end","createStringRule","mask","mline","exprs","estart","exprStr","ATTR_NAME","AttrValue","attachValue","attachStaticValue","NaN","Attrs","ELEM_NAME_REG","ELEM_NAME","NodeCollection","Elem","attachText","close","childNodesResult","closeTag","elemResult","tag","ElemContent","valHandler"],"mappings":"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"}