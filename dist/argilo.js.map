{"version":3,"file":"argilo.js","sources":["../src/helper/global.js","../src/helper/constants.js","../src/helper/is.js","../src/helper/function.js","../src/polyfill/function.js","../src/polyfill/query.js","../src/helper/string.js","../src/helper/ownProp.js","../src/helper/prototypeOf.js","../src/helper/create.js","../src/helper/each.js","../src/helper/map.js","../src/helper/reg.js","../src/helper/util.js","../node_modules/.registry.npm.taobao.org/devlevel/0.0.2/node_modules/devlevel/dist/devlevel.es.js","../src/helper/defineProperty.js","../src/helper/assign.js","../src/helper/extend.js","../src/helper/inherit.js","../src/helper/class.js","../src/helper/filter.js","../src/helper/find.js","../src/helper/indexOf.js","../src/helper/obj2array.js","../src/helper/index.js","../src/common/List.js","../src/common/FnList.js","../src/common/nextTick.js","../src/common/format.js","../src/common/path.js","../src/common/ASTBuilder.js","../src/common/ast/index.js","../src/common/index.js","../src/observer/es6.js","../src/observer/es5.js","../src/observer/vb.js","../src/observer/observer.js","../src/observer/each.js","../src/observer/map.js","../src/observer/filter.js","../src/observer/find.js","../src/observer/indexOf.js","../src/observer/assign.js","../src/observer/obj2array.js","../src/vnode/VNode.js","../src/vnode/VText.js","../src/Expression.js","../src/vnode/expression/identityHandler.js","../src/vnode/expression/TransformExpression.js","../src/vnode/expression/transforms.js","../src/vnode/expression/index.js","../src/vnode/VBindingText.js","../src/vnode/VElement.js","../src/vnode/VComplexElement.js","../src/vnode/Compontent.js","../src/vnode/VComment.js","../src/vnode/Directive.js","../src/vnode/index.js","../src/vdom/util/util.js","../src/vdom/HTMLMixin.js","../src/vdom/ElementMixin.js","../src/vdom/util/hook.js","../src/vdom/ElementAttrMixin.js","../src/vdom/ElementClassMixin.js","../src/vdom/util/index.js","../src/vdom/ElementStyleMixin.js","../src/vdom/ElementValueMixin.js","../src/vdom/ElementEventMixin.js","../src/vdom/Element.js","../src/vdom/ComplexElement.js","../src/vdom/Compontent.js","../src/vdom/Comment.js","../src/vdom/Text.js","../src/vdom/elements.js","../src/vdom/expression/EventExpression.js","../src/vdom/expression/eventFilters.js","../src/vdom/expression/index.js","../src/vdom/directives/DomDirective.js","../src/vdom/directives/ExpressionDirective.js","../src/vdom/directives/EventDirective.js","../src/vdom/directives/eventDirectives.js","../src/vdom/directives/directives.js","../src/compile/NodeParser.js"],"sourcesContent":["/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:18\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-18 11:12:18\n */\nconst __global = window || global\nexport default __global\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:25:33\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:25:33\n */\n\nexport const CONSTRUCTOR = 'constructor'\nexport const PROTOTYPE = 'prototype'\nexport const PROTO = '__proto__'\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-04-26 11:34:06\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-07 16:47:11\n */\n\nimport global from './global'\nimport { CONSTRUCTOR } from './constants'\n\nconst BOOL = 'boolean',\n\tFN = 'function',\n\tNUM = 'number',\n\tSTR = 'string'\n\n/**\n * o1 === o2 || NaN === NaN\n *\n * @param {*} o1\n * @param {*} o2\n */\nexport function eq(o1, o2) {\n\treturn o1 === o2 || (o1 !== o1 && o2 !== o2)\n}\n\nexport function isNull(o) {\n\treturn o === null\n}\n\nexport function isUndef(o) {\n\treturn o === undefined\n}\n\nexport function isNil(o) {\n\treturn o === null || o === undefined\n}\n\nexport function isFn(fn) {\n\treturn typeof fn === FN\n}\n\nexport function is(o, Type) {\n\tif (o === undefined || o === null) return false\n\tconst c = o[CONSTRUCTOR]\n\tif (Type[CONSTRUCTOR] === Array) {\n\t\tif (c) {\n\t\t\tfor (var i = 0, l = Type.length; i < l; i++)\n\t\t\t\tif (c === Type[i]) return true\n\t\t} else {\n\t\t\tfor (var i = 0, l = Type.length; i < l; i++)\n\t\t\t\tif (Type[i] === Object) return true\n\t\t}\n\t\treturn false\n\t}\n\treturn c ? c === Type : Type === Object\n}\n\n// TODO object has constructor property\nexport function isObj(o) {\n\tif (o === undefined || o === null) return false\n\tconst C = o[CONSTRUCTOR]\n\treturn C === undefined || C === Object\n}\n\nfunction mkIs(Type) {\n\treturn o => o !== undefined && o !== null && o[CONSTRUCTOR] === Type\n}\n\nexport const isBool = mkIs(Boolean)\n\nexport const isNum = mkIs(Number)\n\nexport const isStr = mkIs(String)\n\nexport const isDate = mkIs(Date)\n\nexport const isReg = mkIs(RegExp)\n\nexport const isArray = Array.isArray || mkIs(Array)\n\nexport const isInt = function isInt(o) {\n\treturn o === 0 || (o ? o[CONSTRUCTOR] === Number && parseInt(o) === o.valueOf() : false)\n}\n\nexport const isTypedArray = ArrayBuffer ? ArrayBuffer.isView : () => false\n\nexport function isArrayLike(o) {\n\tif (o === undefined || o === null) return false\n\tvar C = o[CONSTRUCTOR]\n\tswitch (C) {\n\tcase undefined:\n\t\tbreak\n\tcase Array:\n\tcase String:\n\tcase global.NodeList:\n\tcase global.HTMLCollection:\n\tcase global.Int8Array:\n\tcase global.Uint8Array:\n\tcase global.Int16Array:\n\tcase global.Uint16Array:\n\tcase global.Int32Array:\n\tcase global.Uint32Array:\n\tcase global.Float32Array:\n\tcase global.Float64Array:\n\t\treturn true\n\t}\n\tconst len = o.length\n\treturn len !== undefined && typeof len === NUM && (len === 0 || (len > 0 && parseInt(len) === len && (len - 1) in o))\n}\n\nexport function isInstOf(obj, cls) {\n\treturn obj !== undefined && obj !== null && obj instanceof cls\n}\n\nexport function isPrimitive(o) {\n\tif (o === undefined || o === null) return true\n\tswitch (typeof o) {\n\tcase BOOL:\n\tcase NUM:\n\tcase STR:\n\tcase FN:\n\t\treturn true\n\t}\n\treturn false\n}\n\nconst blankStrReg = /^\\s*$/\nexport function isBlank(o) {\n\tif (!o) return true\n\tif (o[CONSTRUCTOR] === String)\n\t\treturn blankStrReg.test(o)\n\treturn o.length === 0\n}\n","/*\n * Function Util\n * - apply\n * - createFn\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-04-26 11:34:39\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-28 15:22:37\n */\n\nimport { isStr } from './is'\n\nfunction applyBuilder(max_args, scope, offset) {\n\tscope = scope ? 'scope' : ''\n\toffset = offset ? 'offset' : ''\n\tconst args = new Array(max_args + 1)\n\tconst cases = new Array(max_args + 1)\n\tfor (var i = 0; i <= max_args; i++) {\n\t\targs[i] = `${(i || scope) ? ', ' : ''}args[${offset ? `offset${i ? ' + ' + i: ''}` : i}]`\n\t\tcases[i] = `case ${i}: return fn${scope && '.call'}(${scope}${args.slice(0, i).join('')});`\n\t}\n\treturn Function(`return function(fn, ${scope && (scope + ', ')}args${offset && ', offset, len'}){\nswitch(${offset ? 'len': 'args.length'}){\n${cases.join('\\n')}\n}\n${offset && `var arr = new Array(len);\nfor(var i=0; i<len; i++) arr[i] = arr[offset + i];`}\nreturn fn.apply(${scope || 'null'}, ${offset ? 'arr':'args'});\n}`)()\n}\n\nexport const applyScope = applyBuilder(8, 1, 0)\nexport const applyNoScope = applyBuilder(8, 0, 0)\n\nexport const applyScopeN = applyBuilder(8, 1, 1)\nexport const applyNoScopeN = applyBuilder(8, 0, 1)\n\n\nexport function apply(fn, scope, args) {\n\tswitch (scope) {\n\tcase undefined:\n\tcase null:\n\t\treturn applyNoScope(fn, args)\n\t}\n\treturn applyScope(fn, scope, args)\n}\n\nexport function applyN(fn, scope, args, offset, len) {\n\tswitch (scope) {\n\tcase undefined:\n\tcase null:\n\t\treturn applyNoScopeN(fn, args, offset, len)\n\t}\n\treturn applyScopeN(fn, scope, args, offset, len)\n}\n\nexport function createFn(name, args, body) {\n\tconst l = arguments.length\n\tif (l === 1) {\n\t\tbody = name\n\t\tname = args = 0\n\t} else if (l === 2) {\n\t\tbody = args\n\t\tif (isStr(name)) {\n\t\t\targs = 0\n\t\t} else {\n\t\t\targs = name\n\t\t\tname = 0\n\t\t}\n\t}\n\treturn name ?\n\t\tFunction(`return function ${name}(${args ? args.join(', ') : ''}){${body}}`)() :\n\t\tapplyScope(Function, Function, args ? args.concat(body) : [body])\n}\n\nconst varGenReg = /\\$\\d+$/\nexport function fnName(fn) {\n\tconst name = fn.name\n\treturn name ? name.replace(varGenReg, '') : ''\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:35:27\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:35:27\n */\nimport { apply } from '../helper/function'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst funcProto = Function[PROTOTYPE]\nif (!funcProto.bind) {\n\tfuncProto.bind = function bind(scope) {\n\t\tconst fn = this,\n\t\t\tlen = arguments.length - 1\n\t\tif (len > 0) {\n\t\t\tvar args = new Array(len),\n\t\t\t\ti = 0\n\t\t\tfor (; i < len; i++)\n\t\t\t\targs[i] = arguments[i + 1]\n\n\t\t\treturn function () {\n\t\t\t\tlet l = arguments.length,\n\t\t\t\t\ti = 0;\n\n\t\t\t\targs.length = len + l\n\t\t\t\tfor (; i < l; i++)\n\t\t\t\t\targs[len + i] = arguments[i]\n\t\t\t\tlet rs = apply(fn, scope, args)\n\t\t\t\tl && (args.length = len)\n\t\t\t\treturn rs\n\t\t\t}\n\t\t}\n\t\treturn function () {\n\t\t\treturn apply(fn, scope, arguments)\n\t\t}\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:35:31\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:07:38\n */\nconst QUERY_SELECTOR = 'querySelector',\n\tQUERY_SELECTOR_ALL = QUERY_SELECTOR + 'All',\n\tQUERY_RESULTS = '__queryResults'\n\nif (!document[QUERY_SELECTOR_ALL]) {\n\tdocument[QUERY_RESULTS] = []\n\tdocument[QUERY_SELECTOR_ALL] = function (selector) {\n\t\tconst head = document.documentElement.firstChild,\n\t\t\tstyleTag = document.createElement('STYLE')\n\n\t\thead.appendChild(styleTag)\n\t\tif (styleTag.styleSheet) { // for IE\n\t\t\tstyleTag.styleSheet.cssText = selector + `{x:expression(document[${QUERY_RESULTS}].push(this))}`\n\t\t} else { // others\n\t\t\tlet textnode = document.createTextNode(selector + `{x:expression(document[QUERY_RESULTS].push(this))}`)\n\t\t\tstyleTag.appendChild(textnode)\n\t\t}\n\t\twindow.scrollBy(0, 0)\n\t\tconst ret = document[QUERY_RESULTS]\n\t\tdocument[QUERY_RESULTS] = []\n\t\treturn ret\n\t}\n}\nif (!document[QUERY_SELECTOR]) {\n\tdocument[QUERY_SELECTOR] = function (selectors) {\n\t\tconst elements = document[QUERY_SELECTOR_ALL](selectors)\n\t\treturn elements.length ? elements[0] : null\n\t}\n}\n","import { isNil } from \"./is\"\n\n/*\n * String Util\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-04-26 18:30:18\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-08 16:57:52\n */\nconst trimReg = /(^\\s+)|(\\s+$)/g\nexport function trim(str) {\n\treturn str.replace(trimReg, '')\n}\nconst firstLetterReg = /^[a-zA-Z]/\n\nfunction upperHandler(m) {\n\treturn m.toUpperCase()\n}\nexport function upperFirst(str) {\n\treturn str.replace(firstLetterReg, upperHandler)\n}\nexport function strval(obj) {\n\treturn isNil(obj) ? '' : String(obj)\n}\n\nexport function charCode(str, index = 0) {\n\treturn str.charCodeAt(index)\n}\n\nexport function genCharCodes(start, end) {\n\tstart = charCode(start)\n\tend = charCode(end)\n\tconst codes = new Array(end - start + 1)\n\tfor (let i = start; i <= end; i++)\n\t\tcodes[i - start] = start\n\treturn codes\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-07-25 15:23:22\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:29:48\n */\n import { PROTOTYPE } from './constants'\n\nconst __hasOwn = Object[PROTOTYPE].hasOwnProperty\nexport function hasOwnProp(obj, prop) {\n\treturn __hasOwn.call(obj, prop)\n}\n\nexport function getOwnProp(obj, prop, defaultVal) {\n\treturn (obj && __hasOwn.call(obj, prop)) ? obj[prop] : defaultVal\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:57\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:01:15\n */\nimport { hasOwnProp } from './ownProp'\nimport { CONSTRUCTOR, PROTOTYPE, PROTO } from './constants'\n\nconst __getProto = Object.getPrototypeOf,\n\t__setProto = Object.setPrototypeOf\n\nexport const prototypeOfSupport = !!__setProto\n\nexport const prototypeOf = __setProto ? __getProto : __getProto ? function getPrototypeOf(obj) {\n\treturn obj[PROTO] || __getProto(obj)\n} : function getPrototypeOf(obj) {\n\treturn hasOwnProp(obj, PROTO) ? obj[PROTO] : obj[CONSTRUCTOR][PROTOTYPE]\n}\n\nexport const setPrototypeOf = __setProto || function getPrototypeOf(obj, proto) {\n\treturn obj[PROTO] = proto\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-07-25 15:24:51\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 11:56:38\n */\nimport { setPrototypeOf } from './prototypeOf'\nimport { CONSTRUCTOR,PROTOTYPE } from './constants'\n\nfunction FN() {}\n\nfunction doCreate(parent, props) {\n\tFN[PROTOTYPE] = parent\n\tconst obj = new FN()\n\tFN[PROTOTYPE] = undefined\n\tif (props) {\n\t\tvar k, v\n\t\tfor (k in props) {\n\t\t\tv = props[k]\n\t\t\tif (v && v[CONSTRUCTOR] === Object)\n\t\t\t\tobj[k] = v.value\n\t\t}\n\t}\n\treturn obj\n}\n\nexport default Object.create || (Object.getPrototypeOf ? doCreate : function create(parent, props) {\n\tconst obj = doCreate(parent, props)\n\tsetPrototypeOf(obj, parent)\n\treturn obj\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:11:27\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-18 11:11:27\n */\nimport { isArrayLike, isStr } from './is'\nimport { hasOwnProp } from './ownProp'\n\nexport const STOP = new String('STOP')\n\nexport const eachArray = __mkEachArrayLike(arrayValueHandler),\n\teachStr = __mkEachArrayLike(strValueHandler),\n\treachArray = __mkREachArrayLike(arrayValueHandler),\n\treachStr = __mkREachArrayLike(strValueHandler),\n\teach = __mkEach(eachStr, eachArray, eachObj),\n\treach = __mkEach(reachStr, reachArray, eachObj)\n\nexport function eachObj(obj, callback, scope, own) {\n\tif (scope) callback = callback.bind(scope)\n\tlet key\n\tif (own === false) {\n\t\tfor (key in obj)\n\t\t\tif (callback(obj[key], key, obj) === STOP)\n\t\t\t\treturn key\n\t} else {\n\t\tfor (key in obj)\n\t\t\tif (hasOwnProp(obj, key) && callback(obj[key], key, obj) === STOP)\n\t\t\t\treturn key\n\t}\n}\n\nexport function __mkEach(eachStr, eachArray, eachObj) {\n\treturn function (obj, callback, scope, own) {\n\t\tconst arrayType = isArrayLike(obj)\n\t\treturn (\n\t\t\tarrayType ?\n\t\t\tarrayType === String ? eachStr : eachArray :\n\t\t\teachObj\n\t\t)(obj, callback, scope, own)\n\t}\n}\n\nexport function __mkEachArrayLike(valueHandler) {\n\treturn function (array, callback, scope) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\tfor (let i = 0, l = array.length; i < l; i++)\n\t\t\tif (callback(valueHandler(array, i), i, array) === STOP)\n\t\t\t\treturn i\n\t}\n}\n\nexport function __mkREachArrayLike(valueHandler) {\n\treturn function (array, callback, scope) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\tlet i = array.length\n\t\twhile (i--) {\n\t\t\tif (callback(valueHandler(array, i), i, array) === STOP)\n\t\t\t\treturn i\n\t\t}\n\t}\n}\n\nfunction arrayValueHandler(array, i) {\n\treturn array[i]\n}\n\nfunction strValueHandler(str, i) {\n\treturn str.charAt(i)\n}\n\nexport function eachChain(array, v, callback, scope) {\n\tif (scope) callback = callback.bind(scope)\n\tfor (let i = 0, l = array.length; i < l; i++) {\n\t\tv = callback(array[i], i, v, array)\n\t\tif (v === STOP) return STOP\n\t}\n\treturn v\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:45\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:29:34\n */\nimport create from './create'\nimport { each, eachArray, eachStr, eachObj, STOP, __mkEach } from './each'\n\nexport const SKIP = new String('SKIP')\n\nexport const mapArray = __mkMapArrayLike(eachArray),\n\tmapStr = __mkMapArrayLike(eachStr),\n\tmapObj = __mkMapObj(eachObj),\n\tmap = __mkEach(mapStr, mapArray, mapObj)\n\nexport function __mkMapArrayLike(each) {\n\treturn function (array, callback, scope) {\n\t\tconst l = array.length,\n\t\t\tcopy = new Array(l)\n\t\tlet j = 0\n\n\t\tif (!callback) callback = defaultMapCallback\n\t\telse if (scope) callback = callback.bind(scope)\n\n\t\teach(array, (val, i, array) => {\n\t\t\tconst ret = callback(val, i, array)\n\t\t\tif (ret === STOP || ret === SKIP)\n\t\t\t\treturn ret\n\t\t\tcopy[j++] = ret\n\t\t})\n\t\tif (j !== l)\n\t\t\tcopy.length = j\n\t\treturn copy\n\t}\n}\n\nexport function __mkMapObj(each) {\n\treturn function (obj, callback, scope, own) {\n\t\tconst copy = create(null)\n\n\t\tif (!callback) callback = defaultMapCallback\n\t\telse if (scope) callback = callback.bind(scope)\n\n\t\teach(obj, (val, key, obj) => {\n\t\t\tconst ret = callback(val, key, obj)\n\t\t\tif (ret === STOP || ret === SKIP)\n\t\t\t\treturn ret\n\t\t\tcopy[key] = ret\n\t\t}, undefined, own)\n\t\treturn copy\n\t}\n}\n\nfunction defaultMapCallback(v) {\n\treturn v\n}\n","import { mapArray } from './map'\nimport { isBool } from './is'\n\nconst REG_ESCAPE = /[-\\/\\\\^$*+?.()|[\\]{}]/g\nexport function reEscape(s) {\n\treturn s.replace(REG_ESCAPE, '\\\\$&')\n}\n\nexport function reUnion(regexps) {\n\tif (!regexps.length) return '(?!)'\n\treturn `(?:${mapArray(regexps, s => `(?:${s})`).join('|')})`\n}\n\nexport const regStickySupport = isBool(/(?:)/.sticky)\nexport const regUnicodeSupport = isBool(/(?:)/.unicode)\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:13:03\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-10-29 18:10:39\n */\nimport create from './create'\nimport { isFn, isArray, isStr } from './is'\n\nexport function array2obj(array, keyHandler, valueHandler = arrayElementHandler) {\n\tconst dist = create(null)\n\tfor (let i = 0, l = array.length, v; i < l; i++) {\n\t\tv = array[i]\n\t\tdist[keyHandler(v, i, array)] = valueHandler(v, i, array)\n\t}\n\treturn dist\n}\n\nexport function makeMap(props, split, val) {\n\tconst arglen = arguments.length\n\tif (arglen < 3) {\n\t\tif (arglen === 2) {\n\t\t\tval = split\n\t\t} else {\n\t\t\tval = true\n\t\t}\n\t\tsplit = ','\n\t}\n\n\tif (isStr(props)) {\n\t\tif (!props) return create(null)\n\t\tprops = props.split(split)\n\t}\n\tconst valueHandler = isFn(val) ? val : () => val\n\treturn array2obj(props, arrayElementHandler, valueHandler)\n}\n\nfunction arrayElementHandler(v) {\n\treturn v\n}\n\nexport function makeArray(array, split, map) {\n\tconst arglen = arguments.length\n\tif (arglen < 3) {\n\t\tif (arglen === 2)\n\t\t\tmap = split\n\t\tsplit = ','\n\t}\n\n\tif (isStr(array)) {\n\t\tif (!array) return []\n\t\tarray = array.split(split)\n\t}\n\tif (map)\n\t\tfor (var i = 0, l = array.length; i < l; i++)\n\t\t\tarray[i] = map(array[i], i)\n\treturn array\n}\n\nexport function cached(cacheKey, cacheVal) {\n\tconst cache = create(null)\n\treturn function () {\n\t\tconst key = applyNoScope(cacheKey, arguments)\n\t\tlet val = cache[key]\n\t\tif (!val)\n\t\t\tcache[key] = val = applyNoScope(cacheVal, arguments)\n\t\treturn val\n\t}\n}\n","var toStr = Object.prototype.toString;\nvar conditions = {};\nvar UNDEF = 'undefined',\n    NUL = 'null',\n    INF = 'Infinity',\n    ARR = 'Array';\nvar byteArray = ['Uint8Array', 'Int8Array'];\nvar shortArray = ['Uint16Array', 'Int16Array'];\nvar intArray = ['Uint32Array', 'Int32Array'];\nvar floatArray = ['Float32Array', 'Float64Array'];\nvar arrayBuffer = 'ArrayBuffer';\nvar typedArrays = byteArray.concat(shortArray).concat(intArray).concat(floatArray).concat(arrayBuffer);\n\naddTypeCon({\n\tbool: 'Boolean',\n\tnum: 'Number',\n\tstr: 'String',\n\tfn: 'Function',\n\tdate: 'Date',\n\treg: 'RegExp',\n\tobj: 'Object',\n\terr: 'Error',\n\tarray: ARR,\n\tarrayLike: [[ARR, 'Arguments', 'NodeList'].concat(typedArrays)],\n\tbyteArray: [byteArray],\n\tshortArray: [shortArray],\n\tintArray: [intArray],\n\tfloatArray: [floatArray],\n\ttypedArrays: [typedArrays]\n});\neach(typedArrays, function (t) {\n\treturn addTypeCon(reFirst(t), t);\n});\naddValueCon({\n\tnil: [[UNDEF, NUL]],\n\tnul: NUL,\n\tdef: [UNDEF, 1, 1],\n\tundef: [UNDEF, 0, 1],\n\tNaN: ['o', 1],\n\tinfinite: [INF, 0, 1]\n});\naddCon({\n\tfinite: [['o'], function (o) {\n\t\treturn o === o && o !== Infinity && toStr.call(o) === '[object Number]';\n\t}],\n\teq: [['a', 'b'], function (a, b) {\n\t\treturn a === b || a !== a && b !== b;\n\t}],\n\tnotEq: [['a', 'b'], function (a, b) {\n\t\treturn a !== b && (a === a || b === b);\n\t}]\n});\n\nfunction addTypeCon(name, values, notEq, notMakeNot) {\n\t_addCon(arguments, addTypeCon, function () {\n\t\treturn addEqCon(name, [toStr], ['o'], '$0.call(o)', map(arrayVal(values), function (v) {\n\t\t\treturn '\\'[object ' + v + ']\\'';\n\t\t}), notEq, notMakeNot);\n\t});\n}\n\nfunction addValueCon(name, values, notEq, notMakeNot) {\n\t_addCon(arguments, addValueCon, function () {\n\t\treturn addEqCon(name, undefined, ['o'], 'o', values, notEq, notMakeNot);\n\t});\n}\n\nfunction _addCon(args, thisCb, cb) {\n\targs.length === 1 ? each(args[0], function (v, n) {\n\t\treturn thisCb.apply(null, [n].concat(v));\n\t}) : cb();\n}\n\nfunction addEqCon(name) {\n\tvar injects = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\tvar args = arguments[2];\n\tvar conCode = arguments[3];\n\tvar values = arguments[4];\n\tvar notEq = arguments[5];\n\tvar notMakeNot = arguments[6];\n\n\tvalues = arrayVal(values);\n\tvar params = map(injects, function (v, i) {\n\t\treturn '$' + i;\n\t});\n\n\tparams.push('return function(' + args.join(',') + '){\\n' + (values.length > 1 ? 'switch(' + conCode + '){\\ncase ' + values.join(':\\n\\t\\tcase ') + ': return ' + !notEq + ';\\ndefault: return ' + !!notEq + ';\\n}' : 'return (' + conCode + ')' + (notEq ? '!' : '=') + '==' + values[0] + ';') + '\\n    }');\n\n\taddCon(name, args, Function.apply(Function, params).apply(null, injects));\n\tif (!notMakeNot) addEqCon('not' + reFirst(name, 1), injects, args, conCode, values, !notEq, 1);\n}\n\nfunction addCon(name, args, fn) {\n\tif (arguments.length === 1) each(name, function (v, n) {\n\t\tconditions[n] = v;\n\t});else conditions[name] = [args, fn];\n}\n\nfunction _if(condition, callback, isNot) {\n\tvar args = condition[0];\n\treturn new Function('condition', 'callback', 'slice', 'return function(' + args.join(',') + '){\\nif(' + (isNot ? '!' : '') + 'condition(' + args.join(',') + '))\\n    callback(slice(arguments, ' + args.length + '));\\n}')(condition[1], callback, sliceArgs);\n}\n\nfunction assignCons(obj, callback, isNot) {\n\tfor (var name in conditions) {\n\t\tobj[name] = _if(conditions[name], callback, isNot);\n\t}return obj;\n}\n\nfunction callBy(condition, cb) {\n\tvar len = arguments.length;\n\tif (len > 1) condition && cb();else if (len) condition();\n}\nfunction exception(error) {\n\tif (typeof error === 'function') error = error();\n\tif (error instanceof Error) throw error;\n\tthrow new Error(error);\n}\n\nfunction assert(condition, error) {\n\tif (!condition) exception(error);\n}\nassignCons(assert, function (args) {\n\treturn exception(args[0]);\n}, 1);\nassert.by = callBy;\n\nvar currentLevel = 1;\nvar logs = [];\nvar logMap = {};\n\nvar debug = createLog('debug', 0);\nvar info = createLog('info', 1);\nvar warn = createLog('warn', 2);\nvar error = createLog('error', 3);\n\nfunction createLog(name, level) {\n\tfunction log() {\n\t\tlevel >= currentLevel && log.print.apply(this, arguments);\n\t}\n\tlog.level = level;\n\tlog.methods = getLogMethods(name, log);\n\tlogs[level] = log;\n\tlogMap[name] = log;\n\treturn bindLog(log);\n}\n\nfunction getLogMethods(name, log) {\n\tvar mark = '[' + name + ']: ';\n\treturn assignCons({\n\t\tby: callBy,\n\t\twhen: function when(condition) {\n\t\t\tcondition && log.print.apply(log, sliceArgs(arguments, 1));\n\t\t},\n\t\tprint: function print(msg) {\n\t\t\tif (arguments.length) {\n\t\t\t\tvar args = map(arguments, function (v) {\n\t\t\t\t\treturn v;\n\t\t\t\t});\n\t\t\t\tif (typeof msg === 'string') {\n\t\t\t\t\targs[0] = mark + args[0];\n\t\t\t\t} else {\n\t\t\t\t\targs.unshift(mark);\n\t\t\t\t}\n\t\t\t\tlog.__print(args, name);\n\t\t\t}\n\t\t}\n\t}, function (args) {\n\t\treturn log.print.apply(log, args);\n\t});\n}\n\nfunction empty() {}\n\nfunction bindLog(log) {\n\tvar level = log.level,\n\t    methods = log.methods;\n\n\tfor (var method in methods) {\n\t\tlog[method] = level < currentLevel ? empty : methods[method];\n\t}return log;\n}\n\nfunction setLogLevel(level) {\n\tvar log = logMap[level];\n\tassert(log, 'invalid log level: ' + level);\n\tlevel = log.level;\n\tif (level !== currentLevel) {\n\t\tcurrentLevel = level;\n\t\teach(logs, bindLog);\n\t}\n}\n\nfunction setLogConsole(console, applyArgs) {\n\teach(logs, function (log) {\n\t\tlog.__print = applyArgs ? function (args, name) {\n\t\t\tconsole[name].apply(console, args);\n\t\t} : function (args, name) {\n\t\t\treturn console[name](args, name);\n\t\t};\n\t});\n}\nfunction isLog(level) {\n\tvar log = logMap[level];\n\tassert(log, 'invalid log level: ' + level);\n\treturn log.level >= currentLevel;\n}\n\nif (!console) console = {\n\tlog: function log() {}\n};\nif (!console.info) console.info = console.log;\nsetLogConsole(console, 1);\n\nfunction sliceArgs(args, offset) {\n\tvar len = args.length;\n\tvar arr = new Array(len - offset);\n\twhile (len-- > offset) {\n\t\tarr[len - offset] = args[len];\n\t}return arr;\n}\n\nfunction each(obj, cb) {\n\tif (obj instanceof Array) {\n\t\tvar i = obj.length;\n\t\twhile (i--) {\n\t\t\tcb(obj[i], i);\n\t\t}\n\t} else {\n\t\tfor (var key in obj) {\n\t\t\tcb(obj[key], key);\n\t\t}\n\t}\n}\n\nfunction map(arr, cb) {\n\tvar i = arr.length,\n\t    ret = new Array(i);\n\twhile (i--) {\n\t\tret[i] = cb(arr[i], i);\n\t}return ret;\n}\n\nfunction reFirst(str, upper) {\n\treturn str.replace(/^[a-zA-Z]/, upper ? function (o) {\n\t\treturn o.toUpperCase();\n\t} : function (o) {\n\t\treturn o.toLowerCase();\n\t});\n}\n\nfunction arrayVal(val) {\n\treturn val instanceof Array ? val : [val];\n}\n\nexport { exception, assert, debug, info, warn, error, logMap as log, setLogLevel, setLogConsole, isLog, sliceArgs, each, map, reFirst, arrayVal };\n//# sourceMappingURL=devlevel.es.js.map\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 11:52:21\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 11:52:21\n */\nimport { assert } from 'devlevel'\n\nlet __defProp = Object.defineProperty\nexport const defPropSupport = __defProp && (function () {\n\ttry {\n\t\tvar val, obj = {}\n\t\t__defProp(obj, 's', {\n\t\t\tget() {\n\t\t\t\treturn val\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tval = value\n\t\t\t}\n\t\t})\n\t\tobj.s = 1\n\t\treturn obj.s === val\n\t} catch (e) {}\n})()\nif (!defPropSupport) {\n\t__defProp = function (obj, prop, desc) {\n\t\tassert(desc.get || desc.set, 'not support getter/setter on defineProperty')\n\t\tobj[prop] = desc.value\n\t\treturn obj\n\t}\n}\n\nexport const defProp = __defProp\n\nexport const defPropValue = defPropSupport ? function (obj, prop, value, configurable, writeable, enumerable) {\n\t__defProp(obj, prop, {\n\t\tvalue,\n\t\tconfigurable: configurable || false,\n\t\twriteable: writeable || false,\n\t\tenumerable: enumerable || false\n\t})\n\treturn value\n} : function (obj, prop, value) {\n\tobj[prop] = value\n\treturn value\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-07-25 15:42:57\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:25:44\n */\nimport create from './create'\nimport { hasOwnProp } from './ownProp'\n\nexport function __assign(dist, overrides, offset = 0, filter, data) {\n\tif (!dist) dist = {}\n\tlet i = offset,\n\t\tl = overrides.length,\n\t\toverride, prop\n\tfor (; i < l; i++) {\n\t\tif ((override = overrides[i]))\n\t\t\tfor (prop in override)\n\t\t\t\tif (filter(prop, dist, override, data))\n\t\t\t\t\tdist[prop] = override[prop]\n\t}\n\treturn dist\n}\n\nexport function assign(obj) {\n\treturn __assign(obj, arguments, 1, __assignFilter)\n}\n\nexport function __assignFilter(prop, dist, override) {\n\treturn hasOwnProp(override, prop)\n}\n\nexport function assignIf(obj) {\n\treturn __assign(obj, arguments, 1, __assignIfFilter)\n}\n\nexport function __assignIfFilter(prop, dist, override) {\n\treturn hasOwnProp(override, prop) && !hasOwnProp(dist, prop)\n}\n\nexport function assignBy(obj, filter) {\n\treturn __assign(obj, arguments, 2, __assignUserFilter, filter)\n}\n\nexport function __assignUserFilter(prop, dist, override, cb) {\n\treturn hasOwnProp(override, prop) && cb(prop, dist, override)\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:11:47\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 11:57:11\n */\nimport { assert } from 'devlevel'\nimport { __assign } from './assign'\nimport { CONSTRUCTOR, PROTOTYPE } from './constants'\n\nexport function __extend(cls, mixins, offset, filter, data) {\n\tassert.fn(cls, 'Invalid Class')\n\n\t__assign(cls[PROTOTYPE], mixins, offset, filter, data)\n\treturn cls\n}\n\nexport function extend(cls) {\n\treturn __extend(cls, arguments, 1, __extendFilter)\n}\n\nexport function __extendFilter(prop, proto, mixin) {\n\treturn prop !== CONSTRUCTOR\n}\n\nexport function extendIf(cls) {\n\treturn __extend(cls, arguments, 1, __extendIfFilter)\n}\n\nexport function __extendIfFilter(prop, proto, mixin) {\n\treturn prop !== CONSTRUCTOR && !(prop in proto)\n}\n\nexport function extendBy(cls, filter) {\n\treturn __extend(cls, arguments, 2, __extendUserFilter, filter)\n}\n\nexport function __extendUserFilter(prop, proto, mixin, cb) {\n\treturn prop !== CONSTRUCTOR && cb(prop, proto, mixin)\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:32\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 18:06:01\n */\nimport { assert } from 'devlevel'\nimport create from './create'\nimport { setPrototypeOf, prototypeOf } from './prototypeOf'\nimport { __extend, __extendFilter } from './extend'\nimport { isFn } from './is'\nimport { CONSTRUCTOR, PROTOTYPE } from './constants'\n\nexport function __inherit(cls, superCls) {\n\tconst proto = create(superCls[PROTOTYPE])\n\tproto[CONSTRUCTOR] = cls\n\tcls[PROTOTYPE] = proto\n\tsetPrototypeOf(cls, superCls)\n}\n\nexport function inherit(cls, superCls) {\n\tassert.fn(cls, 'Invalid Class')\n\n\tlet i = 2,\n\t\tl = arguments.length\n\n\tif (isFn(superCls))\n\t\t__inherit(cls, superCls)\n\telse i = 1\n\t__extend(cls, arguments, i, __extendFilter)\n\treturn cls\n}\n\nconst fnProto = Function[PROTOTYPE]\nconst objProto = Object[PROTOTYPE]\n\nexport function superCls(cls) {\n\tcls = prototypeOf(cls)\n\tswitch (cls) {\n\tcase Object:\n\tcase objProto:\n\tcase fnProto:\n\t\treturn undefined\n\t}\n\treturn cls\n}\n\nexport function subclassOf(cls, target) {\n\tif (target === Object) return true\n\n\tlet parent = cls\n\twhile ((parent = superCls(parent)))\n\t\tif (parent === target) return true\n\treturn false\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:11:07\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:27:21\n */\nimport { assert } from 'devlevel'\nimport { __inherit } from './inherit'\nimport { extend, extendBy } from './extend'\nimport { assign } from './assign'\nimport { applyScope } from './function'\nimport { getOwnProp } from './ownProp'\nimport { isFn } from './is'\nimport { makeMap } from './util'\nimport { CONSTRUCTOR, PROTOTYPE } from './constants'\n\nconst CLASS_NAME = 'name',\n\tEXTEND = 'extend',\n\tSTATICS = 'statics'\n\nconst KEYS = makeMap([CLASS_NAME, CONSTRUCTOR, EXTEND, STATICS, PROTOTYPE])\n\nexport default function createClass(overrides) {\n\tconst constructor = getOwnProp(overrides, CONSTRUCTOR)\n\tlet superCls = overrides[EXTEND]\n\n\tassert(!constructor || isFn(constructor), 'Invalid Constructor')\n\tassert(!superCls || isFn(superCls), 'Invalid Super Class')\n\n\tif (superCls === Object) superCls = null\n\n\tconst C = buildCls(constructor, overrides[CLASS_NAME], superCls)\n\tif (superCls)\n\t\t__inherit(C, superCls)\n\textendBy(C, keyFilter, overrides)\n\textend(C, overrides[PROTOTYPE])\n\tassign(C, overrides[STATICS])\n\treturn C\n}\n\nfunction buildCls(cls, name, superCls) {\n\tif (name)\n\t\treturn new Function('apply', 'S', `return function ${name}(){\n    ${(cls || superCls) ? `apply(S, this, arguments);`  : ''}\n}`)(applyScope, cls || superCls)\n\n\treturn cls || (superCls ? function () {\n\t\tapplyScope(superCls, this, arguments)\n\t} : function () {})\n}\n\nfunction keyFilter(prop) {\n\treturn !KEYS[prop]\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:11:54\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:28:29\n */\nimport { map, mapArray, mapStr, mapObj, SKIP } from './map'\nimport { STOP } from './each'\n\nexport const filterArray = __mkFilter(mapArray),\n\tfilterStr = __mkFilter(mapStr),\n\tfilterObj = __mkFilter(mapObj),\n\tfilter = __mkFilter(map)\n\nexport function __mkFilter(map) {\n\treturn function (obj, callback, scope, own) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\treturn map(obj, (val, index, obj) => {\n\t\t\tconst ret = callback(val, index, obj)\n\t\t\tif (ret === STOP || ret === SKIP) return ret\n\t\t\treturn ret ? val : SKIP\n\t\t}, undefined, own)\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:11:59\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-18 11:11:59\n */\nimport { each, eachArray, eachStr, eachObj, reach, reachArray, reachStr, STOP } from './each'\n\nexport const findArray = __mkFind(eachArray),\n\tfindStr = __mkFind(eachStr),\n\tfindObj = __mkFind(eachObj),\n\tfind = __mkFind(each),\n\trfindArray = __mkFind(reachArray),\n\trfindStr = __mkFind(reachStr),\n\trfind = __mkFind(reach)\n\nexport function __mkFind(each) {\n\treturn function (obj, callback, scope, own) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\treturn each(obj, (val, index, obj) => {\n\t\t\tif (callback(val, index, obj))\n\t\t\t\treturn STOP\n\t\t}, undefined, own)\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:29\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-18 11:12:29\n */\nimport { each, eachArray, eachStr, eachObj, reach, reachArray, reachStr } from './each'\n\nexport const indexOfArray = __mkTypeIndexOf(eachArray),\n\tindexOfObj = __mkTypeIndexOf(eachObj),\n\tlastIndexOfArray = __mkTypeIndexOf(reachArray),\n\tindexOf = __mkIndexOf(indexOfArray, 'indexOf'),\n\tlastIndexOf = __mkIndexOf(lastIndexOfArray, 'lastIndexOf')\n\nexport function __mkTypeIndexOf(each) {\n\treturn function (obj, val, own) {\n\t\treturn each(obj, (v, index, obj) => {\n\t\t\tif (eq(v, val)) return STOP\n\t\t}, undefined, own)\n\t}\n}\n\nexport function __mkIndexOf(indexOfArray, strIndexOf) {\n\treturn function (obj, val, own) {\n\t\tconst arrayType = isArrayLike(obj)\n\t\tif (arrayType === String) {\n\t\t\tconst i = obj[strIndexOf](val)\n\t\t\tif (i >= 0) return i\n\t\t} else {\n\t\t\treturn (arrayType ? indexOfArray : indexOfObj)(obj, val, own)\n\t\t}\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:49\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-10 11:37:20\n */\nimport { STOP } from './each'\nimport { SKIP } from './map'\nimport { hasOwnProp } from './ownProp'\n\nexport function obj2array(obj, valueHandler, scope, own) {\n\tconst array = []\n\tlet key, ret, i = 0\n\n\tif (scope) valueHandler = valueHandler.bind(scope)\n\tif (own === false) {\n\t\tfor (key in obj) {\n\t\t\tret = valueHandler(obj, key)\n\t\t\tif (ret === STOP) break\n\t\t\tif (ret !== SKIP)\n\t\t\t\tarray[i++] = ret\n\t\t}\n\t} else {\n\t\tfor (key in obj) {\n\t\t\tif (hasOwnProp(obj, key)) {\n\t\t\t\tret = valueHandler(obj, key, i)\n\t\t\t\tif (ret === STOP) break\n\t\t\t\tif (ret !== SKIP)\n\t\t\t\t\tarray[i++] = ret\n\t\t\t}\n\t\t}\n\t}\n\treturn array\n}\n\nexport const keys = __mkKV(obj2array, keyHandler),\n\tvalues = __mkKV(obj2array, valueHandler)\n\nexport function __mkKV(obj2array, handler) {\n\treturn function (obj, own, filter, scope) {\n\t\tif (filter) {\n\t\t\tif (scope) filter = filter.bind(scope)\n\t\t\treturn obj2array(obj, (obj, key) => {\n\t\t\t\tconst ret = filter(obj, key)\n\t\t\t\tif (!ret) return SKIP\n\t\t\t\tif (ret === STOP || ret === SKIP) return ret\n\t\t\t\treturn handler(obj, key)\n\t\t\t}, undefined, own)\n\t\t}\n\t\treturn obj2array(obj, handler, undefined, own)\n\t}\n}\n\nfunction keyHandler(obj, key) {\n\treturn key\n}\n\nfunction valueHandler(obj, key) {\n\treturn obj[key]\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:25\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-17 15:48:55\n */\nexport { default as global } from './global'\nexport * from './is'\nexport * from './function'\nexport * from './string'\nexport * from './reg'\nexport * from './util'\nexport * from './ownProp'\nexport * from './prototypeOf'\nexport * from './defineProperty'\nexport { default as create } from './create'\nexport { assign, assignIf, assignBy } from './assign'\nexport { extend, extendIf, extendBy } from './extend'\nexport { inherit, superCls, subclassOf } from './inherit'\nexport { default as createClass } from './class'\nexport { each, eachArray, eachStr, eachObj, reach, reachArray, reachStr, eachChain, STOP } from './each'\nexport { map, mapArray, mapStr, mapObj, SKIP } from './map'\nexport { filter, filterArray, filterStr, filterObj } from './filter'\nexport { find, findArray, findStr, findObj, rfind, rfindStr } from './find'\nexport { indexOf, indexOfArray, indexOfObj, lastIndexOf, lastIndexOfArray } from './indexOf'\nexport { obj2array, keys, values } from './obj2array'\n","/*\n * Double Linked List\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-07-23 16:07:38\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-06 14:21:28\n */\nimport { assert } from 'devlevel'\nimport { inherit, defPropValue } from '../helper';\n\nexport const DEFAULT_BINDING = '__list__'\n\nexport default function List(binding) {\n\tthis.binding = binding || DEFAULT_BINDING\n}\n\ndefPropValue(List, 'binding', DEFAULT_BINDING)\n\ninherit(List, {\n\tlength: 0,\n\thas(obj) {\n\t\tconst node = obj[this.binding]\n\t\treturn node ? node[0] === obj && node[3] === this : false\n\t},\n\tadd(obj) {\n\t\treturn __insert(this, obj, this.tail)\n\t},\n\taddFirst(obj) {\n\t\treturn __insert(this, obj)\n\t},\n\tinsertAfter(obj, target) {\n\t\treturn __insert(this, obj, target && __getNode(this, target))\n\t},\n\tinsertBefore(obj, target) {\n\t\treturn __insert(this, obj, target && __getNode(this, target)[1])\n\t},\n\taddAll(objs) {\n\t\treturn __insertAll(this, objs, this.tail)\n\t},\n\taddFirstAll(objs) {\n\t\treturn __insertAll(this, objs)\n\t},\n\tinsertAfterAll(objs, target) {\n\t\treturn __insertAll(this, objs, target && __getNode(this, target))\n\t},\n\tinsertBeforeAll(objs, target) {\n\t\treturn __insertAll(this, objs, target && __getNode(this, target)[1])\n\t},\n\tprev(obj) {\n\t\treturn __siblingObj(this, obj, 1)\n\t},\n\tnext(obj) {\n\t\treturn __siblingObj(this, obj, 2)\n\t},\n\tfirst() {\n\t\tconst node = this.head\n\t\treturn node && node[0]\n\t},\n\tlast() {\n\t\tconst node = this.tail\n\t\treturn node && node[0]\n\t},\n\tremove(obj) {\n\t\tconst node = __getNode(this, obj)\n\t\tif (this.scaning) {\n\t\t\tconst { lazyRemoves } = this\n\t\t\tobj[this.binding] = undefined // unbind list node\n\t\t\tnode[3] = undefined\n\t\t\tif (lazyRemoves) {\n\t\t\t\tlazyRemoves.push(node)\n\t\t\t} else {\n\t\t\t\tthis.lazyRemoves = [node]\n\t\t\t}\n\t\t} else {\n\t\t\t__remove(this, node)\n\t\t}\n\t\treturn --this.length\n\t},\n\teach(cb, scope) {\n\t\tassert(!this.scaning, 'Recursive calls are not allowed.')\n\t\tthis.scaning = true\n\t\tif (scope) cb = cb.bind(scope)\n\t\tlet node = this.head\n\t\twhile (node) {\n\t\t\tif (node[3] === this && cb(node[0]) === false)\n\t\t\t\tbreak\n\t\t\tnode = node[2]\n\t\t}\n\t\t__doLazyRemove(this)\n\t\tthis.scaning = false\n\t},\n\ttoArray() {\n\t\tconst array = new Array(this.length)\n\t\tlet node = this.head,\n\t\t\ti = 0\n\t\twhile (node) {\n\t\t\tif (node[3] === this)\n\t\t\t\tarray[i++] = node[0]\n\t\t\tnode = node[2]\n\t\t}\n\t\treturn array\n\t},\n\tclean() {\n\t\tif (this.length) {\n\t\t\tif (this.scaning) {\n\t\t\t\tconst { binding } = this\n\t\t\t\tconst lazyRemoves = this.lazyRemoves || (this.lazyRemoves = [])\n\t\t\t\tvar node = this.head\n\t\t\t\twhile (node) {\n\t\t\t\t\tif (node[3] === this) {\n\t\t\t\t\t\tnode[0][binding] = undefined\n\t\t\t\t\t\tlazyRemoves.push(node)\n\t\t\t\t\t}\n\t\t\t\t\tnode = node[2]\n\t\t\t\t}\n\t\t\t\tthis.length = 0\n\t\t\t} else {\n\t\t\t\t__clean(this)\n\t\t\t}\n\t\t}\n\t},\n\tclone(cb, scope) {\n\t\tconst newlist = new List(this.binding)\n\t\tif (this.length) {\n\t\t\tif (scope) cb = cb.bind(scope)\n\t\t\tvar node = this.head,\n\t\t\t\tnewtail, newhead,\n\t\t\t\tnewprev = undefined,\n\t\t\t\ti = 0\n\t\t\twhile (node) {\n\t\t\t\tif (node[3] === this && (newtail = cb(node[0]))) {\n\t\t\t\t\tnewtail = __initNode(newlist, newtail)\n\t\t\t\t\tassert(!newtail[3], 'Double add List, Clone Callback should return a new Object')\n\t\t\t\t\tnewtail[3] = newlist\n\t\t\t\t\tif (newprev) {\n\t\t\t\t\t\tnewtail[1] = newprev\n\t\t\t\t\t\tnewprev[2] = newtail\n\t\t\t\t\t\tnewprev = newtail\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewprev = newhead = newtail\n\t\t\t\t\t}\n\t\t\t\t\ti++\n\t\t\t\t}\n\t\t\t\tnode = node[2]\n\t\t\t}\n\t\t\ti && __doInsert(newlist, newhead, newtail, i)\n\t\t}\n\t\treturn newlist\n\t}\n})\n\nfunction __doInsert(list, nodeHead, nodeTail, len, prev) {\n\tlet next\n\tnodeHead[1] = prev\n\tif (prev) {\n\t\tnodeTail[2] = next = prev[2]\n\t\tprev[2] = nodeHead\n\t} else {\n\t\tnodeTail[2] = next = list.head\n\t\tlist.head = nodeHead\n\t}\n\tif (next) next[1] = nodeTail\n\telse list.tail = nodeTail\n\treturn (list.length += len)\n}\n\nfunction __insert(list, obj, prev) {\n\tconst node = __initNode(list, obj)\n\tif (!node[3]) {\n\t\tnode[3] = list\n\t\treturn __doInsert(list, node, node, 1, prev)\n\t}\n}\n\nfunction __insertAll(list, objs, prev) {\n\tlet l = objs.length\n\tif (!l) return\n\tconst head = __initNode(list, objs[0])\n\tassert(!head[3], 'Double add List, Object have added in this List')\n\thead[3] = list\n\tlet __prev = head,\n\t\ttail = head,\n\t\ti = 1\n\tfor (; i < l; i++) {\n\t\ttail = __initNode(list, objs[i])\n\t\tassert(!tail[3], 'Double add List, Object have added in this List')\n\t\ttail[3] = list\n\t\ttail[1] = __prev\n\t\t__prev[2] = tail\n\t\t__prev = tail\n\t}\n\treturn __doInsert(list, head, tail, l, prev)\n}\n\nfunction __initNode(list, obj) {\n\tconst { binding } = list\n\tlet node = obj[binding]\n\tif (node && node[0] === obj) {\n\t\tassert(!node[3] || node[3] === list, 'Double add List, Object is still in other List')\n\t} else {\n\t\tnode = defPropValue(obj, binding, [obj], true, true)\n\t}\n\treturn node\n}\n\nfunction __getNode(list, obj) {\n\tconst node = obj[list.binding]\n\tif (node && node[0] === obj) {\n\t\tassert(node[3] === list, 'Object is not in this List')\n\t\treturn node\n\t}\n\tassert(0, 'Object is not in List')\n}\n\nfunction __siblingObj(list, obj, key) {\n\tconst node = __getNode(list, obj)\n\tlet sibling = node[key]\n\tif (sibling) {\n\t\twhile (!sibling[3]) {\n\t\t\tsibling = sibling[key]\n\t\t\tif (!sibling) return\n\t\t}\n\t\treturn sibling[0]\n\t}\n}\n\nfunction __remove(list, node) {\n\tconst prev = node[1],\n\t\tnext = node[2]\n\tif (prev) {\n\t\tprev[2] = next\n\t} else {\n\t\tlist.head = next\n\t}\n\tif (next) {\n\t\tnext[1] = prev\n\t} else {\n\t\tlist.tail = prev\n\t}\n\tnode.length = 1\n}\n\nfunction __clean(list) {\n\tlet node, next = list.head\n\twhile (node = next) {\n\t\tnext = node[2]\n\t\tnode.length = 1\n\t}\n\tlist.head = undefined\n\tlist.tail = undefined\n\tlist.length = 0\n}\n\nfunction __doLazyRemove(list) {\n\tconst { lazyRemoves } = list\n\tif (lazyRemoves) {\n\t\tvar len = lazyRemoves.length\n\t\tif (len) {\n\t\t\tif (list.length) {\n\t\t\t\twhile (len--)\n\t\t\t\t\t__remove(list, lazyRemoves[len])\n\t\t\t} else {\n\t\t\t\t__clean(list)\n\t\t\t}\n\t\t\tlazyRemoves.length = 0\n\t\t}\n\t}\n}\n","/*\n * Function List\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:59:11\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-06 13:57:17\n */\nimport { assert } from 'devlevel'\nimport List from './List'\nimport { inherit, create, defPropValue } from '../helper'\n\nexport const DEFAULT_FN_BINDING = '__id__'\nexport const DEFAULT_SCOPE_BINDING = '__id__'\nexport default function FnList(fnBinding, scopeBinding) {\n\tthis.nodeMap = create(null)\n\tthis.list = new List()\n\tthis.fnBinding = fnBinding || DEFAULT_FN_BINDING\n\tthis.scopeBinding = scopeBinding || DEFAULT_SCOPE_BINDING\n}\n\ndefPropValue(FnList, 'fnBinding', DEFAULT_FN_BINDING)\ndefPropValue(FnList, 'scopeBinding', DEFAULT_FN_BINDING)\n\ninherit(FnList, {\n\tadd(fn, scope, data) {\n\t\tassert.fn(fn, 'fn is not a Function.')\n\t\tscope = parseScope(scope)\n\t\tconst { list, nodeMap } = this\n\t\tconst id = nodeId(fn, scope, this)\n\t\tlet node = nodeMap[id]\n\t\tif (!node) {\n\t\t\tnode = [id, fn, scope, data]\n\t\t\tvar ret = list.add(node)\n\t\t\tif (ret) nodeMap[id] = node\n\t\t\treturn ret\n\t\t}\n\t},\n\tremove(fn, scope) {\n\t\tassert.fn(fn, 'fn is not a Function.')\n\t\tconst { list, nodeMap } = this\n\t\tconst id = nodeId(fn, parseScope(scope), this)\n\t\tconst node = nodeMap[id]\n\t\tif (node) {\n\t\t\tnodeMap[id] = undefined\n\t\t\treturn list.remove(node)\n\t\t}\n\t\treturn false\n\t},\n\thas(fn, scope) {\n\t\tassert.fn(fn, 'fn is not a Function.')\n\t\treturn !!this.nodeMap[nodeId(fn, parseScope(scope), this)]\n\t},\n\tsize() {\n\t\treturn this.list.length\n\t},\n\tclean() {\n\t\tthis.nodeMap = create(null)\n\t\tthis.list.clean()\n\t},\n\teach(cb, scope) {\n\t\tassert.fn(cb, 'callback is not a Function.')\n\t\tif (scope) cb = cb.bind(scope)\n\t\tthis.list.each((node) => cb(node[1], node[2], node[3]))\n\t}\n})\n\nconst DEFAULT_SCOPE_ID = 1\nlet scopeIdGenerator = 1,\n\tfnIdGenerator = 0\n\nfunction nodeId(fn, scope, list) {\n\tconst { fnBinding, scopeBinding } = list\n\n\tlet fnId = fn[fnBinding],\n\t\tscopeId = scope ? scope[scopeBinding] : DEFAULT_SCOPE_ID\n\tif (!fnId)\n\t\tfnId = defPropValue(fn, fnBinding, ++fnIdGenerator)\n\tif (!scopeId)\n\t\tscopeId = defPropValue(scope, scopeBinding, ++scopeIdGenerator)\n\treturn `${fnId}&${scopeId}`\n}\n\nfunction parseScope(scope) {\n\treturn (!scope) ? undefined : scope\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:59:58\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 17:59:58\n */\nimport { assert } from 'devlevel'\nimport FnList from './FnList'\n\nconst ticks = new FnList()\nlet pending = false\nlet next\n\nfunction executeTick(fn, scope) {\n\tscope ? fn.call(scope) : fn()\n}\n\nfunction flush() {\n\tticks.each(executeTick)\n\tticks.clean()\n\tpending = false\n}\n\nif (typeof MutationObserver === 'function') { // chrome18+, safari6+, firefox14+,ie11+,opera15\n\tvar counter = 0,\n\t\tobserver = new MutationObserver(flush),\n\t\ttextNode = document.createTextNode(counter)\n\tobserver.observe(textNode, {\n\t\tcharacterData: true\n\t})\n\tnext = function () {\n\t\ttextNode.data = (counter = counter ? 0 : 1)\n\t}\n} else {\n\tnext = function () {\n\t\tsetTimeout(flush, 0)\n\t}\n}\n\nexport function nextTick(fn, scope) {\n\tticks.add(fn, scope)\n\tif (!pending) {\n\t\tpending = true\n\t\tnext()\n\t}\n}\n\nexport function clearTick(fn, scope) {\n\tticks.remove(fn, scope)\n}\n","/*\n * String format\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-07-25 14:57:08\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-11-05 15:57:16\n */\nimport { PROTOTYPE } from '../helper/constants'\n\nconst STR_ESCAPE_MAP = {\n\t\t'\\n': '\\\\n',\n\t\t'\\t': '\\\\t',\n\t\t'\\f': '\\\\f',\n\t\t'\"': '\\\\\"'\n\t},\n\tSTR_ESCAPE = /[\\n\\t\\f\"]/g\n\nexport function escapeString(str) {\n\treturn str.replace(STR_ESCAPE, str => STR_ESCAPE_MAP[str])\n}\n\nexport function pad(str, len, chr, leftAlign) {\n\tstr = String(str)\n\tconst l = str.length\n\tif (l >= len) return str\n\n\tconst padding = (new Array(len - l + 1)).join(chr || ' ')\n\treturn leftAlign ? str + padding : padding + str\n}\n\nfunction replacor(regs) {\n\treturn function (str) {\n\t\tfor (let i = 0, reg; i < 4; i++) {\n\t\t\treg = regs[i]\n\t\t\tif (reg[0].test(str))\n\t\t\t\treturn str.replace(reg[0], reg[1])\n\t\t}\n\t\treturn str\n\t}\n}\n\nexport const plural = replacor([\n\t[/([a-zA-Z]+[^aeiou])y$/, '$1ies'],\n\t[/([a-zA-Z]+[aeiou]y)$/, '$1s'],\n\t[/([a-zA-Z]+[sxzh])$/, '$1es'],\n\t[/([a-zA-Z]+[^sxzhy])$/, '$1s']\n])\n\nexport const singular = replacor([\n\t[/([a-zA-Z]+[^aeiou])ies$/, '$1y'],\n\t[/([a-zA-Z]+[aeiou])s$/, '$1'],\n\t[/([a-zA-Z]+[sxzh])es$/, '$1'],\n\t[/([a-zA-Z]+[^sxzhy])s$/, '$1']\n])\n\nconst thousandSeparationReg = /(\\d)(?=(\\d{3})+(?!\\d))/g\nexport function thousandSeparate(number) {\n\tlet split = (number + '').split('.')\n\tsplit[0] = split[0].replace(thousandSeparationReg, '$1,')\n\treturn split.join('.')\n}\n\n// ========================== formatter ===========================\n// [index]    [flags]   [min-width]       [precision]         type\n// index$|$   ,-+#0     width|index$|*|$  .width|.index$|*|$  %sfducboxXeEgGpP\nconst formatReg = /%(\\d+\\$|\\*|\\$)?([-+#0, ]*)?(\\d+\\$?|\\*|\\$)?(\\.\\d+\\$?|\\.\\*|\\.\\$)?([%sfducboxXeEgGpP])/g\nconst slice = Array[PROTOTYPE].slice\n\n\nfunction _format(str, args) {\n\tlet index = 0\n\n\t// for min-width & precision\n\tfunction parseWidth(width) {\n\t\tif (!width) {\n\t\t\twidth = 0\n\t\t} else if (width == '*') {\n\t\t\twidth = +args[index++]\n\t\t} else if (width == '$') {\n\t\t\twidth = +args[index]\n\t\t} else if (width.charAt(width.length - 1) == '$') {\n\t\t\twidth = +args[width.slice(0, -1) - 1]\n\t\t} else {\n\t\t\twidth = +width\n\t\t}\n\t\treturn isFinite(width) ? width < 0 ? undefined : width : undefined\n\t}\n\n\t// for index\n\tfunction parseArg(i) {\n\t\tif (!i || i == '*')\n\t\t\treturn args[index++]\n\t\tif (i == '$')\n\t\t\treturn args[index]\n\t\treturn args[i.slice(0, -1) - 1]\n\t}\n\n\tstr = str.replace(formatReg, function (match, idx, flags, minWidth, precision, type) {\n\t\tif (type === '%') return '%'\n\n\t\tlet value = parseArg(idx)\n\t\tminWidth = parseWidth(minWidth)\n\t\tprecision = precision && parseWidth(precision.slice(1))\n\t\tif (!precision && precision !== 0)\n\t\t\tprecision = 'fFeE'.indexOf(type) == -1 && (type == 'd') ? 0 : undefined\n\n\t\tlet leftJustify = false,\n\t\t\tpositivePrefix = '',\n\t\t\tzeroPad = false,\n\t\t\tprefixBaseX = false,\n\t\t\tthousandSeparation = false,\n\t\t\tprefix,\n\t\t\tbase,\n\t\t\tc, i, j\n\n\t\tfor (i = 0, j = flags && flags.length; i < j; i++) {\n\t\t\tc = flags.charAt(i)\n\t\t\tswitch (c) {\n\t\t\tcase ' ':\n\t\t\tcase '+':\n\t\t\t\tpositivePrefix = c\n\t\t\t\tbreak\n\t\t\tcase '-':\n\t\t\t\tleftJustify = true\n\t\t\t\tbreak\n\t\t\tcase '0':\n\t\t\t\tzeroPad = true\n\t\t\t\tbreak\n\t\t\tcase '#':\n\t\t\t\tprefixBaseX = true\n\t\t\t\tbreak\n\t\t\tcase ',':\n\t\t\t\tthousandSeparation = true\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tswitch (type) {\n\t\tcase 'c':\n\t\t\tvalue = +value\n\t\t\tvalue = isNaN(value) || !isFinite(value) ? '' : String.fromCharCode(value)\n\t\t\tif (value.length < minWidth)\n\t\t\t\tvalue = pad(value, minWidth, zeroPad ? '0' : ' ', leftJustify)\n\t\t\treturn value\n\t\tcase 's':\n\t\t\tif (value === undefined || value === null || (typeof value === 'number' && (isNaN(value) || !isFinite(value)))) {\n\t\t\t\tvalue = ''\n\t\t\t} else {\n\t\t\t\tvalue += ''\n\t\t\t\tif (precision && value.length > precision)\n\t\t\t\t\tvalue = value.slice(0, precision)\n\t\t\t}\n\t\t\tif (value.length < minWidth)\n\t\t\t\tvalue = pad(value, minWidth, zeroPad ? '0' : ' ', leftJustify)\n\t\t\treturn value\n\t\tcase 'd':\n\t\t\tvalue = parseInt(value)\n\t\t\tif (isNaN(value) || !isFinite(value)) {\n\t\t\t\tvalue = ''\n\t\t\t\tprefix = positivePrefix\n\t\t\t} else {\n\t\t\t\tif (value < 0) {\n\t\t\t\t\tprefix = '-'\n\t\t\t\t\tvalue = (-value)\n\t\t\t\t} else {\n\t\t\t\t\tprefix = positivePrefix\n\t\t\t\t}\n\t\t\t\tvalue += ''\n\t\t\t}\n\t\t\tif (value.length < minWidth)\n\t\t\t\tvalue = pad(value, minWidth, '0', false)\n\t\t\tif (thousandSeparation)\n\t\t\t\tvalue = value.replace(thousandSeparationReg, '$1,')\n\t\t\treturn prefix + value\n\t\tcase 'e':\n\t\tcase 'E':\n\t\tcase 'f':\n\t\tcase 'g':\n\t\tcase 'G':\n\t\tcase 'p':\n\t\tcase 'P':\n\t\t\t{\n\t\t\t\tlet number = +value\n\t\t\t\tif (isNaN(number) || !isFinite(value)) {\n\t\t\t\t\tnumber = ''\n\t\t\t\t} else {\n\t\t\t\t\tif (number < 0) {\n\t\t\t\t\t\tprefix = '-'\n\t\t\t\t\t\tnumber = -number\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprefix = positivePrefix\n\t\t\t\t\t}\n\n\t\t\t\t\tswitch (type.toLowerCase()) {\n\t\t\t\t\tcase 'f':\n\t\t\t\t\t\tnumber = precision === undefined ? number + '' : number.toFixed(precision)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'e':\n\t\t\t\t\t\tnumber = number.toExponential(precision)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'g':\n\t\t\t\t\t\tnumber = precision === undefined ? number + '' : number.toPrecision(precision)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'p':\n\t\t\t\t\t\tif (precision !== undefined) {\n\t\t\t\t\t\t\tlet sf = String(value).replace(/[eE].*|[^\\d]/g, '')\n\t\t\t\t\t\t\tsf = (number ? sf.replace(/^0+/, '') : sf).length\n\t\t\t\t\t\t\tprecision = Math.min(precision, sf)\n\t\t\t\t\t\t\tnumber = number[(!precision || precision <= sf) ? 'toPrecision' : 'toExponential'](precision)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnumber += ''\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (number.length < minWidth)\n\t\t\t\t\tnumber = pad(number, minWidth, '0', false)\n\t\t\t\tif (thousandSeparation) {\n\t\t\t\t\tlet split = number.split('.')\n\t\t\t\t\tsplit[0] = split[0].replace(thousandSeparationReg, '$1,')\n\t\t\t\t\tnumber = split.join('.')\n\t\t\t\t}\n\t\t\t\tvalue = prefix + number\n\t\t\t\tif ('EGP'.indexOf(type) != -1)\n\t\t\t\t\treturn value.toUpperCase()\n\t\t\t\treturn value\n\t\t\t}\n\t\tcase 'b':\n\t\t\tbase = 2\n\t\t\tbreak\n\t\tcase 'o':\n\t\t\tbase = 8\n\t\t\tbreak\n\t\tcase 'u':\n\t\t\tbase = 10\n\t\t\tbreak\n\t\tcase 'x':\n\t\tcase 'X':\n\t\t\tbase = 16\n\t\t\tbreak\n\t\tcase 'n':\n\t\t\treturn ''\n\t\tdefault:\n\t\t\treturn match\n\t\t}\n\t\tlet number = value >>> 0\n\t\tprefix = prefixBaseX && base != 10 && number && ['0b', '0', '0x'][base >> 3] || ''\n\t\tnumber = number.toString(base)\n\t\tif (number.length < minWidth)\n\t\t\tnumber = pad(number, minWidth, '0', false)\n\t\tvalue = prefix + number\n\t\tif (type == 'X') return value.toUpperCase()\n\t\treturn value\n\t})\n\n\treturn {\n\t\tformat: str, // format result\n\t\tcount: index // format param count\n\t}\n}\n\nexport function format(str) {\n\treturn _format(str, slice.call(arguments, 1)).format\n}\n\nformat.format = _format\n","/*\n * property path\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 18:00:02\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 18:00:02\n */\nimport { assert } from 'devlevel'\nimport { create, isArray } from '../helper'\n\nconst pathCache = create(null),\n\tpathReg = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,\n\tescapeCharReg = /\\\\(\\\\)?/g,\n\tformatReg = /(?:\\.|^)([^a-zA-Z_$][^.]*)/g\n\nexport function parsePath(path, cache) {\n\tif (isArray(path)) return path\n\n\tassert.str(path, `Require path[Array | String]`)\n\n\tlet rs = pathCache[path]\n\tif (!rs) {\n\t\trs = []\n\t\tif (cache !== false) pathCache[path] = rs\n\t\tpath.replace(pathReg, function (match, number, quote, string) {\n\t\t\trs.push(quote ? string.replace(escapeCharReg, '$1') : (number || match))\n\t\t})\n\t}\n\treturn rs.slice()\n}\n\nexport function formatPath(path) {\n\tif (isArray(path))\n\t\treturn path.join('.').replace(formatReg, formatHandle)\n\tassert.str(path, `Require path[Array | String]`)\n\treturn path\n}\n\nfunction formatHandle(m, i) {\n\treturn `['${i}']`\n}\n\n\nexport function get(obj, path) {\n\tpath = parsePath(path)\n\tconst l = path.length - 1\n\tif (l === -1) return obj\n\tlet i = 0\n\tfor (; i < l; i++) {\n\t\tobj = obj[path[i]]\n\t\tif (obj === null || obj === undefined)\n\t\t\treturn undefined\n\t}\n\treturn obj ? obj[path[i]] : undefined\n}\n\nexport function set(obj, path, value) {\n\tpath = parsePath(path)\n\tconst l = path.length - 1\n\tif (l === -1) return\n\tlet attr, v, i = 0\n\tfor (; i < l; i++) {\n\t\tattr = path[i]\n\t\tv = obj[attr]\n\t\tif (!v) obj[attr] = v = {}\n\t\tobj = v\n\t}\n\tattr = path[i]\n\tobj[attr] = value\n}\n","import { assert, error } from 'devlevel'\nimport {\n\tinherit,\n\tisObj,\n\tisFn,\n\tisStr,\n\tisNum,\n\tisInt,\n\tisArray,\n\tisBool,\n\tisReg,\n\tapplyNoScope,\n\treEscape,\n\tregStickySupport,\n\tmakeMap,\n\tassign\n} from '../helper'\nimport { pad, escapeString } from './format'\n\n// ================================================\n// Text Stream\n// ================================================\nconst LINE_REG = /\\n/g\n\nfunction Stream(buff) {\n\tthis.orgbuff = buff\n\tthis.orglen = buff.length\n\t// [buff, offset, orgoffset, prev, char code cache]\n\tconst curr = [buff, 0, 0, null, null]\n\tthis.curr = curr\n\tthis.stack = [curr]\n}\ninherit(Stream, {\n\tenter() {\n\t\tlet { curr } = this\n\t\t// [buff, offset, orgoffset, prev, char code cache]\n\t\tthis.curr = curr = [curr[0], curr[1], curr[2], curr, null]\n\t\tthis.stack.push(curr)\n\t},\n\treset() {\n\t\tconst { curr } = this\n\t\tconst prev = curr[3]\n\t\tif (curr[2] !== prev[2]) {\n\t\t\tcurr[0] = prev[0]\n\t\t\tcurr[1] = prev[1]\n\t\t\tcurr[2] = prev[2]\n\t\t\tcurr[4] = null\n\t\t\treturn true\n\t\t}\n\t},\n\texit() {\n\t\tconst curr = this.stack.pop()\n\t\tthis.curr = curr[3]\n\t},\n\tcommit() {\n\t\tconst curr = this.stack.pop(),\n\t\t\tprev = curr[3]\n\t\tthis.curr = prev\n\t\tprev[0] = curr[0]\n\t\tprev[1] = curr[1]\n\t\tprev[2] = curr[2]\n\t\tprev[4] = curr[4]\n\t},\n\tbuff(reset) {\n\t\tconst { curr } = this\n\t\tif (reset) {\n\t\t\tcurr[0] = curr[0].substring(curr[1])\n\t\t\tcurr[1] = 0\n\t\t}\n\t\treturn curr[0]\n\t},\n\toffset() {\n\t\treturn this.curr[1]\n\t},\n\torgOffset() {\n\t\treturn this.curr[2]\n\t},\n\tupOrgOffset() {\n\t\tconst prev = this.curr[3]\n\t\treturn prev ? prev[2] : 0\n\t},\n\tnextCode() {\n\t\tconst { curr } = this\n\t\tif (curr[4] === null)\n\t\t\tcurr[4] = curr[2] < this.orglen ? curr[0].charCodeAt(curr[1]) : 0\n\t\treturn curr[4]\n\t},\n\tconsume(len) {\n\t\tif (len) {\n\t\t\tconst { curr } = this\n\t\t\tcurr[1] += len\n\t\t\tcurr[2] += len\n\t\t\tcurr[4] = null\n\t\t}\n\t},\n\tposition(offset) {\n\t\tconst { orgbuff } = this\n\t\tlet line = 0,\n\t\t\tlineOffset = 0\n\n\t\twhile (LINE_REG.exec(orgbuff) && offset >= LINE_REG.lastIndex) {\n\t\t\tlineOffset = LINE_REG.lastIndex\n\t\t\tline++\n\t\t}\n\t\tLINE_REG.lastIndex = 0\n\t\treturn [line, offset - lineOffset]\n\t},\n\tsource() {\n\t\tconst { orgbuff } = this\n\t\tlet line = 1\n\t\treturn ` 0: ${orgbuff.replace(LINE_REG, ()=>`\\n${pad((line++), 2)}: `)}`\n\t}\n})\n\n// ================================================\n// Rule Base API\n// ================================================\nlet idGen = 0\n\nexport const MatchResult = inherit(function MatchResult(parent) {\n\tthis.parent = parent\n\tthis.data = []\n}, {\n\tadd(data) {\n\t\tthis.data.push(data)\n\t},\n\taddAll(datas) {\n\t\tconst { data } = this\n\t\tconst len = data.length\n\t\tlet i = datas.length\n\t\twhile (i--)\n\t\t\tdata[len + i] = datas[i]\n\t},\n\tempty() {\n\t\tthis.setLen(0)\n\t},\n\tsetLen(len) {\n\t\tconst { data } = this\n\t\tif (data.length > len) data.length = len\n\t}\n})\n\n/**\n * static Rule options\n */\nexport function UNATTACH() {}\nexport const UNCAPTURABLE = {\n\t\tcapturable: false\n\t},\n\tUNATTACH_CAPTURABLE = {\n\t\tattach: UNATTACH,\n\t\tcapturable: false\n\t}\n\nfunction defaultErrorMsg(err) {\n\treturn err\n}\n\nfunction defaultAttach(data, rs) {\n\trs.add(data)\n}\n\nfunction defaultRuleTest() {\n\treturn true\n}\n\nconst OPTION_ATTACH = 'attach',\n\tOPTION_ERROR = 'error',\n\tOPTION_CAPTURABLE = 'capturable'\n/**\n * Rule Interface\n *\n * Overrides:\n *      Rule(name, attachFunction: <Function>)\n *\n *      Rule(name, errorMsg: <String>)\n *\n * @param {String}                  name                rule name\n * @param {Function|String|Object}  option              rule option\n * @param {Function}                option.attach       data attach callback\n * @param {Boolean}                 option.capturable   error is capturable\n * @param {Function|String}         option.error        error message or error message callback\n */\nexport function Rule(name, option) {\n\tthis.id = idGen++\n\tthis.name = name\n\tlet capturable = true,\n\t\tattach = null,\n\t\tmsg = null\n\n\tif (isObj(option)) {\n\t\tattach = option[OPTION_ATTACH]\n\t\tmsg = option[OPTION_ERROR]\n\t\tcapturable = option[OPTION_CAPTURABLE] !== false\n\t} else if (isFn(option)) {\n\t\tattach = option\n\t} else if (isStr(option)) {\n\t\tmsg = option\n\t}\n\tthis.capturable = capturable\n\tthis.attach = isFn(attach) ? attach : defaultAttach\n\tthis.msg = isStr(msg) ? () => msg : isFn(msg) ? msg : defaultErrorMsg\n}\ninherit(Rule, {\n\t$rule: true,\n\terror(stream, err, capturable, srcErr) {\n\t\terr = [stream.orgOffset(), this.msg(err), capturable && srcErr ? srcErr[2] : capturable, srcErr, this]\n\t\terr.$err = true\n\t\treturn err\n\t},\n\tsuccess(stream, data, result) {\n\t\tconst curr = stream.curr,\n\t\t\terr = this.attach(data, result, stream, this)\n\n\t\tassert(stream.curr == curr)\n\n\t\treturn err && !err.$err ? this.error(stream, err, false) : err\n\t},\n\tsetExpr(expr) {\n\t\tthis.defName = this.mkExpr(expr)\n\t\tthis.EXPECT = `Expect: ${expr}`\n\t},\n\tmkExpr(expr) {\n\t\treturn `<${this.type}: ${expr}>`\n\t},\n\ttoString() {\n\t\treturn this.name || this.defName\n\t},\n\tgetStart() { return [] },\n\ttest: defaultRuleTest\n})\n\n\n// ================================================\n// Match Rule API\n// ================================================\n\nfunction testRuleByIndex(stream) {\n\treturn this.index[stream.nextCode()]\n}\n\n/**\n * match rule interface\n *\n * @param {String}                              name        rule name\n * @param {Int | String | Array<String | Int>}  startCodes  start codes in match\n * @param {Boolean}                             ignoreCase  is match ignore case\n * @param {?}                                   option      see Rule Constructor\n */\nexport const MatchRule = inherit(function MatchRule(name, startCodes, ignoreCase, option) {\n\tRule.call(this, name, option)\n\n\tconst start = [],\n\t\tindex = []\n\teachCharCodes(startCodes, ignoreCase, code => {\n\t\tif (!index[code]) {\n\t\t\tstart.push(code)\n\t\t\tindex[code] = code\n\t\t}\n\t})\n\tthis.start = start\n\tthis.index = index\n\tthis.test = start.length ? testRuleByIndex : defaultRuleTest\n}, Rule, {\n\tcomsume(stream, data, len, result) {\n\t\tstream.consume(len)\n\t\treturn this.success(stream, data, result)\n\t},\n\tgetStart() {\n\t\treturn this.start\n\t}\n})\n\n// ================================================\n// Char Match Rule\n// ================================================\n\nfunction defaultCharMatchRuleTest() {\n\treturn stream.nextCode()\n}\n/**\n * match one char which in allow list\n * well match every char when allows is empty\n *\n * @param {String}                              name        rule name\n * @param {Int | String | Array<String | Int>}  allows      which char can be matched\n *                                                          well match every char when allows is empty\n * @param {Boolean}                             ignoreCase  is match ignore case\n * @param {?}                                   option      see Rule Constructor\n */\nexport const CharMatchRule = inherit(function CharMatchRule(name, allows, ignoreCase, option) {\n\tMatchRule.call(this, name, allows, ignoreCase, option)\n\n\tconst codes = this.start\n\tlet i = codes.length,\n\t\texpr = '*'\n\tif (i) {\n\t\tconst chars = []\n\t\twhile (i--) chars[i] = String.fromCharCode(codes[i])\n\t\texpr = `\"${chars.join('\" | \"')}\"`\n\t} else {\n\t\tthis.test = defaultCharMatchRuleTest\n\t}\n\tthis.setExpr(expr)\n}, MatchRule, {\n\ttype: 'Character',\n\tmatch: function charMatch(stream, result) {\n\t\treturn this.comsume(stream, String.fromCharCode(stream.nextCode()), 1, result)\n\t}\n})\n\n// ================================================\n// Regexp Match Rule\n// ================================================\n/**\n * match by RegExp\n *\n * optimization:\n *      Priority use sticky mode\n *\n * @param {String}                              name        rule name\n * @param {RegExp}                              regexp      regexp\n * @param {Int | Boolean}                       pick        pick match result\n *                                                          0       : [default] pick match[0]\n *                                                                    optimize: test and substring in sticky mode\n *                                                          pick > 0: pick match[pick]\n *                                                          pick < 0: pick first matched group\n *                                                          true    : pick match\n *                                                          false   : no data pick\n *                                                                    optimize: just test string in sticky mode\n * @param {Int | String | Array<String | Int>}  startCodes  start codes of regexp\n * @param {?}                                   option      see Rule Constructor\n */\nexport const RegMatchRule = inherit(function RegMatchRule(name, regexp, pick, startCodes, option) {\n\n\tpick = pick === false || isInt(pick) ? pick : !!pick || 0\n\n\tconst sticky = regStickySupport && !pick, // use exec when need pick match group data\n\t\tpattern = regexp.source,\n\t\tignoreCase = regexp.ignoreCase\n\n\t// always wrapping in a none capturing group preceded by '^' to make sure\n\t// matching can only work on start of input. duplicate/redundant start of\n\t// input markers have no meaning (/^^^^A/ === /^A/)\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/sticky\n\t// When the y flag is used with a pattern, ^ always matches only at the\n\t// beginning of the input, or (if multiline is true) at the beginning of a\n\t// line.\n\tregexp = new RegExp(sticky ? pattern : `^(?:${pattern})`,\n\t\t(ignoreCase ? 'i' : '') + (regexp.multiline ? 'm' : '') + (sticky ? 'y' : ''))\n\n\tMatchRule.call(this, name, startCodes, ignoreCase, option)\n\n\tthis.regexp = regexp\n\tthis.pick = pick\n\tthis.match = createRegMatchRulePolicy(name || `reg${this.id}`, sticky, pick)\n\n\tthis.setExpr(regexp.toString())\n}, MatchRule, {\n\ttype: 'RegExp'\n})\n\n/**\n * generate match function\n *\n * sticky mode:\n *      var reg = this.regexp,\n *          buff = stream.buff(),\n *          start = stream.offset()\n *      reg.lastIndex = start\n *      if (reg.test(buff))\n *          return this.comsume(stream,\n *                              this.pick === false ? null : buff.substring(start, reg.lastIndex),\n *                              reg.lastIndex - start)\n *      return this.error(stream, this.EXPECT, this.capturable, result);\n *\n * unsticky mode:\n *      var m = this.regexp.exec(stream.buff(true))\n *      if (m) {\n *          var pick = this.pick,\n *              pickData\n *          if (pick < 0) {\n *              pick = -pick\n *              for(var i = 1; i <= pick; i++) {\n *                  if (m[i]) {\n *                      pickData = m[i]\n *                      break\n *                  }\n *              }\n *          }else {\n *              pickData = pick === true ? m : m[pick || 0]\n *          }\n *          return this.comsume(stream, pickData, m[0].length, result)\n *      }\n *      return this.error(stream, this.EXPECT, this.capturable);\n *\n */\nfunction createRegMatchRulePolicy(name, sticky, pick) {\n\tconst R = `this.regexp`,\n\t\tSTREAM = 'stream',\n\t\tS_BUFF = `${STREAM}.buff`,\n\t\tLIDX = `r.lastIndex`\n\n\tname += `_${sticky ? 'test' : 'exec'}_pick_${pick===true?'all' : pick < 0 ? 'one_'+(-pick): pick || 0}`\n\n\tlet code = sticky ?\n\t\t// sticky mode\n\t\t`var r = ${R}, b = ${S_BUFF}(), s = ${STREAM}.offset();\n\\t${LIDX} = s;\n\\tif (r.test(b))\n\\t\\t${consumCode(pick === false ? 'null': `b.substring(s, ${LIDX})`, `${LIDX} - s`)}` :\n\t\t// unsticky mode\n\t\t`var m = ${R}.exec(${S_BUFF}(true));\n\\tif (m)\n\\t\\t${consumCode(pick < 0 ? pickCode(-pick) : `m${pick === true ? '' : `[${pick || 0}]`}` , 'm[0].length')}`\n\n\treturn new Function(`return function ${name}(${STREAM}, rs){\n\\t${code}\n\\treturn this.error(${STREAM}, this.EXPECT, this.capturable);\n}`)()\n\n\tfunction consumCode(data, len) {\n\t\treturn `return this.comsume(${STREAM}, ${data}, ${len}, rs)`;\n\t}\n\n\tfunction pickCode(pick) {\n\t\tlet arr = []\n\t\tfor (var i = 1; i <= pick; i++)\n\t\t\tarr.push(`m[${i}]`)\n\t\treturn arr.join(' || ')\n\t}\n}\n\n// ================================================\n// String Match Rule\n// ================================================\n/**\n * match string\n *\n * @param {String}  name        rule name\n * @param {String}  str         match string\n * @param {Boolean} ignoreCase  is match ignore case\n * @param {?}       option      see Rule Constructor\n */\nexport const StrMatchRule = inherit(function StrMatchRule(name, str, ignoreCase, option) {\n\tRegMatchRule.call(this, name, new RegExp(reEscape(str), ignoreCase ? 'i' : ''), 0, str.charCodeAt(0), option)\n\tthis.setExpr(str)\n}, RegMatchRule, {\n\ttype: 'String'\n})\n\n\n// ================================================\n// Match API\n// ================================================\n/**\n *\n * Overrides:\n *      match(name, regexp, pick, start, option)\n *\n *      match(name, regexp, start, option)\n *\n *      match(name, regexp, option: <Object>)\n *\n *      match(regexp, pick, start, option)\n *\n *      match(regexp, start, option)\n *\n *      match(regexp, option)\n *\n *      match(name, str, ignoreCase, option)\n *\n *      match(name, str, option)\n *\n *      match(str, ignoreCase, option)\n *\n *      match(str, option: <Object>)\n *\n *      match({\n *           name,\n *           pattern: <String>\n *           ignoreCase,\n *           // option...\n *           attach: <Function>,\n *           capturable: <Boolean>,\n *           error: <Function|String>\n *      })\n *      match({\n *           name,\n *           pattern: <RegExp>\n *           pick,\n *           startCodes,\n *           // option...\n *           attach: <Function>,\n *           capturable: <Boolean>,\n *           error: <Function|String>\n *      })\n *\n * @param {String}                              name        [Option] rule name\n * @param {String | RegExp}                     pattern     match pattern: String pattern | RegExp pattern\n * @param {Boolean}                             ignoreCase  [Option] [String pattern] is match ignore Case\n * @param {Int | true}                          pick        [Option] [RegExp pattern] pick match result, default: 0\n * @param {Int | String | Array<Int | String>}  startCodes  [Option] [RegExp pattern] start codes of RegExp\n * @param {?}                                   option      [Option] see Rule Constructor\n * @return {MatchRule}\n */\nexport function match(name, pattern) {\n\tconst args = arguments\n\tlet i = 2\n\n\tif (isReg(name) || !(isReg(pattern) || isStr(pattern))) {\n\t\tpattern = name\n\t\tname = null\n\t\ti = 1\n\t}\n\n\tif (isReg(pattern)) {\n\t\tvar pick = args[i++],\n\t\t\tstartCodes = args[i++],\n\t\t\toption = args[i++]\n\n\t\tif (!isBool(pick) && !isInt(pick)) {\n\t\t\toption = startCodes\n\t\t\tstartCodes = pick\n\t\t\tpick = 0\n\t\t}\n\t\tif (!isStr(startCodes) && !isNum(startCodes) && !isArray(startCodes)) {\n\t\t\toption = startCodes\n\t\t\tstartCodes = null\n\t\t}\n\t\treturn regMatch(name, pattern, pick, startCodes, option)\n\t}\n\n\tif (isStr(pattern) || isArray(pattern)) { // string pattern | char[] pattern\n\t\tvar ignoreCase = args[i++],\n\t\t\toption = args[i++]\n\n\t\tif (!isBool(ignoreCase)) {\n\t\t\toption = ignoreCase\n\t\t\tignoreCase = false\n\t\t}\n\t\treturn strMatch(name, pattern, ignoreCase, option)\n\t}\n\n\tif (isObj(pattern)) {\n\t\tconst _pattern = pattern.pattern,\n\t\t\tname = pattern.name,\n\t\t\toption = pattern.option\n\t\tif (isReg(_pattern))\n\t\t\treturn regMatch(name, _pattern, pattern.pick, pattern.startCodes, option)\n\t\tif (isStr(_pattern))\n\t\t\treturn strMatch(name, _pattern, pattern.ignoreCase, option)\n\t}\n\terror(`Invalid Match Rule: ${pattern}`)\n}\n\nfunction strMatch(name, pattern, ignoreCase, option) {\n\tconst C = isArray(pattern) || pattern.length <= 1 ? CharMatchRule : StrMatchRule\n\treturn new C(name, pattern, ignoreCase, option)\n}\n\nconst REG_ESPEC_CHARS = makeMap('dDsStrnt0cbBfvwW', '', 1)\n\nfunction regMatch(name, pattern, pick, startCodes, option) {\n\tconst source = pattern\n\tif (!pick) {\n\t\tvar c = 0\n\t\tif (source.length == 1 && source !== '^' && source !== '$') {\n\t\t\tc = source === '.' ? '' : source\n\t\t} else if (source.length == 2 && source[0] === '\\\\' && REG_ESPEC_CHARS[source[1]]) {\n\t\t\tc = source[1]\n\t\t}\n\t\tif (c != 0)\n\t\t\treturn strMatch(name, c, pattern.ignoreCase, option)\n\t}\n\treturn new RegMatchRule(name, pattern, pick, startCodes, option)\n}\n\n// ================================================\n// Char Code Tools\n// ================================================\nfunction eachCharCodes(codes, ignoreCase, cb) {\n\tif (isStr(codes)) {\n\t\tvar i = codes.length\n\t\twhile (i--) eachCharCode(codes.charCodeAt(i), ignoreCase, cb)\n\t} else if (isArray(codes)) {\n\t\tvar i = codes.length\n\t\twhile (i--) eachCharCodes(codes[i], ignoreCase, cb)\n\t} else if (isInt(codes)) {\n\t\teachCharCode(codes, ignoreCase, cb)\n\t}\n}\n\nfunction eachCharCode(code, ignoreCase, cb) {\n\tcb(code)\n\tif (ignoreCase) {\n\t\tif (code <= 90) {\n\t\t\tif (code >= 65) cb(code + 32)\n\t\t} else if (code <= 122) {\n\t\t\tcb(code - 32)\n\t\t}\n\t}\n}\n\n// ================================================\n// Complex Rule API\n// ================================================\n\n/**\n * complex rule interface\n *\n * @param {String}              name        rule name\n * @param {Function|Array|...}  rules       complex rules\n * @param {?}                   option      see Rule Constructor\n */\nexport const ComplexRule = inherit(function ComplexRule(name, rules, option) {\n\tRule.call(this, name, option)\n\n\tconst getRules = this.getRules\n\n\tthis.getRules = function getLazyRules() {\n\t\tthis.getRules = getRules\n\n\t\tthis.rules = rules = parseComplexRules(this, isFn(rules) ? rules() : rules, [])\n\t\tconst len = this.len = rules.length\n\t\tassert(len, `Require Rules`)\n\n\t\t// parse Expression\n\t\tconst names = this.subNames()\n\t\tthis.setExpr(names.join(this.split))\n\n\t\tfor (let i = 0; i < len; i++)\n\t\t\tnames[i] = `Expect[${i}]: ${names[i]}`\n\t\tthis.EXPECTS = names\n\n\t\tthis.__init(rules, len)\n\n\t\treturn this.getRules()\n\t}\n}, Rule, {\n\t/**\n\t * parse buffer\n\t *\n\t * @param {String} buff text buff\n\t */\n\tparse(buff, errSource) {\n\t\tconst result = new MatchResult(),\n\t\t\tstream = new Stream(buff)\n\t\tlet err = this.match(stream, result)\n\t\tif (err) {\n\t\t\tconst source = stream.source()\n\t\t\tvar pos, msg = []\n\t\t\tdo {\n\t\t\t\tpos = stream.position(err[0])\n\t\t\t\tmsg.unshift(`[${pad(pos[0], 2)}:${pad(pos[1], 2)}] - ${err[4].toString()}: ${err[1]} on \"${escapeString(buff.substr(err[0], 20))}\"`)\n\t\t\t\terr = err[3]\n\t\t\t} while (err)\n\n\t\t\tif (errSource !== false) msg.push('[Source]', source)\n\n\t\t\tconst e = new SyntaxError(msg.join('\\n'))\n\t\t\te.source = source\n\t\t\tthrow e\n\t\t}\n\t\treturn result.data\n\t},\n\tcommit(stream, data, result) {\n\t\tconst err = this.success(stream, data, result)\n\n\t\tif (err) {\n\t\t\tstream.exit()\n\t\t\treturn err\n\t\t}\n\t\tstream.commit()\n\t},\n\texit(stream, msg, srcErr) {\n\t\tconst err = this.error(stream, msg, this.capturable, srcErr)\n\t\tstream.exit()\n\t\treturn err\n\t},\n\tinit() {\n\t\tthis.getRules()\n\t\treturn this\n\t},\n\t__init() {},\n\tgetRules() {\n\t\treturn this.rules\n\t},\n\tsubNames(map) {\n\t\tconst rules = this.getRules(),\n\t\t\tnames = []\n\t\tfor (let i = 0; i < this.len; i++)\n\t\t\tnames[i] = rules[i].toString(this.idStack(this.id, map))\n\t\treturn names\n\t},\n\ttoString(map) {\n\t\tthis.init()\n\t\tif (this.name) return this.name\n\t\tif (map) {\n\t\t\tconst { id } = this\n\t\t\tif (map[id]) {\n\t\t\t\tif (map[id] === 1)\n\t\t\t\t\treturn `<${this.type} -> $Self>`\n\t\t\t\treturn `<${this.type} -> $${map[id]}>`\n\t\t\t}\n\t\t\treturn this.mkExpr(this.subNames(map).join(this.split))\n\t\t}\n\t\treturn this.defName\n\t},\n\tidStack(id, map) {\n\t\tmap = assign({\n\t\t\tlevel: 0,\n\t\t\tpush: idStackPush\n\t\t}, map)\n\t\tif (id) map.push(id)\n\t\treturn map\n\t}\n})\n\nfunction idStackPush(id) {\n\tthis[id] = ++this.level\n\treturn this\n}\n\nfunction parseComplexRules(curr, rules, dist) {\n\tfor (let i = 0, l = rules.length; i < l; i++) {\n\t\tif (!rules[i]) error(`Empty Rules[${i}]: ${rules}`)\n\t\tparseRule(curr, rules[i], dist)\n\t}\n\treturn dist\n}\n\n\nfunction parseRule(curr, rule, dist) {\n\tif (rule.$rule) { // Rule Object\n\t\tdist.push(rule)\n\t} else if (isStr(rule)) { // match rule\n\t\tdist.push(match(rule, UNATTACH))\n\t} else if (isReg(rule)) {\n\t\tdist.push(match(rule, false, UNATTACH))\n\t} else if (isObj(rule)) {\n\t\tdist.push(match(rule))\n\t} else if (isArray(rule)) { // rule connections or match rule\n\t\tdist.push(applyNoScope(match, rule))\n\t} else {\n\t\terror(`Invalid Rule: ${rule}`)\n\t}\n}\n\n// ================================================\n// Complex Rules\n// ================================================\n/**\n * and complex rule interface\n *\n * @param {String}              name        rule name\n * @param {Function|Array|...}  rules       complex rules\n * @param {?}                   option      see Rule Constructor\n */\nexport const AndRule = inherit(function AndRule(name, rules, option) {\n\tComplexRule.call(this, name, rules, option)\n}, ComplexRule, {\n\ttype: 'And',\n\tsplit: ' + ',\n\t__init(rules, len) {\n\t\tconst start = [],\n\t\t\tindex = [],\n\t\t\tcodes = rules[0].getStart(this.idStack(this.id))\n\n\t\teachCharCodes(codes, false, (code) => {\n\t\t\tif (!index[code]) {\n\t\t\t\tstart.push(code)\n\t\t\t\tindex[code] = code\n\t\t\t}\n\t\t})\n\t\tthis.start = start\n\t\tthis.index = index\n\t\tthis.test = start.length ? testRuleByIndex : defaultRuleTest\n\t},\n\tgetStart(map) {\n\t\tthis.init()\n\t\tif (this.start) return this.start\n\t\tif (map) {\n\t\t\tconst { id } = this\n\t\t\tif (map[id]) return []\n\t\t\treturn this.getRules()[0].getStart(this.idStack(id, map))\n\t\t}\n\t\treturn this.start\n\t},\n\tmatch: function andMatch(stream, result) {\n\t\tconst rules = this.getRules(),\n\t\t\tlen = this.len,\n\t\t\trs = new MatchResult(result)\n\t\tlet err, i = 0\n\n\t\tstream.enter()\n\t\tfor (; i < len; i++) {\n\t\t\tif (!rules[i].test(stream) || (err = rules[i].match(stream, rs))) {\n\t\t\t\treturn this.exit(stream, this.EXPECTS[i], err)\n\t\t\t}\n\t\t}\n\t\treturn this.commit(stream, rs.data, result)\n\t}\n})\n\n\nexport const OrRule = inherit(function OrRule(name, rules, option) {\n\tComplexRule.call(this, name, rules, option)\n}, ComplexRule, {\n\ttype: 'Or',\n\tsplit: ' | ',\n\t__init(rules, len) {\n\t\tconst starts = [], // all distinct start codes\n\t\t\trStarts = [], // start codes per rule\n\t\t\tindex = [\n\t\t\t\t[] // rules witch have unkown start code\n\t\t\t]\n\n\t\tlet i, j, k, codes\n\n\t\t// get start codes of all rules\n\t\tfor (i = 0; i < len; i++) {\n\t\t\trStarts[i] = []\n\t\t\tcodes = rules[i].getStart(this.idStack(this.id))\n\t\t\teachCharCodes(codes, false, (code) => {\n\t\t\t\trStarts[i].push(code)\n\t\t\t\tif (!index[code]) { // init index\n\t\t\t\t\tindex[code] = []\n\t\t\t\t\tstarts.push(code)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\t// fill index\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tcodes = rStarts[i]\n\t\t\tif (!codes.length) { // rules[i] not unkown start code\n\t\t\t\tindex[0].push(rules[i]) // append rules[i] to index[0]\n\t\t\t\tcodes = starts // append rules[i] to all start code index\n\t\t\t}\n\t\t\t// append rules[i] to start code index\n\t\t\tj = codes.length\n\t\t\twhile (j--) {\n\t\t\t\tk = index[codes[j]]\n\t\t\t\tif (k.idx !== i) { // deduplication\n\t\t\t\t\tk.push(rules[i]) // append rules[i] to start code index[codes[j]]\n\t\t\t\t\tk.idx = i\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.rStarts = rStarts\n\t\t// rule have unkown start code when got unkown start code from any rules\n\t\tthis.start = index[0].length ? [] : starts\n\t\tthis.test = starts.length && !index[0].length ? testRuleByIndex : this.test\n\n\t\tif (starts.length) // not use index when got unkown start code from every rules\n\t\t\tthis.index = index\n\t},\n\tgetStart(map) {\n\t\tthis.init()\n\t\tif (this.start) return this.start\n\t\tif (map) {\n\t\t\tconst { id } = this\n\t\t\tif (map[id]) return []\n\n\t\t\tconst rules = this.getRules(),\n\t\t\t\tstarts = []\n\t\t\tfor (var i = 0, start; i < this.len; i++) {\n\t\t\t\tstart = rules[i].getStart(this.idStack(id, map))\n\t\t\t\tif (!start.length) return []\n\t\t\t\tstarts[i] = start\n\t\t\t}\n\t\t\treturn starts\n\t\t}\n\t\treturn this.start\n\t},\n\tmatch: function orMatch(stream, result) {\n\t\tconst { index } = this\n\t\tconst rules = index ? index[stream.nextCode()] || index[0] : this.getRules(),\n\t\t\tlen = rules.length\n\n\t\tconst rs = new MatchResult(result)\n\t\tvar err, upErr, i\n\t\tstream.enter()\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!(err = rules[i].match(stream, rs)) &&\n\t\t\t\t!(err = this.success(stream, rs.data, result))) {\n\t\t\t\tstream.commit()\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (!err[2]) // not capturable error\n\t\t\t\treturn this.exit(stream, this.EXPECTS[i], err)\n\n\t\t\tif (!upErr || err[0] >= upErr[0])\n\t\t\t\tupErr = err\n\t\t\tstream.reset()\n\t\t\trs.empty()\n\t\t}\n\t\treturn this.exit(stream, this.EXPECT, upErr)\n\t}\n})\n\nfunction createRepeatRule(defType, Parent, match) {\n\treturn inherit(function AndRepeatRule(name, type, min, max, rules, option) {\n\t\tif (min < 0) min = 0\n\t\tif (max <= 0) max = 999999\n\t\tassert(min < max)\n\n\t\tParent.call(this, name, rules, option)\n\n\t\tthis.min = min\n\t\tthis.max = max\n\t\tthis.type = type || `${defType}[${min} - ${max}]`\n\t}, Parent, {\n\t\t__init(rules, len) {\n\t\t\tParent.prototype.__init.call(this, rules, len)\n\t\t\tif (!this.min)\n\t\t\t\tthis.test = defaultRuleTest\n\t\t},\n\t\tmatch\n\t})\n}\n\nexport const AndRepeatRule = createRepeatRule('AndRepeat', AndRule, function andRepeatMatch(stream, result) {\n\tconst { min, max } = this\n\tconst rules = this.getRules(),\n\t\tlen = this.len,\n\t\trs = new MatchResult(result),\n\t\tdata = rs.data\n\n\tlet err, repeat = 0,\n\t\ti, l\n\n\tstream.enter()\n\tout: for (; repeat < max; repeat++) {\n\t\tl = data.length\n\t\tstream.enter()\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!rules[i].test(stream) || (err = rules[i].match(stream, rs))) {\n\t\t\t\tif (repeat < min || (err && !err[2])) { // have no enough data or error is not capturable\n\t\t\t\t\terr = this.exit(stream, this.EXPECTS[i], err)\n\t\t\t\t\tstream.exit()\n\t\t\t\t\treturn err\n\t\t\t\t}\n\t\t\t\tstream.exit()\n\t\t\t\trs.setLen(l)\n\t\t\t\tbreak out\n\t\t\t}\n\t\t}\n\t\tstream.commit()\n\t}\n\treturn this.commit(stream, data, result)\n})\n\nexport const OrRepeatRule = createRepeatRule('OrRepeat', OrRule, function orRepeatMatch(stream, result) {\n\tconst { min, max, index } = this\n\tconst rs = new MatchResult(result),\n\t\tdata = rs.data\n\tlet err, upErr, repeat = 0,\n\t\ti, l, rules, len\n\n\tif (!index) {\n\t\trules = this.getRules()\n\t\tlen = rules.length\n\t}\n\n\tstream.enter() // outer: enter\n\tout: for (; repeat < max; repeat++) {\n\t\tif (index) {\n\t\t\trules = index[stream.nextCode()] || index[0]\n\t\t\tlen = rules.length\n\t\t}\n\t\tif (len) {\n\t\t\tupErr = null\n\t\t\tl = data.length\n\t\t\tstream.enter() // inner: enter\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (!(err = rules[i].match(stream, rs))) {\n\t\t\t\t\tstream.commit() // inner: commit\n\t\t\t\t\tcontinue out\n\t\t\t\t}\n\t\t\t\tif (!err[2]) { // not capturable error\n\t\t\t\t\terr = this.exit(stream, this.EXPECTS[i], err) // inner: exit\n\t\t\t\t\tstream.exit() // outer: exit\n\t\t\t\t\treturn err\n\t\t\t\t}\n\t\t\t\tif (!upErr || err[0] >= upErr[0])\n\t\t\t\t\tupErr = err\n\t\t\t\tstream.reset()\n\t\t\t\trs.setLen(l)\n\t\t\t}\n\t\t\tif (repeat < min) {\n\t\t\t\terr = this.exit(stream, this.EXPECT, upErr) // inner: exit\n\t\t\t\tstream.exit() // outer: exit\n\t\t\t\treturn err\n\t\t\t}\n\t\t} else if (repeat < min)\n\t\t\treturn this.exit(stream, this.EXPECT) // outer: exit\n\t\tbreak\n\t}\n\treturn this.commit(stream, data, result) // outer: commit\n})\n\n\n// ================================================\n// Rule APIs\n// ================================================\n\n/**\n * and(name, rules[], option)\n *\n * and(name, rules..., option)\n *\n * and(rules[], option)\n *\n * and(rules..., option)\n *\n * and({\n *      name,\n *      rules,\n *      option\n * })\n * @param {String}                                                  name    [option] rule name\n * @param {(Array|Arguments)<Rule|String|RegExp|Function>|Function} rules   match rules\n * @param {Function}                                                option  see Rule.option\n */\nexport function and() {\n\treturn buildComplexRule(arguments, 0,\n\t\t(name, rules, option) => new AndRule(name, rules, option))\n}\n\nexport function or() {\n\treturn buildComplexRule(arguments, 0,\n\t\t(name, rules, option) => new OrRule(name, rules, option))\n}\n\nfunction buildRepeatRule(args, i, type, min, max, C) {\n\treturn buildComplexRule(args, i,\n\t\t(name, rules, option) => new C(name, type, min, max, rules, option))\n}\n\nfunction buildAndRepeatRule(args, i, type, min, max, C) {\n\treturn buildRepeatRule(args, i, type, min, max, AndRepeatRule)\n}\nexport function any() {\n\treturn buildAndRepeatRule(arguments, 0, 'Any', 0, -1)\n}\n\nexport function many() {\n\treturn buildAndRepeatRule(arguments, 0, 'Many', 1, -1)\n}\n\nexport function option() {\n\treturn buildAndRepeatRule(arguments, 0, 'Option', 0, 1)\n}\n\nexport function repeat(min, max) {\n\treturn buildAndRepeatRule(arguments, 2, 0, min, max)\n}\n\nfunction buildOrRepeatRule(args, i, type, min, max, C) {\n\treturn buildRepeatRule(args, i, type, min, max, OrRepeatRule)\n}\nexport function anyOne() {\n\treturn buildOrRepeatRule(arguments, 0, 'AnyOne', 0, -1)\n}\n\nexport function manyOne() {\n\treturn buildOrRepeatRule(arguments, 0, 'ManyOne', 1, -1)\n}\n\nexport function optionOne() {\n\treturn buildOrRepeatRule(arguments, 0, 'OptionOne', 0, 1)\n}\n\nexport function repeatOne(min, max) {\n\treturn buildOrRepeatRule(arguments, 2, 0, min, max)\n}\n\nfunction buildComplexRule(args, i, build) {\n\tconst arglen = args.length\n\n\tlet name = 0,\n\t\trules, option = null\n\n\tif (isObj(args[i])) {\n\t\tname = args[i].name\n\t\trules = args[i].rules\n\t\toption = args[i]\n\t} else {\n\t\tif (isStr(args[i]))\n\t\t\tname = args[i++]\n\n\t\tif (isArray(args[i]) || isFn(args[i])) {\n\t\t\trules = args[i++]\n\t\t\toption = args[i]\n\t\t} else {\n\t\t\trules = []\n\t\t\tfor (; i < arglen - 1; i++)\n\t\t\t\trules.push(args[i])\n\t\t\tif (isFn(args[i]) || isObj(args[i]) || isStr(args[i])) option = args[i]\n\t\t\telse if (args[i]) rules.push(args[i])\n\t\t}\n\t}\n\treturn build(name, rules, option)\n}\n","/**\n * @module common/ast\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-11-06 18:02:16\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-11-06 18:02:16\n */\n","/*\n * Common Utils\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:59:38\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-11-07 09:16:18\n */\n\nexport { default as List } from './List'\nexport { default as FnList } from './FnList'\nexport * from './nextTick'\nexport * from './format'\nexport * from './path'\nimport * as Parser from './ASTBuilder'\nexport { Parser }\nexport * from './ast'\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:09\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:09\n */\nimport { global, isFn } from '../helper'\n\nexport default function (defaultProps) {\n\tif (isFn(global.Proxy)) {\n\t\treturn {\n\t\t\tname: 'Proxy',\n\t\t\tproxyEnabled: true,\n\t\t\timpl: {\n\t\t\t\t__init() {\n\t\t\t\t\tlet isArray = this.isArray\n\t\t\t\t\tthis.proxy = new Proxy(this.source, {\n\t\t\t\t\t\tget: (source, attr, proxy) => {\n\t\t\t\t\t\t\treturn source[attr]\n\t\t\t\t\t\t},\n\t\t\t\t\t\tset: (source, attr, value, proxy) => {\n\t\t\t\t\t\t\tif (defaultProps[attr]) {\n\t\t\t\t\t\t\t\tsource[attr] = value\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar oldValue = source[attr]\n\t\t\t\t\t\t\t\tsource[attr] = value\n\t\t\t\t\t\t\t\tthis.__write(attr, value, oldValue)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:14\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:14\n */\nimport { create, defProp, defPropSupport } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport default function () {\n\tlet defineProperty, name = 'Define Property'\n\tif (defPropSupport) {\n\t\tdefineProperty = function (observer, attr) {\n\t\t\tconst source = observer.source\n\t\t\tlet value = source[attr]\n\t\t\tdefProp(source, attr, {\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true,\n\t\t\t\tget() {\n\t\t\t\t\treturn value\n\t\t\t\t},\n\t\t\t\tset(newValue) {\n\t\t\t\t\tlet oldValue = value\n\t\t\t\t\tvalue = newValue\n\t\t\t\t\tobserver.__write(attr, newValue, oldValue)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t} else if ('__defineGetter__' in {}) {\n\t\tname = 'Define getter and setter'\n\t\tconst { __defineGetter__, __defineSetter__ } = Object[PROTOTYPE]\n\t\tdefineProperty = function (observer, attr) {\n\t\t\tconst source = observer.source\n\t\t\tlet value = source[attr]\n\t\t\t__defineGetter__.call(source, attr, function () {\n\t\t\t\treturn value\n\t\t\t})\n\t\t\t__defineSetter__.call(source, attr, function (newValue) {\n\t\t\t\tlet oldValue = value\n\t\t\t\tvalue = newValue\n\t\t\t\tobserver.__write(attr, newValue, oldValue)\n\t\t\t})\n\t\t}\n\t}\n\tif (defineProperty) {\n\t\treturn {\n\t\t\tname,\n\t\t\timpl: {\n\t\t\t\t__init() {\n\t\t\t\t\tthis.defined = create(null)\n\t\t\t\t},\n\t\t\t\t__watch(attr) {\n\t\t\t\t\tconst defined = this.defined\n\t\t\t\t\tif (defined[attr]) {\n\t\t\t\t\t\tdefineProperty(this, attr)\n\t\t\t\t\t\tdefined[attr] = true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:35:04\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:35:04\n */\nimport { error } from 'devlevel'\nimport { global, create, hasOwnProp } from '../helper'\n\nexport default function (defaultPropMap) {\n\tif (!(function () {\n\t\t\tif (global && global.VBArray) {\n\t\t\t\ttry {\n\t\t\t\t\tglobal.execScript([\n\t\t\t\t\t\t'Function parseVB(code)',\n\t\t\t\t\t\t'\\tExecuteGlobal(code)',\n\t\t\t\t\t\t'End Function'\n\t\t\t\t\t].join('\\n'), 'VBScript')\n\t\t\t\t\treturn true\n\t\t\t\t} catch (e) {\n\t\t\t\t\terror(e.message, e)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t})()) return false\n\n\tconst bindingProp = '__vbclass_binding__',\n\t\tconstructorProp = '__vbclass_constructor__'\n\tconst objectProps = 'hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(','),\n\t\tclassPool = create(null),\n\t\tconstructorScript = [\n\t\t\t'\\tPublic [', bindingProp, ']\\r\\n',\n\t\t\t'\\tPublic Default Function [', constructorProp, '](source)\\r\\n',\n\t\t\t'\\t\\tSet [', bindingProp, '] = source\\r\\n',\n\t\t\t'\\t\\tSet [', constructorProp, '] = Me\\r\\n',\n\t\t\t'\\tEnd Function\\r\\n\\n'\n\t\t].join('')\n\n\tlet classNameGenerator = 1\n\n\tfunction parseGetter(prop, buffer) {\n\t\tbuffer.push.call(buffer,\n\t\t\t'\\tPublic Property Let [', prop, '](val)\\r\\n',\n\t\t\t'\\t\\tCall [', bindingProp, '].doWrite(\"', prop, '\",val)\\r\\n',\n\t\t\t'\\tEnd Property\\r\\n',\n\t\t\t'\\tPublic Property Set [', prop, '](val)\\r\\n',\n\t\t\t'\\t\\tCall [', bindingProp, '].doWrite(\"', prop, '\",val)\\r\\n',\n\t\t\t'\\tEnd Property\\r\\n\\r\\n')\n\t}\n\n\tfunction parseSetter(prop, buffer) {\n\t\tbuffer.push.call(buffer,\n\t\t\t'\\tPublic Property Get [', prop, ']\\r\\n',\n\t\t\t'\\tOn Error Resume Next\\r\\n',\n\t\t\t'\\t\\tSet[', prop, '] = [', bindingProp, '].doRead(\"', prop, '\")\\r\\n',\n\t\t\t'\\tIf Err.Number <> 0 Then\\r\\n',\n\t\t\t'\\t\\t[', prop, '] = [', bindingProp, '].doRead(\"', prop, '\")\\r\\n',\n\t\t\t'\\tEnd If\\r\\n',\n\t\t\t'\\tOn Error Goto 0\\r\\n',\n\t\t\t'\\tEnd Property\\r\\n\\r\\n'\n\t\t)\n\t}\n\n\tfunction parseVBClass(className, props) {\n\t\tlet buffer = ['Class ', className, '\\r\\n', constructorScript, '\\r\\n'],\n\t\t\tprop\n\n\t\tfor (var i = 0, l = props.length; i < l; i++) {\n\t\t\tprop = props[i]\n\t\t\tparseSetter(prop, buffer)\n\t\t\tparseGetter(prop, buffer)\n\t\t}\n\t\tbuffer.push('End Class')\n\t\treturn buffer.join('')\n\t}\n\n\tfunction getOrCreateVBClass(props) {\n\t\tlet classKey = [props.sort().join('|')].join(''),\n\t\t\tproviderName = classPool[classKey]\n\t\tif (!providerName) {\n\t\t\tvar className = 'VBClass' + (classNameGenerator++)\n\t\t\tproviderName = className + 'Provider'\n\t\t\tparseVB(parseVBClass(className, props))\n\t\t\tparseVB([\n\t\t\t\t'Function ', providerName, '(desc)\\r\\n',\n\t\t\t\t'\\tDim o\\r\\n',\n\t\t\t\t'\\tSet o = (New ', className, ')(desc)\\r\\n',\n\t\t\t\t'\\tSet ', providerName, ' = o\\r\\n',\n\t\t\t\t'End Function'\n\t\t\t].join(''))\n\t\t\tclassPool[classKey] = providerName\n\t\t}\n\t\treturn providerName\n\t}\n\n\tfunction createProxy(source, vbproxy) {\n\t\tlet propMap = create(null),\n\t\t\tprops = [],\n\t\t\tprop\n\n\t\tfor (var i = 0, l = objectProps.length; i < l; i++) {\n\t\t\tprop = objectProps[i]\n\t\t\tpropMap[prop] = true\n\t\t\tprops[i] = prop\n\t\t}\n\n\t\tfor (prop in source) {\n\t\t\tif (!propMap[prop]) {\n\t\t\t\tprops.push(prop)\n\t\t\t\tpropMap[prop] = true\n\t\t\t}\n\t\t}\n\n\t\tfor (prop in defaultPropMap) {\n\t\t\tif (defaultPropMap[prop] && !propMap[prop]) {\n\t\t\t\tsource[prop] = undefined\n\t\t\t\tpropMap[prop] = true\n\t\t\t\tprops.push(prop)\n\t\t\t}\n\t\t}\n\t\treturn global[getOrCreateVBClass(props)](vbproxy)\n\t}\n\n\tfunction buildProxy(observer) {\n\t\tlet source = observer.source,\n\t\t\tproxy = observer.proxy = createProxy(source, observer),\n\t\t\tfuncs = observer.funcs = create(null),\n\t\t\tfunc\n\t\tfor (var prop in source) {\n\t\t\tfunc = source[prop]\n\t\t\tif (typeof func === 'function')\n\t\t\t\tfuncs[prop] = func.bind(proxy)\n\t\t}\n\t}\n\treturn {\n\t\tname: 'VBProxy',\n\t\tproxyEnabled: true,\n\t\tproxyChangeable: true,\n\t\tsourceOwnProperty: true,\n\t\timpl: {\n\t\t\t__init() {\n\t\t\t\tbuildProxy(this)\n\t\t\t},\n\t\t\t__watch(attr) {\n\t\t\t\tif (!(attr in this.proxy)) {\n\t\t\t\t\tbuildProxy(this)\n\t\t\t\t\tthis.__proxyChanged()\n\t\t\t\t}\n\t\t\t},\n\t\t\tdoWrite(attr, value) {\n\t\t\t\tlet {\n\t\t\t\t\tsource,\n\t\t\t\t\tproxy,\n\t\t\t\t\tfuncs\n\t\t\t\t} = this\n\t\t\t\tif (typeof value === 'function') {\n\t\t\t\t\tfuncs[attr] = value.bind(proxy)\n\t\t\t\t} else if (funcs[attr]) {\n\t\t\t\t\tfuncs[attr] = false\n\t\t\t\t}\n\t\t\t\tif (defaultProps[attr]) {\n\t\t\t\t\tsource[attr] = value\n\t\t\t\t} else {\n\t\t\t\t\tvar oldValue = source[attr]\n\t\t\t\t\tsource[attr] = value\n\t\t\t\t\tthis.__write(attr, value, oldValue)\n\t\t\t\t}\n\t\t\t},\n\t\t\tdoRead(attr) {\n\t\t\t\tlet {\n\t\t\t\t\tsource,\n\t\t\t\t\tproxy,\n\t\t\t\t\tfuncs\n\t\t\t\t} = this\n\t\t\t\treturn funcs[attr] || source[attr]\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:33:23\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-06 13:59:32\n */\nimport { assert, info } from 'devlevel'\nimport { List, FnList, nextTick, parsePath, formatPath, get, set } from '../common'\nimport { DEFAULT_BINDING } from '../common/List'\nimport { DEFAULT_FN_BINDING, DEFAULT_SCOPE_BINDING } from '../common/FnList'\nimport { inherit, create, extend, apply, defPropValue, hasOwnProp, eq, isPrimitive, isArray, makeMap, makeArray } from '../helper'\nimport es6 from './es6'\nimport es5 from './es5'\nimport vb from './vb'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst OBSERVER_KEY = '__observer__'\n\n// ================= Array Hook Begin =======================\nconst ARRAY_EVENTS = makeMap('length,change')\nconst ArrayProto = Array[PROTOTYPE]\nconst arrayHooks = makeArray('fill,pop,push,reverse,shift,sort,splice,unshift', (method) => {\n\t\tconst fn = ArrayProto[method]\n\t\treturn [\n\t\t\tmethod,\n\t\t\tfunction () {\n\t\t\t\tconst len = this.length,\n\t\t\t\t\trs = apply(fn, this, arguments),\n\t\t\t\t\tnewlen = this.length,\n\t\t\t\t\tobserver = this[OBSERVER_KEY]\n\t\t\t\tobserver.__write('change', this, this)\n\t\t\t\tif (len !== newlen)\n\t\t\t\t\tobserver.__write('length', newlen, len)\n\t\t\t\treturn rs\n\t\t\t}\n\t\t]\n\t}),\n\tarrayHookLength = arrayHooks.length\n\nfunction hookArray(array) {\n\tfor (let i = 0, hook; i < arrayHookLength; i++) {\n\t\thook = arrayHooks[i]\n\t\tarray[hook[0]] = hook[1]\n\t}\n\treturn array\n}\n// ================= Array Hook End =======================\n\n\n\nexport const defaultProps = makeMap([OBSERVER_KEY, DEFAULT_BINDING, DEFAULT_FN_BINDING, DEFAULT_SCOPE_BINDING])\n// ================ init policy Begin ========================\nconst policy = es6(defaultProps) || es5(defaultProps) || vb(defaultProps)\n\nassert(policy, 'Observer is not supported.')\n\nconst { proxyEnabled = false, proxyChangeable = false, sourceOwnProperty = false } = policy\n\ninfo(`Observer: enable policy[${policy.name}]: `, {\n\tproxyEnabled,\n\tproxyChangeable,\n\tsourceOwnProperty\n}, 'default properties: ', defaultProps)\n\nexport function isDefaultProp(prop) {\n\treturn defaultProps[prop] || false\n}\n\n// ================ init policy End========================\n\nfunction noProxyChangeEventHandler() {\n\treturn false\n}\nlet disableWriteEvent = false\n\nfunction Observer(source) {\n\t// bind observer to object\n\tdefPropValue(source, OBSERVER_KEY, this)\n\tthis.source = this.proxy = source\n\tthis.bubbles = create(null)\n\tif (this.isArray = isArray(source)) {\n\t\thookArray(source)\n\t} else {\n\t\tthis.__init()\n\t}\n}\n\ninherit(Observer, {\n\t__init() {\n\t\t// implement by policy\n\t},\n\t__watch(prop) {\n\t\t// implement by policy\n\t},\n\t__write(prop, value, oldValue) { // call by policy\n\t\tif (disableWriteEvent) return\n\t\tconst list = this.bubbles[prop]\n\t\tif (!list || !list.length || (value === oldValue && isPrimitive(value)))\n\t\t\treturn\n\t\tlist.each((desc) => addChangedQueue(desc, oldValue))\n\t},\n\tobserve(path, handler, scope) {\n\t\tassert.fn(handler, 'require function handler.')\n\n\t\tpath = parsePath(path)\n\t\tconst l = path.length - 1\n\t\tassert(l >= 0, 'require non-empty path.')\n\n\t\tlet watchs = this.watchs || (this.watchs = create(null)),\n\t\t\tcurrentObserver = this,\n\t\t\tattr, desc,\n\t\t\tparent = undefined,\n\t\t\ti = 0,\n\t\t\tchildObserver, obj\n\n\t\tfor (; i <= l; i++) {\n\t\t\tattr = path[i]\n\t\t\tdesc = watchs[attr]\n\t\t\tif (!desc) {\n\t\t\t\tdesc = allocWatchDescriptor(this, currentObserver, attr, parent)\n\t\t\t\tif (currentObserver) {\n\n\t\t\t\t\tassert(!currentObserver.isArray || (ARRAY_EVENTS[attr] && i == l), () => {\n\t\t\t\t\t\tconst pathStr = formatPath(path)\n\t\t\t\t\t\tconst errorPath = formatPath(path.slice(i))\n\t\t\t\t\t\tconst arrayPath = i ? '[' + formatPath(path.slice(0, i)) + ']' : ''\n\t\t\t\t\t\treturn `invalid path[${pathStr}]: not support \"${errorPath}\" in Array${arrayPath}, change to \"change\" or \"length\".`\n\t\t\t\t\t})\n\n\t\t\t\t\tregisterBubble(currentObserver, desc)\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i < l) {\n\t\t\t\tparent = desc\n\t\t\t\twatchs = desc[DESC_CHILDREN_INDEX]\n\t\t\t\tif (currentObserver) {\n\t\t\t\t\tif (obj = currentObserver.source[attr]) {\n\t\t\t\t\t\tif (!(childObserver = getObserver(obj))) {\n\t\t\t\t\t\t\tchildObserver = new Observer(obj)\n\t\t\t\t\t\t\tsetChildObserver(currentObserver, attr, childObserver)\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchildObserver = undefined\n\t\t\t\t\t}\n\t\t\t\t\tcurrentObserver = childObserver\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdesc[DESC_PATH_INDEX] = path\n\t\treturn desc[DESC_HANDLERS_INDEX].add(handler, scope)\n\t},\n\tunobserve(path, handler, scope) {\n\t\tassert.fn(handler, 'require function handler.')\n\n\t\tpath = parsePath(path)\n\t\tconst l = path.length\n\n\t\tassert(l, 'require non-empty path.')\n\n\t\treturn this.watchs ? unwatch(this.watchs, path, 0, l - 1, handler, scope) : false\n\t},\n\tisObserved(path, handler, scope) {\n\t\tassert.fn(handler, 'require function handler.')\n\n\t\tpath = parsePath(path)\n\t\tconst l = path.length - 1\n\n\t\tassert(l >= 0, 'require non-empty path.')\n\n\t\tlet watchs = this.watchs,\n\t\t\ti = 0,\n\t\t\tdesc\n\n\t\tif (!watchs) return false\n\n\t\tfor (; i <= l; i++) {\n\t\t\tdesc = watchs[path[i]]\n\t\t\tif (!desc) return false\n\t\t\tif (i < l) watchs = desc[DESC_CHILDREN_INDEX]\n\t\t}\n\t\treturn handler ? desc[DESC_HANDLERS_INDEX].has(handler, scope) : !!desc[DESC_HANDLERS_INDEX].size()\n\t},\n\tset: proxyEnabled ? function (path, value, disableEvent) {\n\t\t_set(this, parsePath(path), value, disableEvent)\n\t\treturn this\n\t} : function (path, value, disableEvent) {\n\t\tif (disableEvent) {\n\t\t\tconst disabled = disableWriteEvent\n\t\t\tdisableWriteEvent = true\n\t\t\t_set(this, path, value, true)\n\t\t\tdisableWriteEvent = disabled\n\t\t} else {\n\t\t\t_set(this, path, value, true)\n\t\t}\n\t\treturn this\n\t},\n\tget(path) {\n\t\treturn get(this.source, path)\n\t},\n\t__proxyChanged: noProxyChangeEventHandler,\n\tonProxyChange: noProxyChangeEventHandler,\n\tunProxyChange: noProxyChangeEventHandler\n}, policy.impl)\n\n// ============ watch descriptor begin ===============\nconst DESC_HANDLERS_INDEX = 0,\n\tDESC_CHILDREN_INDEX = 1,\n\tDESC_CHILD_NUM_INDEX = 2,\n\tDESC_OWNER_INDEX = 3,\n\tDESC_OBSERVER_INDEX = 4,\n\tDESC_ATTR_INDEX = 5,\n\tDESC_PARENT_INDEX = 6,\n\tDESC_CHANGED_INDEX = 7,\n\tDESC_EVENT_INDEX = 8,\n\tDESC_VALUE_INDEX = 9,\n\tDESC_PATH_INDEX = 10\n\nfunction allocWatchDescriptor(owner, observer, attr, parent) {\n\tconst desc = [new FnList(), create(null), 0, owner, observer, attr, parent, NO_CHANGED, NO_CHANGED]\n\tif (parent) {\n\t\tparent[DESC_CHILDREN_INDEX][attr] = desc\n\t\tparent[DESC_CHILD_NUM_INDEX]++\n\t} else {\n\t\towner.watchs[attr] = desc\n\t}\n\treturn desc\n}\n\nfunction freeWatchDescriptor(desc) {\n\tconst parent = desc[DESC_PARENT_INDEX],\n\t\tattr = desc[DESC_ATTR_INDEX]\n\tif (parent) {\n\t\tparent[DESC_CHILDREN_INDEX][attr] = undefined\n\t\tparent[DESC_CHILD_NUM_INDEX]--\n\t} else {\n\t\tdesc[DESC_OWNER_INDEX].watchs[attr] = undefined\n\t}\n}\n// ============ watch descriptor end ===============\n\nfunction unwatch(watchs, path, level, maxLevel, handler, scope) {\n\tconst desc = watchs[path[level]]\n\tif (desc) {\n\t\tconst ret = level === maxLevel ?\n\t\t\tdesc[DESC_HANDLERS_INDEX].remove(handler, scope) :\n\t\t\tunwatch(desc[DESC_CHILDREN_INDEX], path, level + 1, maxLevel, handler, scope)\n\n\t\tif (!desc[DESC_CHILD_NUM_INDEX] && !desc[DESC_HANDLERS_INDEX].size()) {\n\t\t\tunregisterBubble(desc[DESC_OBSERVER_INDEX], desc, desc[DESC_ATTR_INDEX])\n\t\t\tfreeWatchDescriptor(desc)\n\t\t}\n\t\treturn ret\n\t}\n\treturn false\n}\n\nfunction registerBubble(observer, descriptor) {\n\tif (!observer) return false\n\tlet bubbles = observer.bubbles,\n\t\tattr = descriptor[DESC_ATTR_INDEX],\n\t\tdescs = bubbles[attr]\n\n\tif (!descs) {\n\t\tdescs = bubbles[attr] = new List()\n\t\tif (!observer.isArray)\n\t\t\tobserver.__watch(attr)\n\t}\n\treturn descs.add(descriptor)\n}\n\nfunction unregisterBubble(observer, descriptor, attr) {\n\tif (!observer) return false\n\tconst bubbles = observer.bubbles,\n\t\tdescs = bubbles[attr]\n\treturn descs && descs.remove(descriptor)\n}\n\nconst changedQueue = [],\n\teventQueue = [],\n\tNO_CHANGED = {}\n\nfunction addChangedQueue(desc, oldValue) {\n\tif (desc[DESC_CHANGED_INDEX] === NO_CHANGED) {\n\t\tdesc[DESC_CHANGED_INDEX] = oldValue\n\t\tconst l = changedQueue.length\n\t\tchangedQueue[l] = desc\n\t\tif (!l) nextTick(flushChangedQueue)\n\t}\n}\n\nfunction addEventQueue(desc, value, oldValue) {\n\tif (desc[DESC_EVENT_INDEX] === NO_CHANGED) {\n\t\tdesc[DESC_VALUE_INDEX] = value\n\t\tdesc[DESC_EVENT_INDEX] = oldValue\n\t\teventQueue.push(desc)\n\t} else {\n\t\tdesc[DESC_VALUE_INDEX] = value\n\t}\n}\n\nfunction flushChangedQueue() {\n\tlet desc,\n\t\ti = 0,\n\t\tl = changedQueue.length\n\n\tfor (; i < l; i++) {\n\t\tdesc = changedQueue[i]\n\t\tbubble(desc, observerValue(desc[DESC_OBSERVER_INDEX], desc[DESC_ATTR_INDEX]), desc[DESC_CHANGED_INDEX], addEventQueue)\n\t\tdesc[DESC_CHANGED_INDEX] = NO_CHANGED\n\t}\n\tchangedQueue.length = 0\n\n\tlet value, oldValue\n\tfor (i = 0, l = eventQueue.length; i < l; i++) {\n\t\tdesc = eventQueue[i]\n\t\tvalue = desc[DESC_VALUE_INDEX]\n\t\toldValue = desc[DESC_EVENT_INDEX]\n\t\tif (value !== oldValue || !isPrimitive(value))\n\t\t\tdesc[DESC_HANDLERS_INDEX].each((callback, scope) => {\n\t\t\t\tscope ? callback.call(scope, desc[DESC_PATH_INDEX], value, oldValue, desc[DESC_OWNER_INDEX]) :\n\t\t\t\t\tcallback(desc[DESC_PATH_INDEX], value, oldValue, desc[DESC_OWNER_INDEX])\n\t\t\t})\n\t\tdesc[DESC_EVENT_INDEX] = NO_CHANGED\n\t}\n\teventQueue.length = 0\n}\n\nfunction bubble(desc, value, oldValue, cb) {\n\tif (desc[DESC_HANDLERS_INDEX].size())\n\t\tcb(desc, value, oldValue)\n\n\tif (desc[DESC_CHILD_NUM_INDEX]) {\n\t\tnewObserver = value ? observer(value) : undefined\n\t\tsetChildObserver(desc[DESC_OBSERVER_INDEX], desc[DESC_ATTR_INDEX], newObserver)\n\t\t__bubble(desc, newObserver, cb)\n\t}\n}\n\nfunction __bubble(parent, newObserver, cb) {\n\tlet children = parent[DESC_CHILDREN_INDEX],\n\t\tattr, desc, oldObserver, nextObserver\n\n\tfor (attr in children) {\n\t\tif ((desc = children[attr]) && desc[DESC_OWNER_INDEX] && (oldObserver = desc[DESC_OBSERVER_INDEX]) !== newObserver) {\n\n\t\t\tif (desc[DESC_HANDLERS_INDEX].size())\n\t\t\t\tcb(desc, observerValue(newObserver, attr), observerValue(oldObserver, attr))\n\n\t\t\tunregisterBubble(oldObserver, desc, attr)\n\t\t\tdesc[DESC_OBSERVER_INDEX] = newObserver\n\t\t\tregisterBubble(newObserver, desc)\n\n\t\t\tif (desc[DESC_CHILD_NUM_INDEX]) {\n\t\t\t\tnextObserver = (nextObserver = newObserver.source[attr]) ? observer(nextObserver) : undefined\n\t\t\t\tsetChildObserver(newObserver, attr, nextObserver)\n\t\t\t\t__bubble(desc, nextObserver, cb)\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst setChildObserver = proxyEnabled ? function (parentObserver, attr, childObserver) {\n\tif (childObserver)\n\t\tparentObserver.source[attr] = childObserver.proxy\n} : function (parentObserver, attr, childObserver) {\n\n}\n\nfunction observerValue(observer, attr) {\n\tif (observer) {\n\t\tif (observer.isArray && attr === 'change')\n\t\t\treturn observer.proxy\n\t\treturn observer.source[attr]\n\t}\n}\n\nfunction _set(observer, path, value, setSource) {\n\tlet i = 0,\n\t\tl = path.length - 1,\n\t\tprop, obj, nextObj, source\n\n\tfor (; i < l; i++) {\n\t\tprop = path[i]\n\t\tif (observer) {\n\t\t\tsource = observer.source\n\t\t\tnextObj = source[prop]\n\t\t\tif (!nextObj || !(observer = getObserver(nextObj))) {\n\t\t\t\tif (nextObj === undefined || nextObj === null)\n\t\t\t\t\tnextObj = setSource ? source[prop] = {} : observer.proxy[prop] = {}\n\t\t\t\tobserver = undefined\n\t\t\t\tobj = nextObj\n\t\t\t}\n\t\t} else {\n\t\t\tnextObj = obj[prop]\n\t\t\tif (!nextObj) nextObj = obj[prop] = {}\n\t\t\tobj = nextObj\n\t\t}\n\t}\n\tprop = path[i]\n\tif (observer) {\n\t\tsetSource ? observer.source[prop] = value : observer.proxy[prop] = value\n\t} else {\n\t\tobj[prop] = value\n\t}\n}\n\n\n// ================== API ============================\nexport function isProxyEnabled() {\n\treturn proxyEnabled\n}\n\nexport function $set(obj, path, value) {\n\tpath = parsePath(path)\n\tconst observer = getObserver(obj)\n\tif (observer)\n\t\treturn _set(observer, path, value, !proxyEnabled)\n\tset(obj, path)\n}\n\nexport function observer(source) {\n\treturn getObserver(source) || new Observer(source)\n}\n\nexport function observe(source, path, handler, scope) {\n\tconst _observer = observer(source)\n\treturn (_observer.observe(path, handler, scope), _observer.proxy)\n}\n\nexport function unobserve(obj, path, handler, scope) {\n\tconst observer = getObserver(obj)\n\treturn observer ? (observer.unobserve(path, handler, scope), observer.proxy) : obj\n}\n\nexport function isObserved(obj, path, handler, scope) {\n\tconst observer = getObserver(obj)\n\treturn observer && observer.isObserved(path, handler, scope)\n}\n\nlet getObserver = (obj) => {\n\t\tconst observer = obj[OBSERVER_KEY]\n\t\tif (observer && observer.source === obj)\n\t\t\treturn observer\n\t},\n\t$hasOwnProp = (obj, prop) => {\n\t\treturn defaultProps[prop] ? false : hasOwnProp(obj, prop)\n\t},\n\tsource = (obj) => obj,\n\tproxy = source,\n\t$eq = eq,\n\tonProxyChange = noProxyChangeEventHandler,\n\tunProxyChange = noProxyChangeEventHandler\n\nif (proxyEnabled) {\n\tif (sourceOwnProperty) {\n\t\t$hasOwnProp = function (obj, prop) {\n\t\t\tif (defaultProps[prop]) return false\n\t\t\tconst observer = getObserver(obj)\n\t\t\treturn hasOwnProp(observer ? observer.source : obj, prop)\n\t\t}\n\t}\n\n\t$hasOwnProp = function (obj, prop) {\n\t\tif (defaultProps[prop]) return false\n\t\tconst observer = getObserver(obj)\n\t\treturn hasOwnProp(observer ? observer.source : obj, prop)\n\t}\n\n\tgetObserver = function (obj) {\n\t\tconst observer = obj[OBSERVER_KEY]\n\t\tif (observer && (observer.source === obj || observer.proxy === obj))\n\t\t\treturn observer\n\t}\n\tsource = function (obj) {\n\t\tconst observer = obj && getObserver(obj)\n\t\treturn observer ? observer.source : obj\n\t}\n\tproxy = function (obj) {\n\t\tconst observer = obj && getObserver(obj)\n\t\treturn observer ? observer.proxy : obj\n\t}\n\t$eq = function (o1, o2) {\n\t\treturn eq(o1, o2) ||\n\t\t\t((o1 && o2 && (o1 = getObserver(o1))) ? o1 === getObserver(o2) : false)\n\t}\n\tif (proxyChangeable) {\n\t\textend(Observer, {\n\t\t\t__proxyChanged() {\n\t\t\t\tconst list = this.proxyListens,\n\t\t\t\t\tsource = this.source,\n\t\t\t\t\tproxy = this.proxy\n\t\t\t\tlist && list.each((callback, scope) => {\n\t\t\t\t\tscope ? callback.call(scope, source, proxy, this) : callback(source, proxy, this)\n\t\t\t\t})\n\t\t\t},\n\t\t\tonProxyChange(fn, scope) {\n\t\t\t\tassert.fn(fn, 'require function handler.')\n\t\t\t\tlet list = this.proxyListens\n\t\t\t\tif (!list)\n\t\t\t\t\tlist = this.proxyListens = new FnList()\n\t\t\t\treturn list.add(fn, scope)\n\t\t\t},\n\t\t\tunProxyChange(fn, scope) {\n\t\t\t\tassert.fn(fn, 'require function handler.')\n\t\t\t\tlet list = this.proxyListens\n\t\t\t\treturn list && list.remove(fn, scope)\n\t\t\t}\n\t\t})\n\n\t\tonProxyChange = function (obj, fn, scope) {\n\t\t\tconst observer = getObserver(obj)\n\t\t\treturn observer && observer.onProxyChange(fn, scope)\n\t\t}\n\t\tunProxyChange = function (obj, fn, scope) {\n\t\t\tconst observer = getObserver(obj)\n\t\t\treturn observer && observer.unProxyChange(fn, scope)\n\t\t}\n\t}\n}\n\n\nexport {\n\tgetObserver,\n\t$hasOwnProp,\n\tsource,\n\tproxy,\n\t$eq,\n\tonProxyChange,\n\tunProxyChange\n}\n\nexport function $getOwnProp(obj, key, defaultVal) {\n\treturn $hasOwnProp(obj, key) ? obj[key] : defaultVal\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:20\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:20\n */\nimport { proxy, $hasOwnProp, isDefaultProp } from './observer'\nimport { eachObj, eachStr, reachStr, __mkEachArrayLike, __mkREachArrayLike, __mkEach, STOP } from '../helper/each'\n\n\nexport const $eachArray = __mkEachArrayLike(arrayValueHandler),\n\t$reachArray = __mkREachArrayLike(arrayValueHandler),\n\t$each = __mkEach(eachStr, $eachArray, $eachObj),\n\t$reach = __mkEach(reachStr, $reachArray, $eachObj)\n\nexport function $eachObj(obj, callback, scope, own) {\n\tif (scope) callback = callback.bind(scope)\n\tlet key\n\tif (own === false) {\n\t\tfor (key in obj)\n\t\t\tif (!isDefaultProp(key) &&\n\t\t\t\tcallback(proxy(obj[key]), key, obj) === STOP)\n\t\t\t\treturn key\n\t} else {\n\t\tfor (key in obj)\n\t\t\tif ($hasOwnProp(obj, key) &&\n\t\t\t\tcallback(proxy(obj[key]), key, obj) === STOP)\n\t\t\t\treturn key\n\t}\n}\n\nfunction arrayValueHandler(array, i) {\n\tconst obj = array[i]\n\treturn obj ? proxy(obj) : obj\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:59\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:59\n */\nimport { $each, $eachArray, $eachObj } from './each'\nimport { mapStr, __mkMapArrayLike, __mkMapObj } from '../helper/map'\nimport { __mkEach } from '../helper/each'\n\nexport const $mapArray = __mkMapArrayLike($eachArray),\n\t$mapObj = __mkMapObj($eachObj),\n\t$map = __mkEach(mapStr, $mapArray, $mapObj)\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:40\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:40\n */\nimport { $map, $mapArray, $mapObj } from './map'\nimport { mapStr, __mkMapArrayLike, __mkMapObj } from '../helper/map'\nimport { __mkFilter } from '../helper/filter'\n\nexport const $filterArray = __mkFilter($mapArray),\n\t$filterObj = __mkFilter($mapObj),\n\t$filter = __mkFilter($map)\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:50\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:50\n */\nimport { $each, $eachArray, $eachObj, $reach, $reachArray } from './each'\nimport { __mkFind } from '../helper/find'\n\n\nexport const $findArray = __mkFind($eachArray),\n\t$findObj = __mkFind($eachObj),\n\t$find = __mkFind($each),\n\t$rfindArray = __mkFind($reachArray),\n\t$rfind = __mkFind($reach)\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:55\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:55\n */\nimport { $eachArray, $eachObj, $reachArray } from './each'\nimport { __mkIndexOf, __mkTypeIndexOf } from '../helper/indexOf'\n\nexport const $indexOfArray = __mkTypeIndexOf($eachArray),\n\t$indexOfObj = __mkTypeIndexOf($eachObj),\n\t$lastIndexOfArray = __mkTypeIndexOf($reachArray),\n\t$indexOf = __mkIndexOf($indexOfArray, 'indexOf'),\n\t$lastIndexOf = __mkIndexOf($lastIndexOfArray, 'lastIndexOf')\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:23\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:23\n */\nimport { __assign } from '../helper/assign';\nimport { proxy, $hasOwnProp } from './observer'\n\nexport function $assign(obj) {\n\treturn __assign(obj, arguments, 1, __assignFilter)\n}\n\nexport function $assignIf(obj) {\n\treturn __assign(obj, arguments, 1, __assignIfFilter)\n}\n\nexport function $assignBy(obj, filter) {\n\treturn __assign(obj, arguments, 2, __assignUserFilter, filter)\n}\n\nfunction __assignUserFilter(prop, dist, source, cb) {\n\treturn $hasOwnProp(source, prop) && cb(prop, dist, source)\n}\n\nfunction __assignIfFilter(prop, dist, source) {\n\treturn $hasOwnProp(source, prop) && !$hasOwnProp(dist, prop)\n}\n\nfunction __assignFilter(prop, dist, source) {\n\treturn $hasOwnProp(source, prop)\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:33:14\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:33:14\n */\nimport { proxy, $hasOwnProp, isDefaultProp } from './observer'\nimport { STOP, SKIP } from '../helper'\nimport {__mkKV} from '../helper/obj2array'\n\nexport function $obj2array(obj, valueHandler, scope, own) {\n\tconst array = []\n\tlet key, ret, i = 0\n\n\tif (scope) valueHandler = valueHandler.bind(scope)\n\tif (own === false) {\n\t\tfor (key in obj) {\n\t\t\tif (!isDefaultProp(key)) {\n\t\t\t\tret = valueHandler(obj, key)\n\t\t\t\tif (ret === STOP) break\n\t\t\t\tif (ret !== SKIP)\n\t\t\t\t\tarray[i++] = ret\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (key in obj) {\n\t\t\tif ($hasOwnProp(obj, key)) {\n\t\t\t\tret = valueHandler(obj, key)\n\t\t\t\tif (ret === STOP) break\n\t\t\t\tif (ret !== SKIP)\n\t\t\t\t\tarray[i++] = ret\n\t\t\t}\n\t\t}\n\t}\n\treturn array\n}\n\nexport const $keys = __mkKV($obj2array, keyHandler),\n\t$values = __mkKV($obj2array, valueHandler)\n\nfunction keyHandler(obj, key) {\n\treturn isDefaultProp(key) ? isDefaultProp : key\n}\n\nfunction valueHandler(obj, key) {\n\treturn proxy(obj[key])\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:35:58\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-10-20 13:09:21\n */\nimport { assert } from 'devlevel'\nimport { inherit } from '../helper'\n\nexport const CHILD_NODES = 'childNodes',\n\tPARENT = 'parent',\n\tVIRT_NODE = '$virtNode',\n\tVIRT_ELEMENT = '$virtElement',\n\tVIRT_TEXT = '$virtText',\n\tVIRT_BINDING_TEXT = '$virtBindingText',\n\tVIRT_COMPLEX_ELEMENT = '$virtComplexElement',\n\tVIRT_COMMENT = '$virtComment'\n\nexport default inherit(function VNode(comp) {\n\tassert(comp.$comp, 'Require Compontent')\n\tthis.comp = comp\n}, {\n\t[VIRT_NODE]: true,\n\tprepare() {},\n\tmount() {},\n\tunmount() {},\n\tappendTo(parent) {\n\t\tassert(parent.$virtComplexElement, 'parent should be Virtual Complex Element')\n\n\t\treturn parent.append(this)\n\t},\n\tprependTo(parent) {\n\t\tassert(parent.$virtComplexElement, 'parent should be Virtual Complex Element')\n\n\t\treturn parent.prepend(this)\n\t},\n\tinsertBeforeTo(target) {\n\t\tassert(target[PARENT], 'target is Root Node')\n\t\tassert(target[VIRT_NODE], 'target should be Virtual Node')\n\n\t\treturn target[PARENT].insertBefore(this, target)\n\t},\n\tinsertAfterTo(target) {\n\t\tassert(target[PARENT], 'target is Root Node')\n\t\tassert(target[VIRT_NODE], 'target should be Virtual Node')\n\n\t\treturn target[PARENT].insertAfter(this, target)\n\t},\n\treplaceTo(target) {\n\t\tassert(target[PARENT], 'target is Root Node')\n\t\tassert(target[VIRT_NODE], 'target should be Virtual Node')\n\n\t\treturn target[PARENT].replace(this, target)\n\t},\n\tprevSibling() {\n\t\tconst parent = this[PARENT]\n\t\treturn parent && parent[CHILD_NODES].prev(this)\n\t},\n\tnextSibling() {\n\t\tconst parent = this[PARENT]\n\t\treturn parent && parent[CHILD_NODES].next(this)\n\t},\n\tremove() {\n\t\tconst parent = this[PARENT]\n\t\tif (parent) {\n\t\t\tparent[CHILD_NODES].remove(this)\n\t\t\tthis[PARENT] = undefined\n\t\t}\n\t\treturn this\n\t}\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:05\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:14:12\n */\nimport VNode, { VIRT_TEXT } from './VNode'\nimport { inherit, isNil, strval } from '../helper'\n\nexport default inherit(function VText(comp, text) {\n\tVNode.call(this, comp)\n\tthis.data = text\n}, VNode, {\n\t[VIRT_TEXT]: true,\n\ttext(text) {\n\t\tconst { data } = this\n\t\tif (arguments.length === 0)\n\t\t\treturn data\n\t\ttext = strval(text)\n\t\tif (text !== data) {\n\t\t\tthis.update(text)\n\t\t\tthis.data = text\n\t\t}\n\t\treturn this\n\t}\n})\n","import { create, createFn, makeMap, apply, trim, STOP, inherit } from './helper'\n\nexport const keywords = makeMap(\n\t'argilo,Math,Date,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,parseInt,parseFloat,' +\n\t(window ? 'window,document,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent' : 'global'))\n\n\nconst wsReg = /\\s/g,\n\tnewlineReg = /\\n/g,\n\tescapeReg = /[\\{,]\\s*[\\w\\$_]+\\s*:|('(?:[^'\\\\]|\\\\.)*'|\"(?:[^\"\\\\]|\\\\.)*\"|`(?:[^`\\\\]|\\\\.)*\\$\\{|\\}(?:[^`\\\\\"']|\\\\.)*`|`(?:[^`\\\\]|\\\\.)*`)|new |typeof |void |(\\|\\|)/g,\n\trestoreReg = /\"(\\d+)\"/g,\n\tidentityReg = /[^\\w$\\.][A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*)*/g,\n\tpropReg = /^[A-Za-z_$][\\w$]*/,\n\tsimplePathReg = /^[A-Za-z_$#@][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?'\\]|\\[\".*?\"\\]|\\[\\d+\\]|\\[[A-Za-z_$][\\w$]*\\])*$/,\n\tsplitReg = /\\s*\\|\\s*(?:\\|\\s*)*/,\n\ttransformParamReg = /\\s*,\\s*|\\s+/g\n\n// escaped code\n// save escaped string\nconst escaped = []\n\nfunction escape(code) {\n\treturn code.replace(escapeReg, escapeHandler)\n}\n\nfunction restore(code) {\n\treturn code.replace(restoreReg, restoreHandler)\n}\n\nfunction escapeHandler(match) {\n\tlet i = escaped.length\n\tescaped[i] = match\n\treturn `\"${i}\"`\n}\n\nconst escapeStrReg = /\\n|\\t|\\r/g\n\nfunction escapeStrHandler(m) {\n\tswitch (m) {\n\tcase '\\n':\n\t\treturn '\\\\n'\n\tcase '\\t':\n\t\treturn '\\\\t'\n\tcase '\\r':\n\t\treturn '\\\\r'\n\t}\n}\n\nfunction restoreHandler(match, i) {\n\tconst v = escaped[i]\n\tswitch (v.charAt(0)) {\n\tcase '\"':\n\tcase \"'\":\n\tcase '`':\n\t\treturn v.replace(escapeStrReg, escapeStrHandler)\n\t}\n\treturn v\n}\n\n// identity opeartion type\nexport const IDENTITY_OPT_GET = 1,\n\tIDENTITY_OPT_SET = 2,\n\tIDENTITY_OPT_CALL = 3\n\n// parsed identities\nlet identities = create(null),\n\tidentitySize = 0\n\n// identity process callback: function(prefix, identity, opt[IDENTITY_OPT_GET | IDENTITY_OPT_SET | IDENTITY_OPT_CALL])\nlet userIdentityHandler, userKeyWords\n\nfunction isKeyword(attr) {\n\treturn keywords[attr] || (userKeyWords && userKeyWords[attr])\n}\n\nfunction identityHandler(match, i, str) {\n\tconst prefix = match.charAt(0),\n\t\tidentity = match.slice(1),\n\t\tattr = identity.match(propReg)[0]\n\n\tif (isKeyword(attr)) return match\n\n\tconst optIdx = i + match.length,\n\t\toptChar = str.charAt(optIdx)\n\n\tlet opt = IDENTITY_OPT_GET\n\tswitch (optChar) {\n\tcase '(':\n\t\topt = IDENTITY_OPT_CALL\n\t\tbreak\n\tcase '=':\n\t\tif (str.charAt(optIdx + 1) !== '=')\n\t\t\topt = IDENTITY_OPT_SET\n\t\tbreak\n\tcase '/':\n\tcase '*':\n\tcase '+':\n\tcase '-':\n\tcase '%':\n\tcase '&':\n\tcase '|':\n\tcase '~':\n\tcase '^':\n\t\tif (str.charAt(optIdx + 1) === '=')\n\t\t\topt = IDENTITY_OPT_SET\n\t\tbreak\n\tcase '>':\n\tcase '<':\n\t\tif (str.charAt(optIdx + 1) === optChar && str.charAt(optIdx + 2) === '=')\n\t\t\topt = IDENTITY_OPT_SET\n\t\tbreak\n\t}\n\n\tconst rs = userIdentityHandler(prefix, identity, opt)\n\tif (rs) {\n\t\tif (rs[1]) {\n\t\t\tif (!identities[rs[1]]) {\n\t\t\t\tidentitySize++;\n\t\t\t\tidentities[rs[1]] = true\n\t\t\t}\n\t\t}\n\t\treturn rs[0]\n\t}\n\treturn match\n}\n\nfunction makeExecutor(code, params) {\n\tconst body = 'return' + restore((' ' + code.replace(wsReg, '')).replace(identityReg, identityHandler))\n\ttry {\n\t\treturn createFn(params, body)\n\t} catch (e) {\n\t\tconsole.error(code, body)\n\t\tthrow e\n\t}\n}\n\nfunction cleanIdentities() {\n\tif (!identitySize) return []\n\n\t// get identities\n\tconst idents = new Array(identitySize)\n\tlet ident, i = 0\n\tfor (ident in identities)\n\t\tidents[i++] = ident\n\n\t// reset identities\n\tidentities = create(null)\n\tidentitySize = 0\n\treturn idents\n}\n\nfunction isSimpleExpr(code) {\n\tif (simplePathReg.test(code)) {\n\t\tconst match = code.match(propReg)\n\t\treturn match ? !isKeyword(match[0]) : false\n\t}\n\treturn false\n}\n\nconst filterSplitReg = /\\s*\\|\\s*(?:\\|\\s*)*/,\n\tfilterParamReg = /\\s*,\\s*|\\s+/g\n\n/**\n * - identity processor Prototype:\n *\n * [word: String, identity: String>] function(prefix: String, identity: String, opt: IDENTITY_OPT_GET | IDENTITY_OPT_SET | IDENTITY_OPT_CALL)\n *\n * - transforms format:\n *\n * {\n *      [name]: {\n *          transform(args){\n *              ...\n *          },\n *          restore(args){\n *          }\n *      }\n * }\n * @param {String} code                 expression code\n * @param {String[]} paramNames         parameter names\n * @param {Function} identityHandler    identity processor\n * @param {Function} parseFilter        filter processor\n * @param {Object} keywords             keywords <key, true>\n *\n */\nexport function Expression(code, paramNames, identityHandler, parseFilter, keywords) {\n\tuserIdentityHandler = identityHandler\n\tuserKeyWords = keywords\n\n\tthis.expr = code\n\n\tconst codeSplit = escape(code).split(filterSplitReg),\n\t\tlen = codeSplit.length\n\n\t// parse executor\n\tthis.executor = makeExecutor(codeSplit[0], paramNames)\n\n\tconst filters = this.filters = new Array(len - 1)\n\n\t// parse filters\n\tfor (var i = 1, j, l, name, args; i < len; i++) {\n\t\targs = trim(codeSplit[i]).split(filterParamReg)\n\t\tname = restore(args.shift())\n\t\tfor (j = 0, l = args.length; j < l; j++)\n\t\t\targs[j] = makeExecutor(args[j], paramNames)\n\t\tfilters[i - 1] = [parseFilter(name), args, name]\n\t}\n\tconst identities = this.identities = cleanIdentities()\n\tthis.simple = identities.length === 1 && isSimpleExpr(codeSplit[0]) ? codeSplit[0] : false\n\n\tescaped.length = 0\n\tuserIdentityHandler = undefined\n\tuserKeyWords = undefined\n}\ninherit(Expression, {\n\texecute(scope, args) {\n\t\tapply(this.executor, scope, args)\n\t},\n\teachFilter(cb, scope, args) {\n\t\tconst filters = this.filters\n\t\tlet i = 0,\n\t\t\tl = filters.length,\n\t\t\tfilter\n\t\tfor (; i < l; i++) {\n\t\t\tfilter = filters[i]\n\t\t\tif (cb(filter[0], new FilterParams(filter[1], scope, args)) === false)\n\t\t\t\treturn false\n\t\t}\n\t},\n\treachFilter(cb, scope, args) {\n\t\tconst filters = this.filters\n\t\tlet i = filters.length,\n\t\t\tfilter\n\t\twhile (i--) {\n\t\t\tfilter = filters[i]\n\t\t\tif (cb(filter[0], new FilterParams(filter[1], scope, args)) === false)\n\t\t\t\treturn false\n\t\t}\n\t}\n})\n\nfunction FilterParams(params, scope, args) {\n\tthis.params = params\n\tthis.scope = scope\n\tthis.args = args\n}\ninherit(FilterParams, {\n\tget(index, val) {\n\t\tconst { scope, args, params } = this\n\t\tif (arguments.length)\n\t\t\treturn params[index] ? apply(params[index], scope, args) : val\n\n\t\tlet i = params.length\n\t\tconst arr = new Array(i)\n\t\twhile (i--) {\n\t\t\tarr[i] = apply(params[i], scope, args)\n\t\t}\n\t\treturn arr\n\t},\n\titer() {\n\t\tconst { scope, args, params } = this\n\t\tconst len = params.length\n\t\tlet i = 0\n\t\treturn function () {\n\t\t\treturn i < len ? apply(params[i++], scope, args) : STOP\n\t\t}\n\t}\n})\n","/*\n * VNode Expression Identity Handler\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:58:05\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 16:15:24\n */\nimport { IDENTITY_OPT_GET, IDENTITY_OPT_CALL } from '../../Expression'\nimport { formatPath } from '../../common'\n\nexport const VNodeKeyword = '$node'\nexport function identityHandler(prefix, path, opt) {\n\tswitch (path[0]) {\n\tcase VNodeKeyword:\n\t\treturn undefined\n\tcase 'this':\n\t\tpath.shift()\n\t\tbreak\n\t}\n\n\tlet identity = formatPath(path),\n\t\texpr = opt === IDENTITY_OPT_GET ? 'this.$scope.' + identity : 'this.getScope(\"' + path[0] + '\").' + identity\n\n\tif (opt === IDENTITY_OPT_CALL || path[0].charAt(0) === '$')\n\t\tidentity = undefined\n\tif (prefix === '#') {\n\t\tidentity = undefined\n\t\tprefix = ''\n\t}\n\treturn [prefix + expr, identity]\n}\n","/*\n * Transform Expression\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 16:46:41\n * @Last Modified by: Tao Zeng (tao.zeng.zt@qq.com)\n * @Last Modified time: 2018-11-07 15:59:34\n */\nimport { assert } from 'devlevel'\nimport { Expression } from '../../Expression'\nimport { VNodeKeyword, identityHandler } from './identityHandler'\nimport { parsePath } from '../../common'\nimport { create, inherit,isFn } from '../../helper'\n\nexport const transforms = create(null)\n\nfunction transformIdentityHandler(prefix, identity, opt) {\n\treturn identityHandler(prefix, parsePath(identity), opt)\n}\n\nconst paramNames = [VNodeKeyword]\nexport default function TransformExpression(code, transforms, keywords) {\n\tExpression.call(this, code, paramNames, transformIdentityHandler, this.parseFilter.bind(this), keywords)\n\tthis.transforms = transforms\n}\n\ninherit(TransformExpression, Expression, {\n\tvalue(scope, args) {\n\t\treturn this.execute(scope, args)\n\t},\n\ttransformValue(scope, args) {\n\t\treturn this.transform(this.execute(scope, args), scope, args)\n\t},\n\ttransform(value, scope, args) {\n\t\tthis.eachFilter((filter, args) => {\n\t\t\tvalue = isFn(filter) ? filter(value, args) : filter.transform.call(filter, value, args)\n\t\t}, scope, args)\n\t\treturn value\n\t},\n\tcheckRestore() {\n\t\tassert.by(() => {\n\t\t\tthis.reachFilter(filter => {\n\t\t\t\tassert.fn(filter.restore, `Transform[${name}] not support restore`)\n\t\t\t})\n\t\t})\n\t},\n\trestore(value, scope, args) {\n\t\tthis.reachFilter((filter, args, name) => {\n\t\t\tassert.fn(filter.restore, `Transform[${name}] not support restore`)\n\t\t\tvalue = filter.restore.call(filter, value, args)\n\t\t}, scope, args)\n\t\treturn value\n\t},\n\tparseFilter(name) {\n\t\tconst localTransforms = this.transforms\n\t\tconst transform = (localTransforms && localTransforms[name]) || transforms[name]\n\n\t\tassert(transform, `Transform[${name}] is undefined`)\n\n\t\tassert(isFn(transform) || isFn(transform.transform),\n\t\t\t`Invalid Transform[${name}].transform handler on ${(localTransforms && localTransforms[name]) ? 'Local':'Global'} Transforms`)\n\n\t\tassert(!transform.restore || isFn(transform.transform),\n\t\t\t`Invalid Transform[${name}].restore handler on ${(localTransforms && localTransforms[name]) ? 'Local':'Global'} Transforms`)\n\n\t\treturn transform\n\t}\n})\n","/*\n * Transforms\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:57:39\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 18:30:39\n */\nimport { makeMap, applyNoScope, isStr, trim } from '../../helper'\nimport { format, plural, singular, thousandSeparate } from '../../common'\nimport { transforms } from './TransformExpression'\n\ntransforms.json = {\n\ttransform(value, param) {\n\t\tif (isStr(value)) return `\"${value}\"`\n\t\tconst indent = +param.get(0)\n\t\treturn JSON.stringify(value, param.get(1), isNaN(indent) ? 0 : indent)\n\t},\n\trestore(value) {\n\t\treturn (value && isStr(value)) ? JSON.parse(value) : value\n\t}\n}\n\ntransforms.trim = {\n\ttransform(value) {\n\t\treturn isStr(value) ? trim(value) : value\n\t},\n\trestore(value) {\n\t\treturn isStr(value) ? trim(value) : value\n\t}\n}\n\ntransforms.capitalize = function (value) {\n\treturn isStr(value) ? value.charAt(0).toUpperCase() + value.slice(1) : value\n}\n\ntransforms.uppercase = function (value) {\n\treturn isStr(value) ? value.toUpperCase() : value\n}\n\ntransforms.lowercase = function (value) {\n\treturn isStr(value) ? value.toLowerCase() : value\n}\n\ntransforms.plural = function (value) {\n\treturn isStr(value) ? plural(value) : value\n}\n\ntransforms.singular = function (value) {\n\treturn isStr(value) ? singular(value) : value\n}\n\ntransforms.unit = function (value, param) {\n\tlet unit = param.get(0),\n\t\tfmt = param.get(1)\n\tif (value > 1) unit = plural(unit)\n\treturn fmt ? format(fmt, value, unit) : value + ' ' + unit\n}\n\nconst units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB'],\n\tunitRestoreReg = /(KB|B|MB|GB|TB|PB)$/,\n\tunitMap = makeMap(units, (unit, i) => 1 << (i * 10))\ntransforms.bytes = {\n\ttransform(value, param) {\n\t\tconst v = +value\n\t\tif (isNaN(v)) return value\n\n\t\tconst digit = param.get(0, 2),\n\t\t\tprecision = Math.pow(10, digit),\n\t\t\ti = Math.floor(Math.log(v) / Math.log(1024))\n\t\treturn Math.round(v * precision / Math.pow(1024, i)) / precision + ' ' + units[i]\n\t},\n\trestore(value) {\n\t\tif (!isStr(value)) return value\n\t\tlet unit,\n\t\t\tv = value.replace(unitRestoreReg, function (match) {\n\t\t\t\tunit = match\n\t\t\t\treturn ''\n\t\t\t})\n\t\tif (!unit) return value\n\t\tv = +v\n\t\tif (isNaN(v)) return value\n\t\treturn Math.round(v * unitMap[unit])\n\t}\n}\n\n\ntransforms.format = function (value, param) {\n\tconst args = param.get()\n\targs.splice(1, 0, value)\n\treturn applyNoScope(format, args)\n}\n","/*\n * VNode Expression\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:58:36\n * @Last Modified by: Tao Zeng (tao.zeng.zt@qq.com)\n * @Last Modified time: 2018-11-07 16:02:15\n */\nimport TransformExpression, { transforms } from './TransformExpression'\nimport './transforms'\n\nexport default TransformExpression\nexport {\n\ttransforms\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:23\n * @Last Modified by: Tao Zeng (tao.zeng.zt@qq.com)\n * @Last Modified time: 2018-11-07 16:07:37\n */\nimport { VIRT_BINDING_TEXT } from './VNode'\nimport VText from './VText'\nimport TransformExpression from './expression'\nimport { inherit } from '../helper'\n\nexport default inherit(function VBindingText(comp, expr) {\n\tVText.call(this, comp)\n\tthis.expr = expr\n}, VText, {\n\t[VIRT_BINDING_TEXT]: true,\n\tprepare(text) {\n\t\treturn new TransformExpression(text)\n\t},\n\tmount() {\n\t\tconst { expr, comp } = this\n\t\tthis.text(expr.transformValue(comp, [this]))\n\t\tcomp.observeExpr(expr, this.exprHandler, this)\n\t},\n\tunmount() {\n\t\tthis.comp.unobserveExpr(this.expr, this.exprHandler, this)\n\t},\n\texprHandler(path, value) {\n\t\tconst { expr, comp } = this\n\t\tthis.text(expr.simple ? expr.transform(value, comp, [this]) : expr.transformValue(comp, [this]))\n\t}\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:28\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:14:23\n */\nimport { assert } from 'devlevel'\nimport VNode, { VIRT_ELEMENT } from './VNode'\nimport { inherit, fnName } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport default inherit(function VElement(comp, option) {\n\tVNode.call(this, comp)\n\tthis.init(option)\n\tthis.initAttrs(option.attrs)\n\tthis.initDirectives(option.directives)\n}, VNode, {\n\t[VIRT_ELEMENT]: true,\n\tprepare(option) {\n\t\tconst { directives } = option\n\t\tif (directives) {\n\t\t\tconst l = directives.length\n\t\t\tassert.by(l, () => {\n\t\t\t\tfor (var i = 0, g, D; i < l; i++) {\n\t\t\t\t\tg = directives[i]\n\t\t\t\t\tD = g.Directive\n\t\t\t\t\tassert(this[D[PROTOTYPE].$nodeKey],\n\t\t\t\t\t\t`Can not bind directive[${g.dname}: ${fnName(D)}] on ${fnName(this.constructor)}, require ${D[PROTOTYPE].$nodeName}`)\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!l)\n\t\t\t\toption.directives = null\n\t\t}\n\t},\n\tinit() {},\n\tinitDirectives(directives) {\n\t\tif (directives) {\n\t\t\tconst l = directives.length,\n\t\t\t\t__directives = new Array(l)\n\t\t\tfor (var i = 0; i < l; i++)\n\t\t\t\t__directives[i] = directives[i](this)\n\t\t\tthis.directives = __directives\n\t\t}\n\t},\n\tmount() {\n\t\tconst { directives } = this\n\t\tif (directives) {\n\t\t\tconst l = directives.length\n\t\t\tfor (var i = 0; i < l; i++)\n\t\t\t\tdirectives[i].bind()\n\t\t}\n\t},\n\tunmount() {\n\t\tconst { directives } = this\n\t\tif (directives) {\n\t\t\tvar i = directives.length\n\t\t\twhile (i--)\n\t\t\t\tdirectives[i].unbind()\n\t\t}\n\t}\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:34\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:13:56\n */\nimport { assert } from 'devlevel'\nimport { VIRT_NODE, VIRT_COMPLEX_ELEMENT, CHILD_NODES } from './VNode'\nimport VElement from './VElement'\nimport { List } from '../common'\nimport { inherit } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst { prepare, mount, unmount } = VElement[PROTOTYPE]\n\nexport default inherit(function VComplexElement(comp, option) {\n\tVElement.call(this, comp, option)\n\tthis.initChildren(option.children)\n}, VElement, {\n\t[VIRT_COMPLEX_ELEMENT]: true,\n\t$childKey: VIRT_NODE,\n\t$childName: 'Virtual Node',\n\tprepare(option, N) {\n\t\tprepare.call(this, option, N)\n\t\tconst children = option.children\n\t\tif (children) {\n\t\t\tconst l = children.length\n\t\t\tfor (var i = 0, N; i < l; i++) {\n\t\t\t\tN = children[i].VNode\n\t\t\t\tassert(N[PROTOTYPE][this.$childKey], `Child Node[${i}: ${children[i].ename}] should be ${this.$childName}`)\n\t\t\t}\n\t\t}\n\t},\n\tinitChildren(children) {\n\t\tconst childNodes = this[CHILD_NODES] = new List()\n\t\tconst l = children.length\n\t\tconst __children = new Array(l)\n\t\tfor (var i = 0, child; i < l; i++) {\n\t\t\t__children[i] = child = children[i](this.comp)\n\t\t\tchild.parent = this\n\t\t\tthis.initChild(child)\n\t\t}\n\t\tchildNodes.addAll(__children)\n\t},\n\tinitChild(child) {\n\n\t},\n\tmount() {\n\t\tmount.call(this)\n\t\tthis[CHILD_NODES].each(mountChildHandler)\n\t},\n\tunmount() {\n\t\tthis[CHILD_NODES].each(unmountChildHandler)\n\t\tunmount.call(this)\n\t},\n\tchildCount() {\n\t\treturn this[CHILD_NODES].length\n\t},\n\tfirst() {\n\t\treturn this[CHILD_NODES].first()\n\t},\n\tlast() {\n\t\treturn this[CHILD_NODES].last()\n\t},\n\tprev: createSibling('prev'),\n\tnext: createSibling('next'),\n\tappend: createInsert('add'),\n\tprepend: createInsert('addFirst'),\n\tinsertBefore: createInsertSibling('insertBefore'),\n\tinsertAfter: createInsertSibling('insertAfter'),\n\treplace(node, target) {\n\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\t\tassert(this[CHILD_NODES].has(target), `target is not existing in this Node`)\n\n\t\tnode.remove()\n\t\tthis[CHILD_NODES].insert(node, target)\n\t\ttarget.remove()\n\t\tnode.parent = this\n\t\treturn this\n\t},\n\teachChildren(cb, scope) {\n\t\treturn this[CHILD_NODES].each(cb, scope)\n\t}\n})\n\nfunction createSibling(get) {\n\treturn function (node) {\n\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\n\t\treturn this[CHILD_NODES][get](node)\n\t}\n}\n\nfunction createInsert(insert) {\n\treturn function (node) {\n\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\n\t\tnode.remove()\n\t\tthis[CHILD_NODES][insert](node)\n\t\tnode.parent = this\n\t}\n\treturn this\n}\n\nfunction createInsertSibling(insert) {\n\treturn function (node, target) {\n\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\t\tassert(this[CHILD_NODES].has(target), `target is not existing in this Node`)\n\n\t\tnode.remove()\n\t\tthis[CHILD_NODES][insert](node, target)\n\t\tnode.parent = this\n\t\treturn this\n\t}\n}\n\nfunction mountChildHandler(child) {\n\tchild.mount()\n}\n\nfunction unmountChildHandler(child) {\n\tchild.unmount()\n}\n","/*\n * <CompontentTag>\n *      <div ref=\"\"\n * </CompontentTag>\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:37:24\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-05 14:01:41\n */\nimport { assert } from 'devlevel'\nimport VComplexElement from './VComplexElement'\nimport { parsePath } from '../common'\nimport { observer } from '../observer'\nimport { inherit, hasOwnProp, isObj } from '../helper'\n\nexport default inherit(function Compontent(scope, option) {\n\tVComplexElement.call(this, this, option)\n\n\tlet comp = null\n\tif (!isObj(scope)) {\n\t\tassert(scope && scope.$comp, 'Require Parent Compontent')\n\t\tcomp = scope\n\t\tscope = comp.$scope\n\t}\n\tconst obs = observer(scope)\n\tthis.scope = obs.proxy\n\tthis.$scope = obs.source\n    this.$observer = obs\n    this.parent = comp\n}, VComplexElement, {\n\t$comp: true,\n\tprepare(option) {\n\n\t},\n\tinitAttrs() {},\n\t$getScope(attr) {\n\t\tlet $observer = this.$observer,\n\t\t\tparent\n\t\twhile (!hasOwnProp($observer.source, attr) && (parent = $observer.$parent) && (attr in parent.source))\n\t\t\t$observer = parent\n\t\treturn $observer\n\t},\n\tgetScope(attr) {\n\t\treturn this.$getScope(attr).proxy\n\t},\n\tobserve(path, cb, scope) {\n\t\tpath = parsePath(path)\n\t\tthis.$getScope(path[0]).observe(path, cb, scope)\n\t\treturn this\n\t},\n\tunobserve(path, cb, scope) {\n\t\tthis.$getScope(path[0]).unobserve(path, cb, scope)\n\t\treturn this\n\t},\n\tobserveExpr(expr, cb, scope) {\n\t\tconst identities = expr.identities,\n\t\t\tl = identities.length\n\t\tfor (var i = 0; i < l; i++)\n\t\t\tthis.observe(identities[i], cb, scope)\n\t\treturn this\n\t},\n\tunobserveExpr(expr, cb, scope) {\n\t\tconst identities = expr.identities,\n\t\t\tl = identities.length\n\t\tfor (var i = 0; i < l; i++)\n\t\t\tthis.unobserve(identities[i], cb, scope)\n\t\treturn this\n\t},\n\tonProxyChange(fn, scope) {\n\t\tthis.$observer.onProxyChange(fn, scope)\n\t\treturn this\n\t},\n\tunProxyChange(fn, scope) {\n\t\tthis.$observer.unProxyChange(fn, scope)\n\t\treturn this\n\t},\n\tdestroy() {\n\n\t}\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:40\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:13:45\n */\nimport VNode, { VIRT_COMMENT } from './VNode'\nimport { inherit } from '../helper'\n\nexport default inherit(function VComment(comp, comment) {\n\tVNode.call(this, comp)\n\tthis.comment = comment\n}, VNode, {\n\t[VIRT_COMMENT]: true\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:45\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 18:03:59\n */\nimport { assert, info } from 'devlevel'\nimport { createClass, inherit, create, subclassOf, fnName, isObj, isFn } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport const directives = create(null)\nexport function Directive(node, params) {\n\tthis.comp = node.comp\n\tthis.node = node\n\tthis.params = params\n}\ninherit(Directive, {\n\t$directive: true,\n\t$nodeKey: '$virtElement',\n\t$nodeName: 'Virtual Element',\n\tprepare() {},\n\tbind() {},\n\tunbind() {},\n\tobserveExpr(expr, cb, scope) {\n\t\treturn this.comp.observeExpr(expr, cb, scope)\n\t},\n\tunobserveExpr(expr, cb, scope) {\n\t\treturn this.comp.unobserveExpr(expr, cb, scope)\n\t}\n})\n\nexport function registerDirective(name, directive) {\n\tname = name.toLowerCase()\n\tassert(!directives[name], `Double Register Directive[${name}]`)\n\tif (!isFn(directive)) {\n\t\tif (!directive.extend)\n\t\t\tdirective.extend = Directive\n\t\tdirective = createClass(directive)\n\t}\n\tassert(directive[PROTOTYPE].$directive, `Invalid Directive[${name}], should extend Directive`)\n\n\tdirectives[name] = directive\n\tinfo(`Register Directive: ${fnName(directive)} [${name}]`)\n\treturn directive\n}\n\nexport function directive(name, value, params) {\n\tconst Directive = directives[name]\n\tassert(Directive, `Directive[${name}] is undefined`)\n\tif (!params) params = {}\n\tparams.value = value\n\tparams = Directive[PROTOTYPE].prepare(params, Directive) || params\n\n\tgenerator.params = params\n\tgenerator.dname = name\n\tgenerator.Directive = Directive\n\n\tfunction generator(node) {\n\t\treturn new Directive(node, params)\n\t}\n\treturn generator\n}\n","export { default as VNode } from './VNode'\nexport { default as VText } from './VText'\nexport { default as VBindingText } from './VBindingText'\nexport { default as VElement } from './VElement'\nexport { default as VComplexElement } from './VComplexElement'\nexport { default as Compontent } from './Compontent'\nexport { default as VComment } from './VComment'\nexport {default as TransformExpression, transforms} from './expression'\nexport * from './Directive'\n\nimport { assert, info, debug } from 'devlevel'\nimport { create, fnName } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\nimport { VIRT_TEXT, VIRT_BINDING_TEXT, VIRT_COMMENT, VIRT_ELEMENT, VIRT_COMPLEX_ELEMENT } from './VNode'\n\nconst VElements = create(null)\nexport const tags = create(VElements)\nlet Text, BindingText, Comment\n\nexport function registerVElement(name, VElement) {\n\tassert(!VElements[name], `Double Register Virtual Element: ${fnName(VElement)} <${name}>`)\n\tassert(VElement[PROTOTYPE][VIRT_ELEMENT], `Invalid Virtual Element: ${fnName(VElement)} <${name}>`)\n\n\tVElements[name] = VElement\n\n\tinfo(`register Virtual Element: ${fnName(VElement)} <${name}>`)\n\treturn VElement\n}\n\nexport function registerVText(VText) {\n\tassert(!Text, `Double Register Virtual Text`)\n\tassert(VText[PROTOTYPE][VIRT_TEXT], `Invalid Virtual Node: ${fnName(VText)}`)\n\n\tText = VText\n\n\tinfo(`register Virtual Text: ${fnName(VText)}`)\n\treturn Text\n}\n\nexport function registerVBindingText(VBindingText) {\n\tassert(!BindingText, `Double Register Virtual Binding Text`)\n\tassert(VBindingText[PROTOTYPE][VIRT_BINDING_TEXT], `Invalid Virtual Binding Text: ${fnName(VBindingText)}`)\n\n\tBindingText = VBindingText\n\n\tinfo(`register Virtual Binding Text: ${fnName(VBindingText)}`)\n\treturn BindingText\n}\n\nexport function registerVComment(VComment) {\n\tassert(!Comment, `Double Register Virtual Comment `)\n\tassert(VComment[PROTOTYPE][VIRT_COMMENT], `Invalid Virtual Comment: ${fnName(VComment)}`)\n\n\tComment = VComment\n\n\tinfo(`register Virtual Comment : ${fnName(VComment)}`)\n\treturn VComment\n}\n\nexport function elem(name, attrs, directives, children) {\n\tconst VElement = VElements[name]\n\tif (children && !children.length) children = undefined\n\n\tassert(VElement, `Virtual Element[${name}] is undefined`)\n\n\tassert(!children || !children.length || VElement[PROTOTYPE][VIRT_COMPLEX_ELEMENT],\n\t\t`Virtual Element[${name}] have no children`)\n\n\tconst gen = generator(VElement, {\n\t\tattrs,\n\t\tdirectives,\n\t\tchildren\n\t})\n\tgen.ename = name\n\treturn gen\n}\n\nexport function text(text, isExpr) {\n\treturn generator(isExpr ? BindingText : Text, text)\n}\n\nexport function comment(comment) {\n\treturn generator(Comment, comment)\n}\n\nfunction generator(VNode, option) {\n\toption = VNode[PROTOTYPE].prepare(option, VNode) || option\n\n\tfunction generator(comp) {\n\t\treturn new VNode(comp, option)\n\t}\n\tgenerator.VNode = VNode\n\tgenerator.option = option\n\n\treturn generator\n}\n","import { isStr, isArrayLike } from '../../helper'\n\nexport const ADD_EVENT_LISTENER = 'addEventListener',\n\tATTACH_EVENT = 'attachEvent',\n\tDOCUMENT_ELEMENT = 'documentElement',\n\tDEFAULT_VIEW = 'defaultView',\n\tPARENT_WINDOW = 'parentWindow',\n\tAPPEND_CHILD = 'appendChild',\n\tREMOVE_CHILD = 'removeChild',\n\tINSERT_BEFORE = 'insertBefore',\n\tREPLACE_CHILD = 'replaceChild',\n\tPARENT_NODE = 'parentNode',\n\tCONTAINS = 'contains',\n\tINNER_HTML = 'innerHTML',\n\tCREATE_ELEMENT = 'createElement',\n\tOWNER_DOCUMENT = 'ownerDocument',\n\tSET_ATTRIBUTE = 'setAttribute',\n\tGET_ATTRIBUTE = 'getAttribute',\n\tREMOVE_ATTRIBUTE = 'removeAttribute',\n\tCHECKED = 'checked',\n\tSELECTED = 'selected',\n\tDISABLED = 'disabled',\n\tREAD_ONLY = 'readOnly',\n\tTAB_INDEX = 'tabIndex',\n    HTML_FOR = 'htmlFor',\n\tCLASS_NAME = 'className',\n\tCURRENT_TARGET = 'currentTarget',\n\tPREVENT_DEFAULT = 'preventDefault',\n\tSTOP_PROPAGATION = 'stopPropagation',\n\tSTOP_IMMEDIATE_PROPAGATION = 'stopImmediatePropagation',\n\tCLIENT_TOP = 'clientTop',\n\tCLIENT_LEFT = 'clientLeft',\n\tSCROLL_LEFT = 'scrollLeft',\n\tSCROLL_TOP = 'scrollTop',\n\tPAGE_XOFFSET = 'pageXOffset',\n\tPAGE_YOFFSET = 'pageYOffset',\n\tCLIENTX = 'clientX',\n\tCLIENTY = 'clientY',\n\tPAGEX = 'pageX',\n\tPAGEY = 'pageY'\n\nexport const ROOTELEMENT = document[DOCUMENT_ELEMENT]\nexport const DIV = document[CREATE_ELEMENT]('div')\n\nexport function getWindow(el) {\n\treturn el.window && el.document ? el : el.nodeType === 9 ? el[DEFAULT_VIEW] || el[PARENT_WINDOW] : undefined\n}\n\nexport function inDoc(el, root) {\n\tif (!root) root = ROOTELEMENT\n\tif (root[CONTAINS]) return root[CONTAINS](el)\n\twhile (el = el[PARENT_NODE])\n\t\tif (el === root)\n\t\t\treturn true\n\treturn false\n}\n\nexport function query(selectors) {\n\treturn isStr(selectors) ? document.querySelector(selectors) : isArrayLike(selectors) ? selectors[0] : selectors\n}\n\n\nexport function prependChild(parent, el) {\n\tlet first = parent.firstChild\n\tfirst ? first !== el && parent[INSERT_BEFORE](el, first) : parent[APPEND_CHILD](el)\n}\n\nexport function insertAfter(el, prev) {\n\tvar next = prev.nextSibling\n\tnext ? next !== el && prev[PARENT_NODE][INSERT_BEFORE](el, next) : prev[PARENT_NODE][APPEND_CHILD](el)\n}\n\nexport function insertBefore(el, next) {\n\tel !== next.previousSibling && next[PARENT_NODE][INSERT_BEFORE](el, next)\n}\n","import { VIRT_NODE } from '../vnode/VNode'\nimport {\n\tPARENT_NODE,\n\tAPPEND_CHILD,\n\tREMOVE_CHILD,\n\tREPLACE_CHILD,\n\tquery,\n\tprependChild,\n\tinsertAfter,\n\tinsertBefore\n} from './util/util'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport default function (VNode) {\n\tconst remove = VNode[PROTOTYPE].remove\n\treturn {\n\t\t$htmlNode: true,\n\t\tappendTo(parent) {\n\t\t\tif (parent[VIRT_NODE]) {\n\t\t\t\tparent.append(this)\n\t\t\t} else {\n\t\t\t\tquery(parent)[APPEND_CHILD](this.el)\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tprependTo(parent) {\n\t\t\tif (parent[VIRT_NODE]) {\n\t\t\t\tparent.prepend(this)\n\t\t\t} else {\n\t\t\t\tprependChild(query(parent), this.el)\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tinsertBeforeTo(target) {\n\t\t\tif (target[VIRT_NODE]) {\n\t\t\t\ttarget.parent.insertBefore(this, target)\n\t\t\t} else {\n\t\t\t\tinsertAfter(this.el, query(target))\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tinsertAfterTo(target) {\n\t\t\tif (target[VIRT_NODE]) {\n\t\t\t\ttarget.parent.insertAfter(this, target)\n\t\t\t} else {\n\t\t\t\tinsertBefore(this.el, query(target))\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\treplaceTo(target) {\n\t\t\tif (target[VIRT_NODE]) {\n\t\t\t\ttarget.parent.replace(this, target)\n\t\t\t} else {\n\t\t\t\ttaget = query(target)\n\t\t\t\ttarget[PARENT_NODE][REPLACE_CHILD](this.el, target)\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tremove() {\n\t\t\tconst el = this.el,\n\t\t\t\tpEl = el[PARENT_NODE]\n\t\t\tpEl && pEl[REMOVE_CHILD](el)\n\t\t\treturn remove.call(this)\n\t\t}\n\t}\n\n}\n","/*\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-25 17:47:25\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:29:48\n */\nimport { assert } from 'devlevel'\nimport { inDoc, CREATE_ELEMENT, APPEND_CHILD, INNER_HTML } from './util/util'\n\nconst DOM_ELEMENT = '__element__'\nconst CHECKED = 'checked'\n\nconst OUTER_HTML = 'outerHTML'\n\nexport default {\n\t$htmlElement: true,\n\tinit(option) {\n\t\tconst el = document[CREATE_ELEMENT](this.tagName)\n\t\tel[DOM_ELEMENT] = this\n\t\tthis.el = el\n\t\tthis.initDomEvent()\n\t},\n\tinDoc() {\n\t\treturn inDoc(this.el)\n\t},\n\touterHtml() {\n\t\tconst el = this.el\n\t\tif (el[OUTER_HTML]) return el[OUTER_HTML]\n\t\tDIV[APPEND_CHILD](el.cloneNode(true))\n\t\tconst html = DIV[INNER_HTML]\n\t\tDIV[INNER_HTML] = ''\n\t\treturn html\n\t},\n\tfocus() {\n\t\tthis.el.focus()\n\t\treturn this\n\t}\n}\n","import { create, hasOwnProp, isObj } from '../../helper'\n\nexport default function (normal, __hooks, defKey, recive) {\n\tconst hooks = create(null),\n\t\trevices = recive && create(null)\n\t__hooks && addHook(__hooks)\n\n\treturn {\n\t\taddHook,\n\t\tgetHook(key) {\n\t\t\treturn hooks[key] || normal\n\t\t},\n\t\thookMember(key, member) {\n\t\t\tconst hook = hooks[key]\n\t\t\treturn hook && hook[member]\n\t\t},\n\t\tmemberHook(key, member) {\n\t\t\tconst hook = hooks[key]\n\t\t\tif (hook && hook[member]) return hook\n\t\t\tif (normal[member]) return normal\n\t\t},\n\t\thookRevice(key) {\n\t\t\treturn revices[key]\n\t\t}\n\t}\n\n\tfunction addHook(key, hook) {\n\t\tif (arguments.length === 1) {\n\t\t\tfor (var k in key)\n\t\t\t\tif (hasOwnProp(key, k))\n\t\t\t\t\tdoAdd(k, key[k])\n\t\t} else {\n\t\t\treturn doAdd(key, hook)\n\t\t}\n\t}\n\n\tfunction doAdd(key, hook) {\n\t\tif (!isObj(hook)) {\n\t\t\thook = {\n\t\t\t\t[defKey]: hook\n\t\t\t}\n\t\t}\n\t\tif (revices && hook[recive])\n\t\t\trevices[hook[recive]] = key\n\t\thooks[key] = hook\n\t\treturn hook\n\t}\n}\n","/*\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:54:34\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 12:47:27\n */\nimport createHook from './util/hook'\nimport {\n\tSET_ATTRIBUTE,\n\tGET_ATTRIBUTE,\n\tREMOVE_ATTRIBUTE,\n\tCHECKED,\n\tSELECTED,\n\tDISABLED,\n\tREAD_ONLY,\n\tTAB_INDEX,\n\tHTML_FOR\n} from './util/util'\nimport { $eachObj } from '../observer'\nimport { create, applyNoScope, isStr } from '../helper'\n\nconst GET_ATTRIBUTENODE = GET_ATTRIBUTE + 'Node'\n\nconst NAME = 'name',\n\tGET = 'get',\n\tSET = 'set'\n\nconst { hookMember, memberHook, addHook } = createHook({\n\tget(el, name) {\n\t\treturn el[name]\n\t},\n\tset(el, name, value) {\n\t\tel[name] = value\n\t}\n}, {\n\ttabIndex: {\n\t\tget(el, name) {\n\t\t\tlet attributeNode = el[GET_ATTRIBUTENODE]('tabindex')\n\t\t\treturn attributeNode && attributeNode.specified ?\n\t\t\t\tparseInt(attributeNode.value, 10) :\n\t\t\t\trfocusable.test(el.nodeName) ||\n\t\t\t\trclickable.test(el.nodeName) && el.href ?\n\t\t\t\t0 :\n\t\t\t\tundefined\n\t\t}\n\t}\n}, {\n\ttabindex: TAB_INDEX,\n\treadonly: READ_ONLY,\n\t'for': HTML_FOR,\n\t'class': 'className',\n\tmaxlength: 'maxLength',\n\tcellspacing: 'cellSpacing',\n\tcellpadding: 'cellPadding',\n\trowspan: 'rowSpan',\n\tcolspan: 'colSpan',\n\tusemap: 'useMap',\n\tframeborder: 'frameBorder',\n\tcontenteditable: 'contentEditable'\n}, NAME)\n\n\nexport default {\n\tinitAttrs(attrs) {\n\t\tattrs && this.attr(attrs)\n\t},\n\tattr(name, value) {\n\t\tconst el = this.el\n\t\tif (arguments.length === 1) {\n\t\t\tif (isStr(name)) return el[GET_ATTRIBUTE](name)\n\t\t\t$eachObj(name, (value, name) => {\n\t\t\t\tel[SET_ATTRIBUTE](name, value)\n\t\t\t})\n\t\t} else {\n\t\t\tel[SET_ATTRIBUTE](name, value)\n\t\t}\n\t\treturn this\n\t},\n\tremoveAttr(name) {\n\t\tthis.el[REMOVE_ATTRIBUTE](name)\n\t\treturn this\n\t},\n\tprop(name, value) {\n\t\tconst el = this.el\n\t\tif (arguments.length === 1) {\n\t\t\tif (isStr(name))\n\t\t\t\treturn getProp(el, name)\n\t\t\t$eachObj(name, (value, name) => {\n\t\t\t\tsetProp(el, name, value)\n\t\t\t})\n\t\t} else {\n\t\t\tsetProp(el, name, value)\n\t\t}\n\t\treturn this\n\t},\n\tchecked: propAccessor(CHECKED),\n\tselected: propAccessor(SELECTED),\n\tdisabled: propAccessor(DISABLED),\n\treadonly: propAccessor(READ_ONLY),\n\ttabindex: propAccessor(TAB_INDEX),\n\tfor: propAccessor(HTML_FOR)\n}\n\nexport function addDomPropHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nfunction propAccessor(PROP) {\n\treturn function (value) {\n\t\tconst el = this.el\n\t\tif (arguments.length) {\n\t\t\tsetProp(el, PROP, value)\n\t\t\treturn this\n\t\t}\n\t\treturn getProp(el, PROP)\n\t}\n}\n\nfunction getProp(el, name) {\n\tname = hookMember(name, NAME)\n\treturn memberHook(name, GET)[GET](el, name)\n}\n\nfunction setProp(el, name, value) {\n\tname = hookMember(name, NAME)\n\tmemberHook(name, SET)[SET](el, name, value)\n}\n","/*\n * element class operations\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:48:52\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 12:43:08\n */\nimport { DIV, CLASS_NAME } from './util/util'\nimport { create, trim, isArray, isStr, isBool } from '../helper'\n\nconst CLASS_LIST = 'classList'\n\nconst wsReg = /\\s+/g\n\nconst addClass = (DIV[CLASS_LIST] ? mkClasslistUpdator('add') : function (el, className) {\n\t\tclassName = parseClassNameArray(className)\n\t\tif (className.length)\n\t\t\tel[CLASS_NAME] = trim(clearClassName(el[CLASS_NAME], className) + ' ' + className.join(' '))\n\t\treturn this\n\t}),\n\tremoveClass = (DIV[CLASS_LIST] ? mkClasslistUpdator('remove') : function (el, className) {\n\t\tclassName = parseClassNameArray(className)\n\t\tif (className.length)\n\t\t\tel[CLASS_NAME] = trim(clearClassName(el[CLASS_NAME], className))\n\t\treturn this\n\t})\nexport default {\n\tclassName(className) {\n\t\tconst el = this.el\n\t\tif (arguments.length) {\n\t\t\tel[CLASS_NAME] = parseClassName(className)\n\t\t\treturn this\n\t\t}\n\t\treturn trim(el[CLASS_NAME]).split(wsReg)\n\t},\n\taddClass,\n\tremoveClass,\n\tmargeClass(obj) {\n\t\tconst el = this.el,\n\t\t\tadds = [],\n\t\t\tclears = []\n\t\tlet name, val\n\t\tfor (name in obj) {\n\t\t\tval = obj[name]\n\t\t\tswitch (val) {\n\t\t\tcase true:\n\t\t\t\tadds.push(name)\n\t\t\tcase false:\n\t\t\t\tclears.push(name)\n\t\t\t}\n\t\t}\n\t\tel[CLASS_NAME] = trim(clearClassName(el[CLASS_NAME], clears) + ' ' + adds.join(' '))\n\t\treturn this\n\t}\n}\n\nfunction mkClasslistUpdator(method) {\n\treturn function (className) {\n\t\tclassName = parseClassNameArray(className)\n\n\t\tconst classList = this.el[CLASS_LIST]\n\t\tlet i = className.length\n\t\twhile (i--)\n\t\t\tclassList[method](className[i])\n\t\treturn this\n\t}\n}\n\nconst clearRegCache = create(null)\n\nfunction clearClassName(className, removes) {\n\tremoves = removes.join('|')\n\tconst reg = clearRegCache[removes] || (clearRegCache[removes] = new RegExp('(\\\\s+|^)(' + removes + ')', 'g'))\n\treturn className.replace(reg, '')\n}\n\nfunction parseClassName(className) {\n\tif (isStr(className)) return trim(className)\n\treturn parseClassNameArrayByObj(className).join(' ')\n}\n\nfunction parseClassNameArray(className) {\n\tif (isStr(className)) return trim(className).split(wsReg)\n\treturn parseClassNameArrayByObj(className)\n}\n\nfunction parseClassNameArrayByObj(className) {\n\tif (isArray(className)) return className\n\n\tconst names = []\n\tlet key, i = 0\n\tfor (key in className) {\n\t\tif (className[key] === true)\n\t\t\tnames[i++] = key\n\t}\n\treturn names\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-09-01 10:51:15\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:15:03\n */\nimport { ROOTELEMENT, ADD_EVENT_LISTENER, ATTACH_EVENT } from './util'\nimport { nextTick } from '../../common'\n\nexport const W3C = !!window.dispatchEvent\nexport const IE8 = !!window.XDomainRequest\nexport const IE9 = navigator.userAgent.indexOf('MSIE 9') !== -1\n\nexport default function ready(fn) {\n\t!isReady ? readyList.push(fn) : fn()\n}\n\nlet readyList = [],\n\tisReady\n\nfunction fireReady(fn) {\n\tisReady = true\n\twhile (fn = readyList.shift())\n\t\tfn()\n\treadyList = undefined\n}\n\nconst READY_STATE = 'readyState',\n\tDO_SCROLL = 'doScroll'\n\nif (document[READY_STATE] === 'complete') {\n\tnextTick(fireReady)\n} else if (document[ADD_EVENT_LISTENER]) {\n\tdocument[ADD_EVENT_LISTENER]('DOMContentLoaded', fireReady)\n} else if (document[ATTACH_EVENT]) {\n\tdocument[ATTACH_EVENT]('onreadystatechange', function () {\n\t\tif (document[READY_STATE] === 'complete')\n\t\t\tfireReady()\n\t})\n\tif (ROOTELEMENT[DO_SCROLL] && window.frameElement === null && window.external) {\n\t\tfunction doScrollCheck() {\n\t\t\ttry {\n\t\t\t\tROOTELEMENT[DO_SCROLL]('left')\n\t\t\t\tfireReady()\n\t\t\t} catch (e) {\n\t\t\t\tnextTick(doScrollCheck)\n\t\t\t}\n\t\t}\n\t\tdoScrollCheck()\n\t}\n}\n","/*\n * element css opeartions\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:49:56\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:55:15\n */\nimport {\n\tinDoc,\n\tgetWindow,\n\tROOTELEMENT,\n\tOWNER_DOCUMENT,\n\tPARENT_WINDOW,\n\tDEFAULT_VIEW,\n\tREMOVE_ATTRIBUTE,\n\tCLIENT_TOP,\n\tCLIENT_LEFT,\n\tSCROLL_LEFT,\n\tSCROLL_TOP,\n\tPAGE_XOFFSET,\n\tPAGE_YOFFSET\n} from './util/util'\nimport createHook from './util/hook'\nimport { W3C, IE8 } from './util'\nimport { create, applyScope, makeMap, isNil, isStr } from '../helper'\nimport { $eachObj } from '../observer'\n\nconst numberCss = makeMap(\n\t'animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,' +\n\t'fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom')\n\nconst NAME = 'name',\n\tGET = 'get',\n\tSET = 'set'\nconst nameHooks = create(null)\nconst { memberHook, addHook } = createHook({\n\tget(el, name) {\n\t\tif (name === 'background')\n\t\t\tname = 'backgroundColor'\n\t\treturn getStyle(el, name)\n\t},\n\tset(el, name, value) {\n\t\tel.style[name] = value\n\t}\n})\nnameHooks.float = W3C ? 'cssFloat' : 'styleFloat'\n\nconst OFFSET_PARENT = 'offsetParent',\n\tGET_BOUNDING_CLIENT_RECT = 'getBoundingClientRect',\n\tFILTER = 'filter',\n\tPOSITION = 'position'\n\n\n// ========================= Mixin =================================\nfunction setCss(el, name, value) {\n\tname = camelize(name)\n\tif (isNil(value)) {\n\t\tvalue = ''\n\t} else if (!numberCss[name] && isFinite(value)) {\n\t\tvalue += 'px'\n\t}\n\tmemberHook(name, SET)[SET](el, cssHookName(name), value, name)\n}\n\nexport default {\n\tcss(name, value) {\n\t\tconst el = this.el\n\t\tif (arguments.length === 1) {\n\t\t\tif (isStr(name)) {\n\t\t\t\tname = camelize(name)\n\t\t\t\tconst value = memberHook(name, GET)[GET](el, cssHookName(name), name),\n\t\t\t\t\tnum = parseFloat(value)\n\t\t\t\treturn isFinite(num) ? num : value\n\t\t\t}\n\t\t\t$eachObj(name, (value, name) => {\n\t\t\t\tsetCss(el, name, value)\n\t\t\t})\n\t\t} else {\n\t\t\tsetCss(el, name, value)\n\t\t}\n\t\treturn this\n\t},\n\toffset() {\n\t\tconst el = this.el,\n\t\t\tdoc = el[OWNER_DOCUMENT],\n\t\t\tbox = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0\n\t\t\t}\n\n\t\tif (!doc) return box\n\n\t\tconst body = doc.body,\n\t\t\twin = doc[DEFAULT_VIEW] || doc[PARENT_WINDOW]\n\n\t\tif (!inDoc(el)) return box\n\n\t\tif (el[GET_BOUNDING_CLIENT_RECT]) {\n\t\t\tvar rect = el[GET_BOUNDING_CLIENT_RECT]()\n\t\t\tbox.top = rect.top\n\t\t\tbox.left = rect.left\n\t\t}\n\t\tconst clientTop = ROOTELEMENT[CLIENT_TOP] || body[CLIENT_TOP],\n\t\t\tclientLeft = ROOTELEMENT[CLIENT_LEFT] || body[CLIENT_LEFT],\n\t\t\tscrollTop = Math.max(win[PAGE_YOFFSET] || 0, ROOTELEMENT[SCROLL_TOP], body[SCROLL_TOP]),\n\t\t\tscrollLeft = Math.max(win[PAGE_XOFFSET] || 0, ROOTELEMENT[SCROLL_LEFT], body[SCROLL_LEFT])\n\n\t\tbox.top += scrollTop - clientTop\n\t\tbox.left += scrollLeft - clientLeft\n\t\treturn box\n\t},\n\tposition() {\n\t\tconst el = this.el\n\t\tlet top, left\n\t\tif (getStyle(el, POSITION) === 'fixed') {\n\t\t\tvar o = el[GET_BOUNDING_CLIENT_RECT]()\n\t\t\ttop = o.top\n\t\t\tleft = o.left\n\t\t} else {\n\t\t\tvar o = this.offset(el),\n\t\t\t\tp = offsetParent(el)\n\t\t\ttop = o.top - getNumStyle(p, 'borderTopWidth') + this.scrollTop(p)\n\t\t\tleft = o.left - getNumStyle(p, 'borderLeftWidth') + this.scrollLeft(p)\n\t\t\tif (p.tagName !== 'HTML') {\n\t\t\t\tvar op = this.offset(p)\n\t\t\t\ttop -= op.top\n\t\t\t\tleft -= op.left\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\ttop: top - getNumStyle(el, 'marginTop'),\n\t\t\tleft: left - getNumStyle(el, 'marginLeft')\n\t\t}\n\t},\n\tscrollTop() {\n\t\tconst el = this.el,\n\t\t\twin = getWindow(el)\n\t\treturn (win ? SCROLL_TOP in win ? win[SCROLL_TOP] : ROOTELEMENT[PAGE_YOFFSET] : el[PAGE_YOFFSET]) || 0\n\t},\n\tscrollLeft() {\n\t\tconst el = this.el,\n\t\t\twin = getWindow(el);\n\t\treturn (win ? SCROLL_LEFT in win ? win[SCROLL_LEFT] : ROOTELEMENT[PAGE_XOFFSET] : el[PAGE_XOFFSET]) || 0\n\t},\n\tscrollTo(left, top) {\n\t\tconst el = this.el,\n\t\t\twin = getWindow(el)\n\t\tif (win) {\n\t\t\twin.scrollTo(left, top)\n\t\t} else {\n\t\t\tel[PAGE_XOFFSET] = left\n\t\t\tel[PAGE_YOFFSET] = top\n\t\t}\n\t}\n}\n\nexport function addDomStyleHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nfunction offsetParent(el) {\n\tlet p = el[OFFSET_PARENT]\n\twhile (p && getStyle(p, POSITION) === 'static')\n\t\tp = p[OFFSET_PARENT]\n\treturn p || ROOTELEMENT\n}\n\n// ========================= css opeartions =================================\n\nconst cssPrefixes = ['', '-webkit-', '-o-', '-moz-', '-ms-'],\n\thost = ROOTELEMENT.style,\n\tcssPrefixeSize = cssPrefixes.length\n\nfunction cssHookName(name) {\n\tlet fixedName = nameHooks[name]\n\tif (fixedName) return fixedName\n\tfor (var i = 0; i < cssPrefixeSize; i++) {\n\t\tfixedName = camelize(cssPrefixes[i] + name)\n\t\tif (fixedName in host) {\n\t\t\tnameHooks[name] = fixedName\n\t\t\treturn fixedName\n\t\t}\n\t}\n\tthrow new Error(`invalid style[${name}]`)\n}\n\nconst GET_COMPUTED_STYLE = 'getComputedStyle'\nconst computedStyle = !!window[GET_COMPUTED_STYLE]\n\nfunction getNumStyle(el, name) {\n\tconst val = getStyle(el, name),\n\t\ti = parseFloat(val)\n\treturn i === i ? i : 0\n}\nlet getStyle\nif (computedStyle) {\n\tgetStyle = function (el, name) {\n\t\tconst styles = window[GET_COMPUTED_STYLE](el, null)\n\t\tlet value\n\t\tif (styles) {\n\t\t\tvalue = name === FILTER ? styles.getPropertyValue(name) : styles[name]\n\t\t\tif (value === '') value = el.style[name]\n\t\t}\n\t\treturn value\n\t}\n} else {\n\tconst RUNTIME_STYLE = 'runtimeStyle',\n\t\trnumnonpx = /^-?(?:\\d*\\.)?\\d+(?!px)[^\\d\\s]+$/i,\n\t\trposition = /^(top|right|bottom|left)$/,\n\t\tborder = {\n\t\t\tthin: IE8 ? '1px' : '2px',\n\t\t\tmedium: IE8 ? '3px' : '4px',\n\t\t\tthick: IE8 ? '5px' : '6px'\n\t\t}\n\tgetStyle = function (el, name) {\n\t\tconst currentStyle = el.currentStyle\n\t\tlet value = currentStyle[name]\n\t\tif ((rnumnonpx.test(value) && !rposition.test(value))) {\n\t\t\tconst style = el.style,\n\t\t\t\tleft = style.left,\n\t\t\t\trsLeft = el[RUNTIME_STYLE].left;\n\n\t\t\tel[RUNTIME_STYLE].left = currentStyle.left;\n\t\t\tstyle.left = name === 'fontSize' ? '1em' : (value || 0);\n\t\t\tvalue = style.pixelLeft + 'px';\n\t\t\tstyle.left = left;\n\t\t\tel[RUNTIME_STYLE].left = rsLeft;\n\t\t}\n\t\tif (value === 'medium') {\n\t\t\tname = name.replace('Width', 'Style')\n\t\t\tif (currentStyle[name] === 'none')\n\t\t\t\tvalue = '0px';\n\t\t}\n\t\treturn value === '' ? 'auto' : border[value] || value;\n\t}\n}\n\nconst camelizeReg = /[-_][^-_]/g\n\nfunction camelize(target) {\n\treturn target ? target.replace(camelizeReg, camelizeHandler) : target\n}\n\nfunction camelizeHandler(match) {\n\treturn match.charAt(1).toUpperCase()\n}\n\n\n// ========================= hooks =================================\nconst OPACITY = 'opacity'\nif (computedStyle) {\n\taddHook(OPACITY, {\n\t\tget(el, name) {\n\t\t\tlet value = getStyle(el, name)\n\t\t\treturn value === '' ? 1 : value\n\t\t}\n\t})\n} else {\n\tconst FILTERS = FILTER + 's',\n\t\tsalpha = 'DXImageTransform.Microsoft.Alpha',\n\t\tralpha = /alpha\\([^)]*\\)/i\n\n\taddHook(OPACITY, {\n\t\tget(el, name) {\n\t\t\tconst alpha = el[FILTERS].alpha || el[FILTERS][salpha],\n\t\t\t\top = alpha && alpha.enabled ? alpha[OPACITY] : 100\n\t\t\treturn (op / 100)\n\t\t},\n\t\tset(el, name, value) {\n\t\t\tconst style = el.style,\n\t\t\t\topacity = isFinite(value) && value <= 1 ? `alpha(${OPACITY}=${value * 100})` : '',\n\t\t\t\tfilter = style[FILTER] || ''\n\t\t\tstyle.zoom = 1\n\t\t\tstyle[FILTER] = trim(ralpha.test(filter) ? filter.replace(ralpha, opacity) : filter + ' ' + opacity)\n\t\t\tif (!style[FILTER])\n\t\t\t\tstyle[REMOVE_ATTRIBUTE](FILTER)\n\t\t}\n\t})\n}\n","/*\n * Dom Value opeartions\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:54:59\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:43:09\n */\nimport { assert } from 'devlevel'\nimport createHook from './util/hook'\nimport { SELECTED } from './util/util'\nimport { create, applyNoScope, strval, isNil, isArray, isObj, makeMap } from '../helper'\n\nconst GET = 'get',\n\tSET = 'set'\n\nexport default {\n\tvalue(value) {\n\t\tconst el = this.el\n\t\tlet type = el.tagName\n\t\tif (type === 'INPUT') type = el.type\n\n\t\tif (arguments.length) {\n\t\t\tmemberHook(type, SET)[SET](el, value, type)\n\t\t\treturn this\n\t\t}\n\t\treturn memberHook(type, GET)[GET](el, type)\n\t}\n}\n\nexport function addDomValueHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nconst EMPTY_MAP = create(null),\n\tSELECTED_INDEX = 'selectedIndex',\n\tSELECT_ONE = 'select-one',\n\tOPTIONS = 'options'\n\nconst { memberHook, addHook } = createHook({\n\tget(el) {\n\t\treturn el.value || ''\n\t},\n\tset(el, value) {\n\t\tel.value = strval(value)\n\t}\n}, {\n\toption: {\n\t\tget(el) {\n\t\t\treturn getOptionValue(el)\n\t\t}\n\t},\n\tselect: {\n\t\tget(el) {\n\t\t\tconst signle = el.type == SELECT_ONE,\n\t\t\t\tindex = el[SELECTED_INDEX]\n\n\t\t\tif (index < 0) return signle ? undefined : []\n\n\t\t\tconst options = el[OPTIONS],\n\t\t\t\tl = options.length\n\n\t\t\tlet option, i = 0\n\n\t\t\tif (!signle) {\n\t\t\t\tconst values = []\n\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\toption = options[i]\n\t\t\t\t\tif (option[SELECTED] || i === index)\n\t\t\t\t\t\tvalues.push(getOptionValue(option))\n\t\t\t\t}\n\t\t\t\treturn values\n\t\t\t}\n\t\t\tfor (; i < l; i++) {\n\t\t\t\toption = options[i]\n\t\t\t\tif (option[SELECTED] || i === index)\n\t\t\t\t\treturn getOptionValue(option)\n\t\t\t}\n\t\t},\n\t\tset(el, value) {\n\t\t\tconst signle = el.type == SELECT_ONE,\n\t\t\t\toptions = el[OPTIONS],\n\t\t\t\tl = options.length\n\n\t\t\tlet option, vl, val, i = 0\n\n\t\t\tif (signle) {\n\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\toption = options[i]\n\t\t\t\t\tif (getOptionValue(option) === value) {\n\t\t\t\t\t\toption[SELECTED] = true\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tel[SELECTED_INDEX] = -1\n\t\t\t\tlet map\n\t\t\t\tif (isNil(value)) {\n\t\t\t\t\tmap = EMPTY_MAP\n\t\t\t\t} else if (isArray(value)) {\n\t\t\t\t\tmap = makeMap(value)\n\t\t\t\t} else if (isObj(value)) {\n\t\t\t\t\tmap = value\n\t\t\t\t} else {\n\t\t\t\t\tmap = create(null)\n\t\t\t\t\tmap[value] = true\n\t\t\t\t}\n\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\toption = options[i]\n\t\t\t\t\tif (map[getOptionValue(option)] === true)\n\t\t\t\t\t\toption[SELECTED] = true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})\n\nfunction getOptionValue(el) {\n\tconst val = el.attributes.value\n\treturn !val || val.specified ? el.value : el.text\n}\n","import { assert } from 'devlevel'\nimport { W3C, IE9 } from './util'\nimport {\n\tROOTELEMENT,\n\tDOCUMENT_ELEMENT,\n\tOWNER_DOCUMENT,\n\tCREATE_ELEMENT,\n\tADD_EVENT_LISTENER,\n\tATTACH_EVENT,\n\tPARENT_NODE,\n\tCURRENT_TARGET,\n\tPREVENT_DEFAULT,\n\tSTOP_PROPAGATION,\n\tSTOP_IMMEDIATE_PROPAGATION,\n\tSCROLL_LEFT,\n\tSCROLL_TOP,\n\tCLIENT_TOP,\n\tCLIENT_LEFT,\n\tCLIENTX,\n\tCLIENTY,\n\tPAGEX,\n\tPAGEY,\n\tDISABLED\n} from './util/util'\nimport createHook from './util/hook'\nimport { inherit, create, applyScope, applyNoScope, hasOwnProp, isFn, isStr, makeMap } from '../helper'\nimport { FnList } from '../common'\nimport { DEFAULT_FN_BINDING } from '../common/FnList'\n\nconst TYPE = 'type'\nconst { getHook, hookRevice, addHook } = createHook(null, null, TYPE, TYPE)\n\n// ========================= Mixin =================================\nconst DOM_ELEMENT = '__element__'\n\nconst MIXIN_EVENTS = '__domEvents',\n\tMIXIN_ADD_LISTEN = '__addDomListen',\n\tMIXIN_DEL_LISTEN = '__delDomListen',\n\tMIXIN_EMIT_LISTEN = '__emitDomEvent'\n\nconst EventMixin = {\n\tinitDomEvent() {\n\t\tthis.el[DOM_ELEMENT] = this\n\t\tthis[MIXIN_EVENTS] = create(null)\n\t},\n\ton(type, fn, scope) {\n\t\tassert.fn(fn, 'Invalid Event Listener')\n\n\t\tif (this[MIXIN_ADD_LISTEN](type, fn, scope) === 1) {\n\t\t\tconst el = this.el,\n\t\t\t\thook = getHook(type)\n\t\t\tif (hook) {\n\t\t\t\tif (hook.type) type = hook.type\n\t\t\t\tif (hook.bind && hook.bind(el, type) === false)\n\t\t\t\t\treturn\n\t\t\t}\n\t\t\tbindDispatcher(el, type)\n\t\t}\n\t},\n\tun(type, fn, scope) {\n\t\tassert.fn(fn, 'Invalid Event Listener')\n\n\t\tif (this[MIXIN_DEL_LISTEN](type, fn, scope) === 0) {\n\t\t\tconst el = this.el,\n\t\t\t\thook = getHook(type)\n\t\t\tif (hook) {\n\t\t\t\tif (hook.type) type = hook.type\n\t\t\t\tif (hook.unbind && hook.unbind(el, type) === false)\n\t\t\t\t\treturn\n\t\t\t}\n\t\t\tunbindDispatcher(el, type)\n\t\t}\n\t},\n\tonce(type, fn, scope) {\n\t\tassert.fn(fn, 'Invalid Event Listener')\n\n\t\tconst el = this.el,\n\t\t\tbinding = fn[DEFAULT_FN_BINDING],\n\t\t\tself = this\n\n\t\tif (binding) proxy[DEFAULT_FN_BINDING] = binding\n\n\t\tthis.on(type, proxy, scope)\n\n\t\tif (!binding) fn[DEFAULT_FN_BINDING] = cb[DEFAULT_FN_BINDING]\n\n\t\tfunction proxy() {\n\t\t\tapplyScope(fn, this, arguments)\n\t\t\tself.un(type, proxy, scope)\n\t\t}\n\t}\n}\n\nEventMixin[MIXIN_ADD_LISTEN] = function (type, fn, scope) {\n\tconst events = this[MIXIN_EVENTS],\n\t\tlistens = events[type] || (events[type] = new FnList())\n\treturn listens.add(fn, scope)\n}\n\nEventMixin[MIXIN_DEL_LISTEN] = function (type, fn, scope) {\n\tconst events = this[MIXIN_EVENTS],\n\t\tlistens = events[type]\n\treturn listens && listens.remove(fn, scope)\n}\n\nEventMixin[MIXIN_EMIT_LISTEN] = function (type, event) {\n\tconst events = this[MIXIN_EVENTS],\n\t\tlistens = events[type]\n\tif (listens && listens.size()) {\n\t\tif (!event.$hookEvent) {\n\t\t\tevent = packEvent(type, event)\n\t\t\tconst target = event.target\n\t\t\tevent.targetEl = target\n\t\t\tevent.target = target[DOM_ELEMENT]\n\t\t}\n\t\tevent.current = this\n\t\tevent[IS_IMMEDIATE_PROPAGATION_STOPPED] = false\n\t\tlistens.each((fn, scope) => {\n\t\t\treturn fn.call(scope || this, event, this) !== false &&\n\t\t\t\t!event[IS_IMMEDIATE_PROPAGATION_STOPPED]\n\t\t})\n\t}\n\treturn event\n}\n\nexport default EventMixin\n\nexport function addDomEventHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nconst ORIGINAL_EVENT = 'originalEvent',\n\tRETURN_VALUE = 'returnValue',\n\tGET_PREVENT_DEFAULT = 'getPreventDefault',\n\tTIME_STAMP = 'timeStamp',\n\tORIGINAL_PROPS = 'originalProps',\n\tIS_IMMEDIATE_PROPAGATION_STOPPED = 'isImmediatePropagationStopped',\n\tCANCEL_BUBBLE = 'cancelBubble'\n\n\n// ========================= event tool =================================\nconst addEventListener = W3C ? function (el, type, fn) {\n\t\tel[ADD_EVENT_LISTENER](type, fn, type !== 'focus' && type !== 'blur')\n\t} : function (el, type, fn) {\n\t\tel[ATTACH_EVENT]('on' + type, fn)\n\t},\n\tremoveEventListener = W3C ? function (el, type, fn) {\n\t\tel.removeEventListener(type, fn)\n\t} : function (el, type, fn) {\n\t\tel.detachEvent('on' + type, fn)\n\t}\n\n\n// ========================= bind event dispatcher =================================\n\nconst bubbleUpEvents = makeMap(\n\t'click,dblclick,keydown,keypress,keyup,mousedown,mousemove,mouseup,mouseover,' +\n\t'mouseout,wheel,mousewheel,input,beforeinput,compositionstart,compositionupdate,' +\n\t'compositionend,cut,copy,paste,beforecut,beforecopy,beforepaste,focusin,focusout,' +\n\t'DOMFocusIn,DOMFocusOut,DOMActivate,dragend,datasetchanged')\n\nif (W3C)\n\tbubbleUpEvents.change = bubbleUpEvents.select = true\n\nfunction listenEl(el) {\n\treturn bubbleUpEvents[el.type] ? ROOTELEMENT : el\n}\n\nconst DOM_DISPATCH_EVENTS = '__dispatch_events__'\n\nfunction bindDispatcher(el, type) {\n\tel = listenEl(el)\n\tconst events = el[DOM_DISPATCH_EVENTS] || (el[DOM_DISPATCH_EVENTS] = create(null)),\n\t\tnum = events[type] || 0\n\tif (!num) addEventListener(el, type, dispatch)\n\tevents[type] = num + 1\n}\n\nfunction unbindDispatcher(el, type) {\n\tel = listenEl(el)\n\tconst events = el[DOM_DISPATCH_EVENTS],\n\t\tnum = events && events[type]\n\tif (num) {\n\t\tif (num === 1)\n\t\t\tremoveEventListener(el, type, dispatch)\n\t\tevents[type] = num - 1\n\t}\n}\n\n// ========================= hook =================================\nconst keyEventReg = /^key/,\n\tCHARCODE = 'charCode',\n\tKEYCODE = 'keyCode',\n\tWHICH = 'which',\n\tkeyEventProps = ['char', 'key', CHARCODE, KEYCODE],\n\tkeyEventHook = {\n\t\tfix(event, original) {\n\t\t\tevent[ORIGINAL_PROPS](keyEventProps)\n\t\t\tif (!event[WHICH])\n\t\t\t\tevent[WHICH] = original[CHARCODE] != null ? original[CHARCODE] : original[KEYCODE]\n\t\t}\n\t},\n\tmouseEventReg = /^(?:mouse|contextmenu|drag)|click/,\n\tBUTTON = 'button',\n\tmouseEventProps = [BUTTON, BUTTON + 's', CLIENTX, CLIENTY, 'offsetX', 'offsetY', PAGEX, PAGEY, 'screenX', 'screenY', 'toElement'],\n\tmouseEventHook = {\n\t\tfix(event, original) {\n\t\t\tconst button = original[BUTTON]\n\t\t\tevent[ORIGINAL_PROPS](mouseEventProps)\n\t\t\tif (!event[PAGEX] && original[CLIENTX]) {\n\t\t\t\tvar eventDoc = event.target[OWNER_DOCUMENT] || document,\n\t\t\t\t\tdoc = eventDoc[DOCUMENT_ELEMENT],\n\t\t\t\t\tbody = eventDoc.body\n\t\t\t\tevent[PAGEX] = original[CLIENTX] + (doc && doc[SCROLL_LEFT] || body && body[SCROLL_LEFT] || 0) -\n\t\t\t\t\t(doc && doc[CLIENT_LEFT] || body && body[CLIENT_LEFT] || 0)\n\t\t\t\tevent[PAGEY] = original[CLIENTY] + (doc && doc[SCROLL_TOP] || body && body[SCROLL_TOP] || 0) -\n\t\t\t\t\t(doc && doc[CLIENT_TOP] || body && body[CLIENT_TOP] || 0)\n\t\t\t}\n\t\t\tif (!event[WHICH] && button !== undefined)\n\t\t\t\tevent[WHICH] = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)))\n\t\t}\n\t}\n\nlet last = 0\nconst moveEventReg = /move|scroll/\n\nfunction dispatch(event) {\n\tlet type = event.type,\n\t\ttarget = eventTarget(event)\n\n\ttype = hookRevice(type) || type\n\tif (moveEventReg.test(type)) {\n\t\tvar now = new Date()\n\t\tif (now - last < 16) return\n\t\tlast = now\n\t}\n\tlet elem\n\tif (target[DISABLED] !== true || type !== 'click') {\n\t\tif (bubbleUpEvents[type]) {\n\t\t\tdo {\n\t\t\t\tif (elem = target[DOM_ELEMENT])\n\t\t\t\t\tevent = elem[MIXIN_EMIT_LISTEN](type, event)\n\t\t\t\ttarget = target[PARENT_NODE]\n\t\t\t} while (target && !event[CANCEL_BUBBLE])\n\t\t} else {\n\t\t\telem = target[DOM_ELEMENT]\n\t\t\tif (elem) elem[MIXIN_EMIT_LISTEN](type, event)\n\t\t}\n\t}\n}\n\nfunction packEvent(type, originalEvent) {\n\tconst event = new Event(originalEvent, type)\n\tlet hook = getHook(type)\n\tif (!hook) {\n\t\tif (mouseEventReg.test(type)) {\n\t\t\thook = mouseEventHook\n\t\t} else if (keyEventReg.test(type)) {\n\t\t\thook = keyEventHook\n\t\t} else {\n\t\t\thook = {}\n\t\t}\n\t\thook = addHook(type, hook)\n\t}\n\thook.fix && hook.fix(event, originalEvent)\n\treturn event\n}\n\n// ========================= Event =================================\nfunction eventTarget(event) {\n\tconst target = event.target || event.srcElement || document\n\treturn target.nodeType == 3 ? target[PARENT_NODE] : target\n}\n\n\nconst eventProps = 'altKey,bubbles,cancelable,ctrlKey,eventPhase,metaKey,shiftKey,view'.split(',')\n\t.concat(RELATED_TARGET, PROPERTY_NAME, WHICH, CURRENT_TARGET)\n\n\nfunction Event(event, type) {\n\tthis.type = type || event.type\n\tthis[ORIGINAL_EVENT] = event\n\tthis.target = eventTarget(event)\n\tthis[RETURN_VALUE] = !(event.defaultPrevented || event[RETURN_VALUE] === false || (event[GET_PREVENT_DEFAULT] && event[GET_PREVENT_DEFAULT]()))\n\tthis[TIME_STAMP] = event[TIME_STAMP] || new Date().getTime()\n\tthis[ORIGINAL_PROPS](eventProps)\n}\n\nconst EventProto = Event.prototype\nEventProto.$hookEvent = true\nEventProto[ORIGINAL_PROPS] = function (props) {\n\tconst e = this[ORIGINAL_EVENT]\n\tfor (var i = 0, l = props.length; i < l; i++) {\n\t\tthis[props[i]] = e[props[i]]\n\t}\n}\n\nEventProto[PREVENT_DEFAULT] = function () {\n\tconst e = this[ORIGINAL_EVENT]\n\tthis[RETURN_VALUE] = false\n\te[RETURN_VALUE] = false\n\te[PREVENT_DEFAULT] && e[PREVENT_DEFAULT]()\n}\n\nEventProto[STOP_PROPAGATION] = function () {\n\tconst e = this[ORIGINAL_EVENT]\n\tthis[CANCEL_BUBBLE] = true\n\te[CANCEL_BUBBLE] = true\n\te[STOP_PROPAGATION] && e[STOP_PROPAGATION]()\n}\n\nEventProto[STOP_IMMEDIATE_PROPAGATION] = function () {\n\tconst e = this[ORIGINAL_EVENT]\n\tthis[IS_IMMEDIATE_PROPAGATION_STOPPED] = true\n\te[STOP_IMMEDIATE_PROPAGATION] && e[STOP_IMMEDIATE_PROPAGATION]()\n\tthis[STOP_PROPAGATION]()\n}\n\n\n// ========================= hooks =================================\n\nconst PROPERTY_NAME = 'propertyName',\n\tRELATED_TARGET = 'relatedTarget'\n\n// firefox, chrome: mouseenter and mouseleave\nif (ROOTELEMENT.onmouseenter === undefined) {\n\tfunction fix(event) {\n\t\tlet el = event.target,\n\t\t\tt = event[RELATED_TARGET]\n\t\treturn !t || (t !== el && !(el.compareDocumentPosition(t) & 16))\n\t}\n\taddHook({\n\t\t'mouseover': {\n\t\t\ttype: 'mouseenter',\n\t\t\tfix\n\t\t},\n\t\t'mouseout': {\n\t\t\ttype: 'mouseleave',\n\t\t\tfix\n\t\t}\n\t})\n}\n\n// IE9+, W3C: animationend\nif (window.AnimationEvent) {\n\taddHook('animationend', 'AnimationEvent')\n} else if (window.WebKitAnimationEvent) {\n\taddHook('animationend', 'WebKitAnimationEvent')\n}\n\n// IE6-11, chrome: mousewheel, wheelDetla\n// IE9-11: wheel deltaY\n// firefox: DOMMouseScroll detail, wheel detlaY\n// chrome: wheel deltaY\nif (document.onmousewheel === undefined) {\n\tconst fixWheelType = document.onwheel ? 'wheel' : 'DOMMouseScroll',\n\t\tfixWheelDelta = fixWheelType === 'wheel' ? 'deltaY' : 'detail',\n\t\tWHEEL_DELTA = 'wheelDelta',\n\t\tWHEEL_DELTAY = WHEEL_DELTA + 'Y'\n\taddHook('mousewheel', {\n\t\ttype: fixWheelType,\n\t\tfix(event) {\n\t\t\tevent[WHEEL_DELTAY] = event[WHEEL_DELTA] = event[fixWheelDelta] > 0 ? -120 : 120\n\t\t\tevent[WHEEL_DELTAY] = 0\n\t\t}\n\t})\n}\n\nconst INPUT = 'input'\n\n// IE6-9: input\n// IE6-8: change\nif (document[CREATE_ELEMENT](INPUT).oninput === undefined) { // IE6-IE8: input, change\n\tdelete bubbleUpEvents[INPUT]\n\taddHook(INPUT, {\n\t\ttype: 'propertychange',\n\t\tfix(event) {\n\t\t\treturn event[PROPERTY_NAME] === 'value'\n\t\t}\n\t})\n\tlet changeEventNum = 0\n\tconst DOM_CHANGE_EVENT = '__change_event'\n\taddHook('change', {\n\t\tbind(el) {\n\t\t\tif (el.type == 'checkbox' || el.type == 'radio') {\n\t\t\t\tif (changeEventNum++ === 0)\n\t\t\t\t\taddEventListener(ROOTELEMENT, 'click', changeEventDispath)\n\t\t\t\tel[DOM_CHANGE_EVENT] = true\n\t\t\t\treturn false\n\t\t\t}\n\t\t},\n\t\tunbind(el) {\n\t\t\tif (el.type == 'checkbox' || el.type == 'radio') {\n\t\t\t\tif (--changeEventNum === 0)\n\t\t\t\t\tremoveEventListener(ROOTELEMENT, 'click', changeEventDispath)\n\t\t\t\tel[DOM_CHANGE_EVENT] = false\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t})\n\n\tfunction changeEventDispath(event) {\n\t\tconst target = eventTarget(event)\n\t\tif (target[DOM_CHANGE_EVENT])\n\t\t\tdispatch(packEvent('change', event))\n\t}\n} else if (IE9) { // IE9: input\n\tconst OLD_VALUE = 'oldValue'\n\taddHook(INPUT, {\n\t\tfix(event) {\n\t\t\tconst el = event.target\n\t\t\tel[OLD_VALUE] = el.value\n\t\t}\n\t})\n\n\t// http://stackoverflow.com/questions/6382389/oninput-in-ie9-doesnt-fire-when-we-hit-backspace-del-do-cut\n\taddEventListener('selectionchange', function (event) {\n\t\tvar actEl = document.activeElement\n\t\tswitch (actEl.tagName) {\n\t\tcase 'INPUT':\n\t\t\tif (actEl.type !== 'text') return\n\t\tcase 'TEXTAREA':\n\t\t\tif (actEl.value !== actEl[OLD_VALUE]) {\n\t\t\t\tactEl[OLD_VALUE] = actEl.value\n\t\t\t\tdispatch(packEvent(INPUT, event))\n\t\t\t}\n\t\t}\n\t})\n}\n","/*\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-25 17:47:25\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-31 18:36:56\n */\nimport { assert } from 'devlevel'\nimport { VElement } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport ElementMixin from './ElementMixin'\nimport ElementAttrMixin from './ElementAttrMixin'\nimport ElementClassMixin from './ElementClassMixin'\nimport ElementStyleMixin from './ElementStyleMixin'\nimport ElementValueMixin from './ElementValueMixin'\nimport ElementEventMixin from './ElementEventMixin'\nimport { inherit } from '../helper'\n\n\nexport default inherit(function Element(comp, option) {\n\t\tVElement.call(this, comp, option)\n\t}, VElement, HTMLMixin(VElement), ElementMixin,\n\tElementAttrMixin, ElementClassMixin,\n\tElementStyleMixin, ElementValueMixin, ElementEventMixin)\n","import { VComplexElement } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport ElementMixin from './ElementMixin'\nimport ElementAttrMixin from './ElementAttrMixin'\nimport ElementClassMixin from './ElementClassMixin'\nimport ElementStyleMixin from './ElementStyleMixin'\nimport ElementValueMixin from './ElementValueMixin'\nimport ElementEventMixin from './ElementEventMixin'\nimport { DIV, PARENT_NODE, APPEND_CHILD, REPLACE_CHILD, INNER_HTML } from './util/util'\nimport { inherit, isStr } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst { append, appendAll, prepend, insertBefore, insertAfter, replace } = VComplexElement[PROTOTYPE]\n\nconst __TEXT_CONTENT = 'textContent'\nconst TEXT_CONTENT = isStr(DIV[__TEXT_CONTENT]) ? __TEXT_CONTENT : 'innerText'\n\nexport default inherit(function ComplexElement(comp, option) {\n\t\tVComplexElement.call(this, comp, option)\n\t}, VComplexElement, HTMLMixin(VComplexElement), ElementMixin,\n\tElementAttrMixin, ElementClassMixin,\n\tElementStyleMixin, ElementValueMixin, ElementEventMixin, {\n\t\t$htmlComplexElement: true,\n\t\t$childKey: '$htmlNode',\n\t\t$childName: 'HTML Virtual Node',\n\t\tinitChild(child) {\n\t\t\tthis.el[APPEND_CHILD](child.el)\n\t\t},\n\t\thtml(html) {\n\t\t\tconst el = this.el\n\t\t\tif (arguments.length) {\n\t\t\t\tel[INNER_HTML] = html\n\t\t\t\treturn this\n\t\t\t}\n\t\t\treturn el[INNER_HTML]\n\t\t},\n\t\ttext(text) {\n\t\t\tconst el = this.el\n\t\t\tif (arguments.length) {\n\t\t\t\tel[TEXT_CONTENT] = text\n\t\t\t\treturn this\n\t\t\t}\n\t\t\treturn el[TEXT_CONTENT]\n\t\t},\n\t\tappend(node) {\n\t\t\tappend.call(this, node)\n\t\t\tthis.el[APPEND_CHILD](node.el)\n\t\t\treturn this\n\t\t},\n\t\tprepend(node) {\n\t\t\tprepend.call(this, node)\n\t\t\tprependChild(this.el, node.el)\n\t\t\treturn this\n\t\t},\n\t\tinsertBefore(node, target) {\n\t\t\tinsertBefore.call(this, node, target)\n\t\t\tdoInsertBefore(node.el, target.el)\n\t\t\treturn this\n\t\t},\n\t\tinsertAfter(node, target) {\n\t\t\tinsertAfter.call(this, node, target)\n\t\t\tdoInsertAfter(node.el, target.el)\n\t\t\treturn this\n\t\t},\n\t\treplace(node, target) {\n\t\t\treplace.call(this, node, target)\n\t\t\ttarget.el[PARENT_NODE][REPLACE_CHILD](node.el, target.el)\n\t\t\treturn this\n\t\t}\n\t})\n","import { Compontent } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport { inherit } from '../helper'\n\nexport default inherit(function HTMLCompontent(option) {\n\tCompontent.call(this, option)\n}, Compontent, {\n\t$htmlComp: true\n})\n","import { VComment, registerVComment } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport { inherit } from '../helper'\n\nexport default registerVComment(inherit(function Comment(comment) {\n\tVComment.call(this, comment)\n\tthis.el = document.createComment(comment)\n}, VComment, HTMLMixin(VComment), {\n\t$htmlComment: true\n}))\n","import { VText, VBindingText, registerVText, registerVBindingText } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport { inherit } from '../helper'\n\nconst TextMixin = {\n\tupdate(text) {\n\t\tthis.el.data = text\n\t}\n}\n\nexport const HTMLText = registerVText(inherit(function Text(comp, text) {\n\tVText.call(this, comp, text)\n\tthis.el = textNode(text)\n}, VText, HTMLMixin(VText), TextMixin))\n\nexport const HTMLBindingText = registerVBindingText(inherit(function BindingText(comp, expr) {\n\tVBindingText.call(this, comp, expr)\n\tthis.el = textNode('')\n}, VBindingText, HTMLMixin(VBindingText), TextMixin))\n\nfunction textNode(text) {\n\treturn document.createTextNode(text)\n}\n","/*\n *\n * Void elements:\n *      area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr\n *\n * The template elements\n *      template\n *\n * Raw text elements\n *      script, style\n *\n * escapable raw text elements\n *      textarea, title\n *\n * Normal elements\n *      All other allowed HTML elements are normal elements.\n *\n *      Main root:               html\n *      Document metadata:       link, meta, style, title\n *      Sectioning root:         body\n *      Content sectioning:      address, article, aside, footer, header, h1, h2, h3, h4, h5, h6, hgroup, nav, section\n *      Text content:            blockquote, dd, dir, div, dl, dt, figcaption, figure, hr, li, main, ol, p, pre, ul\n *      Inline text semantics:   a, abbr, b, bdi, bdo, br, cite, code, data, dfn, em, i, kbd, mark, nobr, q, rp,\n *                               rt, rtc, ruby, s, samp, small, span, strong, sub, sup, time, tt, u, var, wbr\n *      Image and multimedia:    area, audio, img, map, track, video\n *      Embedded content:        applet, embed, iframe, noembed, object, param, picture, source\n *      Scripting:               canvas, noscript, script\n *      Demarcating edits:       del, ins\n *      Table content:           caption, col, colgroup, table, tbody, td, tfoot, th, thead, tr\n *      Forms:                   button, datalist, fieldset, form, input, label, legend, meter,\n *                               optgroup, option, output, progress, select, textarea\n *      Interactive elements:    details, dialog, menu, menuitem, summary\n *      Web Components:          content, element, shadow, slot, template\n *\n *      Obsolete and deprecated elements:\n *           acronym, applet, basefont, bgsound, big, blink, center, command, content, dir, element,\n *           font, frame, frameset, image, isindex, keygen, listing, marquee, menuitem, multicol, nextid,\n *           nobr, noembed, noframes, plaintext, shadow, spacer, strike, tt, xmp\n *\n * Foreign elements\n *      Elements from the MathML namespace and the SVG namespace.\n *\n *      SVG:\n *          https://developer.mozilla.org/en-US/docs/Web/SVG/Element\n *\n *      MathML:\n *          https://developer.mozilla.org/en-US/docs/Web/MathML/Element\n *\n * links:\n *      https://www.w3.org/TR/html5/syntax.html#writing-html-documents\n *      https://developer.mozilla.org/my/docs/Web/HTML/Element\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-25 18:55:34\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-27 14:29:35\n */\nimport { registerVElement } from '../vnode'\nimport Element from './Element'\nimport ComplexElement from './ComplexElement'\nimport { inherit, createClass } from '../helper';\n\nregister(Element, 'area,br,col,embed,hr,img,input,param,source,track,wbr')\n\nregister(ComplexElement, 'address,article,aside,footer,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n\t'blockquote,dd,dir,div,dl,dt,figcaption,figure,li,main,ol,p,pre,ul,a,abbr,b,bdi,bdo,cite,code,data,dfn,em,i,kbd,' +\n\t'mark,nobr,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,tt,u,var,audio,map,video,applet,iframe,' +\n\t'noembed,object,picture,canvas,noscript,del,ins,caption,colgroup,table,tbody,td,tfoot,th,thead,tr,' +\n\t'button,datalist,fieldset,form,label,legend,meter,optgroup,option,output,progress,select,details,' +\n\t'dialog,menu,menuitem,summary,content,element,shadow,slot')\n\nregister(ComplexElement, 'template')\nregister(ComplexElement, 'textarea')\nregister(ComplexElement, 'script')\nregister(ComplexElement, 'style')\nregister(ComplexElement, 'link,meta,base')\nregister(ComplexElement, 'title')\n\nfunction register(Element, tags) {\n\ttags = tags.split(',')\n\tfor (let i = 0, l = tags.length; i < l; i++) {\n\t\tregisterVElement(tags[i], createClass({\n\t\t\textend: Element,\n\t\t\tname: Element.name,\n\t\t\ttagName: tags[i]\n\t\t}))\n\t}\n}\n","/*\n * Dom Event Expression\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 16:46:41\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 17:04:17\n */\nimport { assert } from 'devlevel'\nimport { Expression } from '../../Expression'\nimport { VNodeKeyword, identityHandler } from '../../vnode/expression/identityHandler'\nimport { parsePath } from '../../common'\nimport { create, inherit, isFn } from '../../helper'\n\nexport const eventFilters = create(null)\n\nexport const EventKeyword = '$event'\n\nfunction eventIdentityHandler(prefix, identity, opt) {\n\tidentity = parsePath(identity)\n\tif (identity[0] !== EventKeyword)\n\t\treturn doIdentityHandler(prefix, identity, opt)\n}\n\nconst paramNames = [VNodeKeyword, EventKeyword]\nexport function EventExpression(code, eventFilters, keywords) {\n\tExpression.call(this, code, paramNames, eventIdentityHandler, this.parseFilter.bind(this), keywords)\n\tthis.eventFilters = eventFilters\n}\n\nfunction doFilter(filter, args) {\n\treturn filter(args[1], args)\n}\ninherit(EventExpression, Expression, {\n\ttransformValue(scope, args) {\n\t\treturn this.transform(this.execute(scope, args), scope, args)\n\t},\n\tfilter(scope, args) {\n\t\treturn this.eachFilter(doFilter, scope, args) !== false\n\t},\n\tparseFilter(name) {\n\t\tconst localFilters = this.eventFilters\n\t\tconst filter = (localFilters && localFilters[name]) || eventFilters[name]\n\n\t\tassert(filter, `EventFilter[${name}] is undefined`)\n\n\t\tassert(isFn(filter),\n\t\t\t`Invalid EventFilter[${name}] on ${(localFilters && localFilters[name]) ? 'Local':'Global'} EventFilters`)\n\t\treturn filter\n\t}\n})\n","/*\n * Dom Event Filters\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 18:15:02\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-05 15:30:40\n */\nimport { assert } from 'devlevel'\nimport { eventFilters } from './EventExpression'\nimport { create, makeMap, applyNoScope, isStr, isArray, isInt } from '../../helper'\nimport { STOP_PROPAGATION } from '../util/util'\n\nexport const keyCodes = {\n\tesc: 27,\n\ttab: 9,\n\tenter: 13,\n\tspace: 32,\n\t'delete': [8, 46],\n\tup: 38,\n\tleft: 37,\n\tright: 39,\n\tdown: 40\n}\n\neventFilters.key = function (e, param) {\n\tconst which = e.which,\n\t\tcodes = param.get(),\n\t\tl = codes.length\n\n\tif (!l) return true\n\n\tfor (var i = 0, code, key, j, m; i < l; i++) {\n\t\tcode = codes[i]\n\t\tif (isStr(code)) {\n\t\t\tkey = code\n\t\t\tcode = +code\n\t\t\tif (isNaN(code)) { // key code\n\t\t\t\tcode = keyCodes[key]\n\t\t\t\tassert(isInt(code) || isArray(code), `Invalid Key Code[${key}]`)\n\t\t\t\tif (isArray(code)) { // multi code\n\t\t\t\t\tfor (j = 0, m = code.length; j < m; j++)\n\t\t\t\t\t\tif (which === code[j])\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (which === code)\n\t\t\treturn true\n\t}\n\treturn false\n}\n\neventFilters.stop = function (e) {\n\te[STOP_PROPAGATION]()\n}\n\neventFilters.prevent = function (e) {\n\te.preventDefault()\n}\n\neventFilters.self = function (e) {\n\treturn e.target === e.currentTarget\n}\n","/*\n * Dom Expression\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 18:32:15\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 18:35:02\n */\nexport * from './EventExpression'\nexport * from './eventFilters'\n","import { Directive } from '../../vnode'\nimport { isFn, inherit } from '../../helper'\nimport { EventExpression } from '../expression'\n\nexport default inherit(function DomDirective(node, expr, params) {\n\tDirective.call(this, node, params)\n}, Directive, {\n\t$nodeKey: '$htmlElement',\n\t$nodeName: 'HTML Virtual Element',\n})\n","import { assert } from 'devlevel'\nimport DomDirective from './DomDirective'\nimport { isFn, inherit, isNil } from '../../helper'\nimport { TransformExpression } from '../../vnode'\n\nexport default inherit(function ExpressionDirective(node, params) {\n\tDomDirective.call(this, node, params)\n\tthis.expr = params.expr\n}, DomDirective, {\n\tprepare(params) {\n\t\tparams.expr = new TransformExpression(params.value)\n\t},\n\trealValue() {\n\t\treturn this.expr.value(this.comp, [this.node])\n\t},\n\tvalue() {\n\t\treturn this.expr.transformValue(this.comp, [this.node])\n\t},\n\ttransform(value) {\n\t\treturn this.expr.transform(value, this.comp, [this.node])\n\t},\n\tblankValue(value) {\n\t\tif (!arguments.length) value = this.value()\n\t\treturn isNil(value) ? '' : value\n\t},\n\tobserveHandler(path, value) {\n\t\tthis.update(this.expr.simple ? this.transform(value) : this.value())\n\t},\n\tbind() {\n\t\tthis.observeExpr(this.expr, this.observeHandler, this)\n\t\tthis.update(this.value())\n\t},\n\tunbind() {\n\t\tthis.unobserveExpr(this.expr, this.observeHandler, this)\n\t},\n\tupdate(value) {\n\t\tthrow new Error(`abstract method`)\n\t}\n})\n","import { assert } from 'devlevel'\nimport DomDirective from './DomDirective'\nimport { isFn, inherit } from '../../helper'\nimport { EventExpression } from '../expression'\nimport { STOP_PROPAGATION } from '../util/util'\n\nexport default inherit(function EventDirective(node, expr, params) {\n\tDomDirective.call(this, node, params)\n\tthis.expr = params.expr\n}, DomDirective, {\n\tprepare(params) {\n\t\tparams.expr = new EventExpression(params.value)\n\t},\n\thandler(e) {\n\t\tconst expr = this.expr,\n\t\t\tcomp = this.comp,\n\t\t\tnode = this.node,\n\t\t\targs = [node, e]\n\n\t\te[STOP_PROPAGATION]()\n\n\t\tif (expr.filter(comp, args)) {\n\t\t\tconst ret = expr.value(comp, args)\n\t\t\tif (isFn(ret)) {\n\t\t\t\tret.call(comp, e, node)\n\t\t\t} else {\n\t\t\t\tassert(!expr.sample, `Invalid Event Handler: ${this.params.value}`)\n\t\t\t}\n\t\t}\n\t},\n\tbind() {\n\t\tconst node = this.node,\n\t\t\thandler = this.handler,\n\t\t\ttype = this.eventType\n\t\tif (type.push) {\n\t\t\tfor (var i = 0; i < type.length; i++)\n\t\t\t\tnode.on(type[i], handler, this)\n\t\t} else {\n\t\t\tnode.on(type, handler, this)\n\t\t}\n\t},\n\tunbind() {\n\t\tconst node = this.node,\n\t\t\thandler = this.handler,\n\t\t\ttype = this.eventType\n\t\tif (type.push) {\n\t\t\tfor (var i = 0; i < type.length; i++)\n\t\t\t\tnode.un(type[i], handler, this)\n\t\t} else {\n\t\t\tnode.un(type, handler, this)\n\t\t}\n\t}\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 19:54:12\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-27 15:26:30\n */\nimport EventDirective from './EventDirective'\nimport { registerDirective } from '../../vnode'\nimport { array2obj, map, upperFirst, isStr } from '../../helper'\n\nexport default array2obj(map(\n\t[\n\t\t'blur', 'change', 'click', 'dblclick', 'error', 'focus', 'keydown', 'keypress', 'keyup',\n\t\t'load', 'mousedown', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'resize', 'scroll',\n\t\t'select', 'submit', 'unload',\n\t\t{\n\t\t\teventName: 'input',\n\t\t\teventType: ['input', 'propertychange']\n\t\t}\n\t], event => {\n\t\tif (isStr(event)) event = { eventName: event, eventType: event }\n\t\tevent.extend = EventDirective\n\t\tevent.name = upperFirst(event.eventName) + 'EventDirective'\n\t\treturn registerDirective('on' + event.eventName, event)\n\t}), directive => directive.name)\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 19:53:22\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-05 15:29:52\n */\nimport { assert } from 'devlevel'\nimport ExpressionDirective from './ExpressionDirective'\nimport { registerDirective } from '../../vnode'\nimport { isStr, upperFirst, isObj, assignBy, create, isArray, eachObj, isArrayLike } from '../../helper'\nimport { PROTOTYPE } from '../../helper/constants'\nimport { STOP_PROPAGATION } from '../util/util'\n\nconst DISPLAY = 'display',\n\tNONE = 'none'\neachObj({\n\t// ================ text =================\n\ttext: {\n\t\tupdate(value) {\n\t\t\tthis.node.text(this.blankValue(value))\n\t\t}\n\t},\n\t// ================ html =================\n\thtml: {\n\t\tupdate(value) {\n\t\t\tthis.node.html(this.blankValue(value))\n\t\t}\n\t},\n\t// ================ show =================\n\tshow: {\n\t\tupdate(value) {\n\t\t\tthis.node.css(DISPLAY, value ? '' : NONE)\n\t\t}\n\t},\n\t// ================ hide =================\n\thide: {\n\t\tupdate(value) {\n\t\t\tthis.node.css(DISPLAY, value ? NONE : '')\n\t\t}\n\t},\n\t// ================ focus =================\n\tfocus: {\n\t\tupdate(value) {\n\t\t\tif (value) this.node.focus()\n\t\t}\n\t},\n\t// ================ value (input/textarea/select/option) =================\n\tvalue: {\n\t\tupdate(value) {\n\t\t\tthis.node.value(this.blankValue(value))\n\t\t}\n\t},\n\t// ================ checked (radio/checkbox) =================\n\tchecked: {\n\t\tupdate(value) {\n\t\t\tconst node = this.node\n\t\t\tnode.checked(boolVal(node.value(), value))\n\t\t}\n\t},\n\t// ================ selected (option) =================\n\tselected: {\n\t\tupdate(value) {\n\t\t\tconst node = this.node\n\t\t\tnode.selected(boolVal(node.value(), value))\n\t\t}\n\t},\n\t// ================ class =================\n\t'class': {\n\t\tupdate(value) {\n\t\t\tif (isStr(value)) value = trim(value).split(/\\s+/g)\n\n\t\t\tconst cache = create(null),\n\t\t\t\toldCache = this.cache\n\t\t\tif (oldCache) {\n\t\t\t\tfor (var k in oldCache)\n\t\t\t\t\tif (oldCache[k] === true)\n\t\t\t\t\t\tcache[k] = false\n\t\t\t}\n\t\t\tif (isArrayLike(value)) {\n\t\t\t\tvar i = value.length\n\t\t\t\twhile (i--) cache[value[i]] = true\n\t\t\t} else if (value) {\n\t\t\t\tfor (var k in value)\n\t\t\t\t\tif (value[k] === true) cache[k] = true\n\t\t\t}\n\t\t\tthis.cache = cache\n\t\t\tthis.node.margeClass(cache)\n\t\t}\n\t},\n\t// =================== style =======================\n\tstyle: {\n\t\tupdate(value) {\n\t\t\tlet ncsses\n\t\t\tif (typeof value === 'string' && (value = trim(value))) {\n\t\t\t\tvar split = value.split(styleSplitReg)\n\t\t\t\tncsses = {}\n\t\t\t\tfor (var i = 0, l = split.length, s; i < l; i++) {\n\t\t\t\t\ts = split[i].split(cssSplitReg)\n\t\t\t\t\tncsses[s[0]] = s[1]\n\t\t\t\t}\n\t\t\t} else if (isObj(value)) {\n\t\t\t\tncsses = value\n\t\t\t}\n\t\t\tlet csses = this.csses\n\t\t\tif (csses) {\n\t\t\t\tif (ncsses) {\n\t\t\t\t\tfor (var name in csses)\n\t\t\t\t\t\tif (!ncsses[name])\n\t\t\t\t\t\t\tcss(el, name, '')\n\t\t\t\t} else {\n\t\t\t\t\tfor (var name in csses)\n\t\t\t\t\t\tcss(el, name, '')\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.csses = ncsses\n\t\t\tif (ncsses) {\n\t\t\t\tfor (var name in ncsses)\n\t\t\t\t\tcss(el, name, ncsses[name])\n\t\t\t}\n\t\t}\n\t}\n}, (directive, name) => {\n\t__register(name, directive)\n})\n\nfunction __register(name, directive) {\n\tdirective.extend = ExpressionDirective\n\tdirective.name = upperFirst(name) + 'Directive'\n\tregisterDirective(name, directive)\n}\n\n// ================================= input =======================\nconst EVENT_CHANGE = 'change',\n\tEVENT_INPUT = 'input',\n\tEVENT_CLICK = 'click',\n\tSELECT = 'select',\n\tOPTION = 'option',\n\tTEXTAREA = 'textarea',\n\tINPUT = 'input',\n\tINPUT_RADIO = 'radio',\n\tINPUT_CHECKBOX = 'checkbox'\n\nconst { prepare, bind, unbind } = ExpressionDirective[PROTOTYPE]\n\n__register('input', {\n\tprepare(params, D) {\n\t\tprepare.call(this, params, D)\n\t\tparams.expr.checkRestore()\n\t},\n\tconstructor(node, params) {\n\t\tExpressionDirective.call(this, node, params)\n\n\t\tassert(this.expr.simple, `Invalid Expression[${params.value}] on directive[input]`)\n\n\t\tlet type = node.tagName,\n\t\t\tevent = EVENT_CHANGE,\n\t\t\tdomValue = this.elemValue\n\t\tswitch (type) {\n\t\tcase INPUT:\n\t\t\tswitch (node.el.type) {\n\t\t\tcase INPUT_RADIO:\n\t\t\tcase INPUT_CHECKBOX:\n\t\t\t\ttype = itype\n\t\t\t\tdomValue = this.checkedValue\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tevent = EVENT_INPUT\n\t\t\t}\n\t\t\tbreak\n\t\tcase TEXTAREA:\n\t\t\tevent = EVENT_INPUT\n\t\t\tbreak\n\t\tcase SELECT:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tthrow new TypeError(`<${type}> not support Directive[input], should be <input | textarea | select>`)\n\t\t}\n\t\tthis.type = type\n\t\tthis.event = event\n\t\tthis.domValue = domValue\n\t},\n\tupdate(value) {\n\t\tthis.node.value(this.blankValue(value))\n\t},\n\telemValue(value) {\n\t\tconst node = this.node\n\t\tif (arguments.length === 0)\n\t\t\treturn node.value()\n\t\tnode.value(value)\n\t},\n\tcheckedValue(value) {\n\t\tconst node = this.node\n\t\tif (arguments.length === 0)\n\t\t\treturn node.checked() ? node.value() : undefined\n\t\tnode.checked(value == node.value())\n\t},\n\tonChange(e) {\n\t\tconst expr = this.expr\n\t\tthis.comp.set(expr.simple, expr.restore(this.domValue(), this.comp, [this.node]))\n\t\te[STOP_PROPAGATION]()\n\t},\n\tbind() {\n\t\tbind.call(this)\n\t\tthis.node.on(this.event, this.onChange, this)\n\t},\n\tunbind() {\n\t\tthis.node.un(this.event, this.onChange, this)\n\t\tunbind.call(this)\n\t}\n})\n\nfunction boolVal(elValue, value) {\n\tif (isArray(value)) {\n\t\tvar i = value.length\n\t\twhile (i--)\n\t\t\tif (value[i] === elValue)\n\t\t\t\treturn true\n\t\treturn false\n\t} else if (isStr(value)) {\n\t\treturn value === elValue\n\t} else if (isObj(value)) {\n\t\treturn !!value[elValue]\n\t}\n\treturn !!value\n}\n","import { assert } from 'devlevel'\nimport { match, and, or, any, option, many, anyOne, UNATTACH, UNCAPTURABLE } from '../common/ASTBuilder'\nimport { makeMap, reEscape } from '../helper'\nimport { escapeString } from '../common/format'\n\nconst EXPR_START = '{',\n\tEXPR_END = '}'\n\nconst AutoCloseElems = makeMap('input'),\n\tContentElems = makeMap('textarea')\n\nconst EXPR_START_LEN = EXPR_START.length,\n\tEXPR_END_LEN = EXPR_END.length\n\nconst EXPR_KEY_WORDS = `\"'\\`[{`\n\nconst EXPR_KEYS = match(EXPR_KEY_WORDS.split(''), UNATTACH),\n\tEXPR_STR = match(/\"(?:[^\\\\\"\\n]|\\\\.)*\"|'(?:[^\\\\'\\n]|\\\\.)*'|`(?:[^\\\\`]|\\\\.)*`/, false, `'\"\\``, UNATTACH),\n\tExprObject = and('ExprObject', () => [\n\t\t'{',\n\t\tanyOne('ObjBody', [\n\t\t\tEXPR_STR, // match by \"'`\n\t\t\tExprObject, // match by {\n\t\t\tExprArray, // match by ]\n\t\t\tEXPR_KEYS, // consume start char when EXPR_STR | ExprObject | ExprArray match failed\n\t\t\tnew RegExp(`[^${reEscape(EXPR_KEY_WORDS+'}')}]+`) // consume chars which before start codes of EXPR_STR | ExprObject | ExprArray and \"}\"\n\t\t], UNATTACH),\n\t\t'}'\n\t], UNATTACH),\n\tExprArray = and('ExprArray', () => [\n\t\t'[',\n\t\tanyOne('ArrayBody', [\n\t\t\tEXPR_STR,\n\t\t\tExprObject,\n\t\t\tExprArray,\n\t\t\tEXPR_KEYS,\n\t\t\tnew RegExp(`[^${reEscape(EXPR_KEY_WORDS+']')}]+`)\n\t\t], UNATTACH),\n\t\t']'\n\t]),\n\tExpr = and('Expr', [\n\t\t\t['ExprStart', EXPR_START, attachOffset],\n\t\t\tanyOne('ExprBody', [\n\t\t\t\tEXPR_STR,\n\t\t\t\tExprObject,\n\t\t\t\tExprArray,\n\t\t\t\tmatch((EXPR_KEY_WORDS + EXPR_START[0]).split(''), UNATTACH),\n\t\t\t\tnew RegExp(`[^${reEscape(EXPR_KEY_WORDS + EXPR_START[0] + EXPR_END[0])}]+`)\n\t\t\t], UNATTACH),\n\t\t\t['ExprEnd', EXPR_END, attachOffset]\n\t\t],\n\t\t(d, rs, stream) => {\n\t\t\tconst content_start = d[0],\n\t\t\t\texpr_end = d[1]\n\t\t\trs.add([stream.orgbuff.substring(content_start, expr_end - EXPR_END_LEN),\n\t\t\t\tcontent_start - EXPR_START_LEN, expr_end\n\t\t\t])\n\t\t}\n\t)\n\n\nfunction createStringRule(name, mask, mline) {\n\treturn and(name, [\n\t\tmatch(mask, attachOffset),\n\t\tanyOne([\n\t\t\tExpr,\n\t\t\tEXPR_START[0], // consume expr start char when parse expr failed\n\t\t\tnew RegExp(`(?:[^\\\\\\\\${mline ? '':'\\\\n'}${mask}${reEscape(EXPR_START[0])}]|\\\\\\\\.)+`) // string fragment\n\t\t]),\n\t\tmatch(mask, attachOffset)\n\t], (d, rs, stream) => {\n\t\tconst buff = stream.orgbuff\n\t\tlet start = d[0],\n\t\t\tend = d[2] - 1,\n\t\t\texprs = d[1]\n\t\tif (exprs.length) {\n\t\t\tconst offset = start - 1\n\t\t\tvar i = 0,\n\t\t\t\tl = exprs.length,\n\t\t\t\testart\n\t\t\tconst expr = []\n\n\t\t\tfor (; i < l; i++) {\n\t\t\t\testart = exprs[i][1]\n\t\t\t\tif (start < estart)\n\t\t\t\t\texpr.push(exprStr(buff, start, estart))\n\t\t\t\texpr.push(`(${exprs[i][0]})`)\n\t\t\t\tstart = exprs[i][2]\n\t\t\t}\n\t\t\tif (start < end)\n\t\t\t\texpr.push(exprStr(buff, start, end))\n\n\t\t\trs.add(['expr', expr.join(' + '), offset, end + 1])\n\t\t} else {\n\t\t\trs.add(['string', buff.substring(start, end)])\n\t\t}\n\t})\n\n\tfunction exprStr(buff, start, end) {\n\t\treturn `\"${escapeString(buff.substring(start, end))}\"`\n\t}\n}\n\n\nconst ATTR_NAME = match('AttrName', /([@:$_a-zA-Z][\\w-\\.]*)\\s*/, 1),\n\tAttrValue = or('AttrValue', [\n\t\tcreateStringRule('SQString', \"'\"),\n\t\tcreateStringRule('DQString', '\"'),\n\t\tcreateStringRule('MString', '`', true),\n\t\tand(Expr, attachValue('expr', expr => expr[0][0])),\n\t\tmatch('Number', /-?(0|[1-9]\\d*)(\\.\\d+)?([eE][+-]?\\d+)?/, '-0123456789', attachValue('number', num => +num)),\n\t\tmatch('NaN', attachStaticValue('number', NaN)),\n\t\tmatch('undefined', attachStaticValue('undefined', undefined)),\n\t\tmatch('null', attachStaticValue('null', undefined)),\n\t\tmatch('true', attachStaticValue('boolean', true)),\n\t\tmatch('false', attachStaticValue('boolean', false))\n\t], {\n\t\tcapturable: false,\n\t\tattach(val, rs) {\n\t\t\trs.add(val[0])\n\t\t}\n\t}),\n\tAttrs = any('Attrs', [\n\t\tATTR_NAME,\n\t\toption('AttrValue', [\n\t\t\t[/=\\s*/, false, '=', UNATTACH],\n\t\t\tAttrValue,\n\t\t\t/\\s*/\n\t\t])\n\t], (d, rs) => {\n\t\tconst attrs = {}\n\t\tfor (let i = 0, l = d.length; i < l; i += 2)\n\t\t\tattrs[d[i]] = d[i + 1][0]\n\t\trs.add(attrs)\n\t})\n\nconst ELEM_NAME_REG = '[_a-zA-Z][\\\\w-]*',\n\tELEM_NAME = match('ElemName', new RegExp(`<(${ELEM_NAME_REG})\\\\s*`), 1, '<'),\n\tNodeCollection = anyOne('NodeCollection', () => [\n\t\tElem,\n\t\tand(Expr, (d, rs, stream) => {\n\t\t\trs.add({ type: 'expr', data: d[0][0] })\n\t\t}),\n\t\tmatch('<', (d, rs, stream, rule) => { //consume one char when Elem match failed\n\t\t\tif (stream.nextCode() === 47) // is close element\n\t\t\t\treturn rule.error(stream, 'expect: /<[^\\/]/', true)\n\t\t\tattachText(d, rs, stream, rule) // not element\n\t\t}),\n\t\tmatch(EXPR_START[0], attachText), // consume one char when Expr match failed\n\t\tmatch(new RegExp(`[^\\\\\\\\<${reEscape(EXPR_START[0])}]+|\\\\\\\\${reEscape(EXPR_START[0])}`), attachText)\n\t]),\n\tElem = and('Elem', [\n\t\tELEM_NAME,\n\t\tAttrs,\n\t\tor('ElemBody', [\n\t\t\tmatch(/\\/>\\s*/, false, '/', UNATTACH),\n\t\t\tand('childNodes', [\n\t\t\t\tmatch(/>/, false, '>', UNATTACH),\n\t\t\t\tNodeCollection,\n\t\t\t\toption([\n\t\t\t\t\tmatch('ElemClose', new RegExp(`<\\/(${ELEM_NAME_REG})>\\\\s*`), 1, '<')\n\t\t\t\t], (close, childNodesResult, stream) => {\n\t\t\t\t\tconst closeTag = close[0],\n\t\t\t\t\t\telemResult = childNodesResult.parent.parent,\n\t\t\t\t\t\ttag = elemResult.data[0]\n\n\t\t\t\t\tif (closeTag) {\n\t\t\t\t\t\tif (closeTag !== tag) {\n\t\t\t\t\t\t\tif (AutoCloseElems[tag]) {\n\t\t\t\t\t\t\t\tstream.reset()\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn `expect: </${tag}>`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (!AutoCloseElems[tag]) {\n\t\t\t\t\t\treturn `expect: </${tag}>`\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t])\n\t\t])\n\t], (d, rs) => {\n\t\tconst tag = d[0],\n\t\t\tchildren = d[2][0] && d[2][0][0],\n\t\t\telem = { type: 'elem', tag, attrs: d[1], children }\n\n\t\trs.add(elem)\n\n\t\tif (children && AutoCloseElems[tag]) {\n\t\t\trs.addAll(children)\n\t\t\tchildren.length = 0\n\t\t}\n\t})\n\n\nfunction attachText(text, rs) {\n\tconst data = rs.data,\n\t\tlen = data.length\n\tlet prev\n\tif (len && (prev = data[len - 1]) && prev.type === 'text') {\n\t\tprev.data += text\n\t} else {\n\t\trs.add({ type: 'text', data: text })\n\t}\n}\n\nconst ElemContent = and('Elem-Content', [\n\t/\\s*/,\n\tmany(Elem),\n\tmatch('EOF', /\\s*$/, UNATTACH)\n], (d, rs) => {\n\trs.addAll(d[0])\n}).init()\n\nexport default ElemContent\n\nfunction attachValue(type, valHandler) {\n\treturn function (value, rs) {\n\t\trs.add([type, valHandler(value)])\n\t}\n}\n\nfunction attachStaticValue(type, val) {\n\treturn attachValue(type, v => v)\n}\n\nfunction attachOffset(d, rs, stream) {\n\trs.add(stream.orgOffset())\n}\n"],"names":["__global","window","global","CONSTRUCTOR","PROTOTYPE","PROTO","BOOL","FN","NUM","STR","eq","o1","o2","isNull","o","isUndef","undefined","isNil","isFn","fn","is","Type","c","Array","i","l","length","Object","isObj","C","mkIs","isBool","Boolean","isNum","Number","isStr","String","isDate","Date","isReg","RegExp","isArray","isInt","parseInt","valueOf","isTypedArray","ArrayBuffer","isView","isArrayLike","NodeList","HTMLCollection","Int8Array","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","len","isInstOf","obj","cls","isPrimitive","blankStrReg","isBlank","test","applyBuilder","max_args","scope","offset","args","cases","slice","join","Function","applyScope","applyNoScope","applyScopeN","applyNoScopeN","apply","applyN","createFn","name","body","arguments","concat","varGenReg","fnName","replace","funcProto","bind","rs","QUERY_SELECTOR","QUERY_SELECTOR_ALL","QUERY_RESULTS","document","selector","head","documentElement","firstChild","styleTag","createElement","appendChild","styleSheet","cssText","textnode","createTextNode","scrollBy","ret","selectors","elements","trimReg","trim","str","firstLetterReg","upperHandler","m","toUpperCase","upperFirst","strval","charCode","index","charCodeAt","genCharCodes","start","end","codes","__hasOwn","hasOwnProperty","hasOwnProp","prop","call","getOwnProp","defaultVal","__getProto","getPrototypeOf","__setProto","setPrototypeOf","prototypeOfSupport","prototypeOf","proto","doCreate","parent","props","k","v","value","create","STOP","eachArray","__mkEachArrayLike","arrayValueHandler","eachStr","strValueHandler","reachArray","__mkREachArrayLike","reachStr","each","__mkEach","eachObj","reach","callback","own","key","arrayType","valueHandler","array","charAt","eachChain","SKIP","mapArray","__mkMapArrayLike","mapStr","mapObj","__mkMapObj","map","copy","j","defaultMapCallback","val","REG_ESCAPE","reEscape","s","reUnion","regexps","regStickySupport","sticky","regUnicodeSupport","unicode","array2obj","keyHandler","arrayElementHandler","dist","makeMap","split","arglen","makeArray","cached","cacheKey","cacheVal","cache","toStr","conditions","UNDEF","NUL","INF","ARR","byteArray","shortArray","intArray","floatArray","arrayBuffer","typedArrays","addTypeCon","reFirst","addValueCon","addCon","a","b","arrayVal","addEqCon","thisCb","cb","injects","conCode","values","notEq","notMakeNot","params","condition","isNot","_if","error","exception","assignCons","assert","currentLevel","logs","debug","createLog","info","warn","log","getLogMethods","bindLog","mark","sliceArgs","level","methods","console","setLogConsole","arr","__defProp","defineProperty","defPropSupport","get","set","e","desc","defProp","defPropValue","configurable","writeable","enumerable","__assign","overrides","filter","data","override","assign","__assignFilter","assignIf","__assignIfFilter","assignBy","__assignUserFilter","__extend","mixins","extend","__extendFilter","mixin","extendIf","__extendIfFilter","extendBy","__extendUserFilter","__inherit","superCls","inherit","fnProto","objProto","subclassOf","target","CLASS_NAME","EXTEND","STATICS","KEYS","createClass","constructor","buildCls","keyFilter","filterArray","__mkFilter","filterStr","filterObj","findArray","__mkFind","findStr","findObj","find","rfindArray","rfindStr","rfind","indexOfArray","__mkTypeIndexOf","indexOfObj","lastIndexOfArray","indexOf","__mkIndexOf","lastIndexOf","strIndexOf","obj2array","keys","__mkKV","handler","DEFAULT_BINDING","List","binding","has","node","add","__insert","tail","addFirst","insertAfter","__getNode","insertBefore","addAll","objs","__insertAll","addFirstAll","insertAfterAll","insertBeforeAll","prev","__siblingObj","next","first","last","remove","scaning","lazyRemoves","push","__remove","__doLazyRemove","toArray","clean","__clean","clone","newlist","newtail","newhead","newprev","__initNode","__doInsert","list","nodeHead","nodeTail","__prev","sibling","DEFAULT_FN_BINDING","DEFAULT_SCOPE_BINDING","FnList","fnBinding","scopeBinding","nodeMap","parseScope","id","nodeId","size","DEFAULT_SCOPE_ID","scopeIdGenerator","fnIdGenerator","fnId","scopeId","ticks","pending","executeTick","flush","MutationObserver","counter","observer","textNode","observe","characterData","setTimeout","nextTick","clearTick","STR_ESCAPE_MAP","STR_ESCAPE","escapeString","pad","chr","leftAlign","padding","replacor","regs","reg","plural","singular","thousandSeparationReg","thousandSeparate","number","formatReg","_format","parseWidth","width","isFinite","parseArg","match","idx","flags","minWidth","precision","type","leftJustify","positivePrefix","zeroPad","prefixBaseX","thousandSeparation","prefix","base","isNaN","fromCharCode","toLowerCase","toFixed","toExponential","toPrecision","sf","Math","min","toString","format","count","pathCache","pathReg","escapeCharReg","parsePath","path","quote","string","formatPath","formatHandle","attr","LINE_REG","Stream","buff","orgbuff","orglen","curr","stack","enter","reset","exit","pop","commit","substring","orgOffset","upOrgOffset","nextCode","consume","position","line","lineOffset","exec","lastIndex","source","idGen","MatchResult","datas","empty","setLen","UNATTACH","UNCAPTURABLE","capturable","UNATTACH_CAPTURABLE","attach","defaultErrorMsg","err","defaultAttach","defaultRuleTest","OPTION_ATTACH","OPTION_ERROR","OPTION_CAPTURABLE","Rule","option","msg","$rule","stream","srcErr","$err","success","result","setExpr","expr","defName","mkExpr","EXPECT","getStart","testRuleByIndex","MatchRule","startCodes","ignoreCase","eachCharCodes","code","comsume","defaultCharMatchRuleTest","CharMatchRule","allows","chars","charMatch","RegMatchRule","regexp","pick","pattern","multiline","createRegMatchRulePolicy","R","STREAM","S_BUFF","LIDX","consumCode","pickCode","StrMatchRule","regMatch","strMatch","_pattern","REG_ESPEC_CHARS","eachCharCode","ComplexRule","rules","getRules","getLazyRules","parseComplexRules","names","subNames","EXPECTS","__init","parse","errSource","pos","unshift","substr","SyntaxError","init","idStack","idStackPush","parseRule","rule","AndRule","andMatch","OrRule","starts","rStarts","orMatch","upErr","createRepeatRule","defType","Parent","AndRepeatRule","max","prototype","andRepeatMatch","repeat","out","OrRepeatRule","orRepeatMatch","and","buildComplexRule","or","buildRepeatRule","buildAndRepeatRule","any","many","buildOrRepeatRule","anyOne","manyOne","optionOne","repeatOne","build","defaultProps","Proxy","proxyEnabled","impl","proxy","oldValue","__write","newValue","__defineGetter__","__defineSetter__","defined","__watch","defaultPropMap","VBArray","execScript","bindingProp","constructorProp","objectProps","classPool","constructorScript","classNameGenerator","parseGetter","buffer","parseSetter","parseVBClass","className","getOrCreateVBClass","classKey","sort","providerName","parseVB","createProxy","vbproxy","propMap","buildProxy","funcs","func","proxyChangeable","sourceOwnProperty","__proxyChanged","doWrite","doRead","OBSERVER_KEY","ARRAY_EVENTS","ArrayProto","arrayHooks","method","newlen","arrayHookLength","hookArray","hook","policy","es6","es5","vb","isDefaultProp","noProxyChangeEventHandler","disableWriteEvent","Observer","bubbles","addChangedQueue","watchs","currentObserver","childObserver","allocWatchDescriptor","pathStr","errorPath","arrayPath","registerBubble","DESC_CHILDREN_INDEX","getObserver","setChildObserver","DESC_PATH_INDEX","DESC_HANDLERS_INDEX","unobserve","unwatch","isObserved","disableEvent","_set","disabled","onProxyChange","unProxyChange","DESC_CHILD_NUM_INDEX","DESC_OWNER_INDEX","DESC_OBSERVER_INDEX","DESC_ATTR_INDEX","DESC_PARENT_INDEX","DESC_CHANGED_INDEX","DESC_EVENT_INDEX","DESC_VALUE_INDEX","owner","NO_CHANGED","freeWatchDescriptor","maxLevel","unregisterBubble","descriptor","descs","changedQueue","eventQueue","flushChangedQueue","addEventQueue","bubble","observerValue","newObserver","__bubble","children","oldObserver","nextObserver","parentObserver","setSource","nextObj","isProxyEnabled","$set","_observer","$hasOwnProp","$eq","proxyListens","$getOwnProp","$eachArray","$reachArray","$each","$eachObj","$reach","$mapArray","$mapObj","$map","$filterArray","$filterObj","$filter","$findArray","$findObj","$find","$rfindArray","$rfind","$indexOfArray","$indexOfObj","$lastIndexOfArray","$indexOf","$lastIndexOf","$assign","$assignIf","$assignBy","$obj2array","$keys","$values","CHILD_NODES","PARENT","VIRT_NODE","VIRT_ELEMENT","VIRT_TEXT","VIRT_BINDING_TEXT","VIRT_COMPLEX_ELEMENT","VIRT_COMMENT","VNode","comp","$comp","prepare","mount","unmount","appendTo","$virtComplexElement","append","prependTo","prepend","insertBeforeTo","insertAfterTo","replaceTo","prevSibling","nextSibling","VText","text","update","keywords","wsReg","newlineReg","escapeReg","restoreReg","identityReg","propReg","simplePathReg","escaped","escape","escapeHandler","restore","restoreHandler","escapeStrReg","escapeStrHandler","IDENTITY_OPT_GET","IDENTITY_OPT_SET","IDENTITY_OPT_CALL","identities","identitySize","userIdentityHandler","userKeyWords","isKeyword","identityHandler","identity","optIdx","optChar","opt","makeExecutor","cleanIdentities","idents","ident","isSimpleExpr","filterSplitReg","filterParamReg","Expression","paramNames","parseFilter","codeSplit","executor","filters","shift","simple","execute","eachFilter","FilterParams","reachFilter","iter","VNodeKeyword","transforms","transformIdentityHandler","TransformExpression","transformValue","transform","checkRestore","by","localTransforms","json","param","indent","JSON","stringify","capitalize","uppercase","lowercase","unit","fmt","units","unitRestoreReg","unitMap","bytes","digit","pow","floor","round","splice","VBindingText","observeExpr","exprHandler","unobserveExpr","VElement","initAttrs","attrs","initDirectives","directives","g","D","Directive","$nodeKey","dname","$nodeName","__directives","unbind","VComplexElement","initChildren","$childKey","$childName","N","ename","childNodes","__children","child","initChild","mountChildHandler","unmountChildHandler","childCount","createSibling","createInsert","createInsertSibling","insert","eachChildren","Compontent","$scope","obs","$observer","$getScope","$parent","getScope","destroy","VComment","comment","$directive","registerDirective","directive","generator","VElements","tags","Text","BindingText","Comment","registerVElement","registerVText","registerVBindingText","registerVComment","elem","gen","isExpr","ADD_EVENT_LISTENER","ATTACH_EVENT","DOCUMENT_ELEMENT","DEFAULT_VIEW","PARENT_WINDOW","APPEND_CHILD","REMOVE_CHILD","INSERT_BEFORE","REPLACE_CHILD","PARENT_NODE","CONTAINS","INNER_HTML","CREATE_ELEMENT","OWNER_DOCUMENT","SET_ATTRIBUTE","GET_ATTRIBUTE","REMOVE_ATTRIBUTE","CHECKED","SELECTED","DISABLED","READ_ONLY","TAB_INDEX","HTML_FOR","CURRENT_TARGET","PREVENT_DEFAULT","STOP_PROPAGATION","STOP_IMMEDIATE_PROPAGATION","CLIENT_TOP","CLIENT_LEFT","SCROLL_LEFT","SCROLL_TOP","PAGE_XOFFSET","PAGE_YOFFSET","CLIENTX","CLIENTY","PAGEX","PAGEY","ROOTELEMENT","DIV","getWindow","el","nodeType","inDoc","root","query","querySelector","prependChild","previousSibling","$htmlNode","taget","pEl","DOM_ELEMENT","OUTER_HTML","$htmlElement","tagName","initDomEvent","outerHtml","cloneNode","html","focus","normal","__hooks","defKey","recive","hooks","revices","addHook","getHook","hookMember","member","memberHook","hookRevice","doAdd","GET_ATTRIBUTENODE","NAME","GET","SET","createHook","tabIndex","attributeNode","specified","rfocusable","nodeName","rclickable","href","tabindex","readonly","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","removeAttr","getProp","setProp","checked","propAccessor","selected","PROP","CLASS_LIST","addClass","mkClasslistUpdator","parseClassNameArray","clearClassName","removeClass","parseClassName","margeClass","adds","clears","classList","clearRegCache","removes","parseClassNameArrayByObj","W3C","dispatchEvent","IE8","XDomainRequest","IE9","navigator","userAgent","readyList","fireReady","isReady","READY_STATE","DO_SCROLL","frameElement","external","doScrollCheck","numberCss","nameHooks","getStyle","style","float","OFFSET_PARENT","GET_BOUNDING_CLIENT_RECT","FILTER","POSITION","setCss","camelize","cssHookName","css","num","parseFloat","doc","box","top","left","win","rect","clientTop","clientLeft","scrollTop","scrollLeft","p","offsetParent","getNumStyle","op","scrollTo","cssPrefixes","host","cssPrefixeSize","fixedName","Error","GET_COMPUTED_STYLE","computedStyle","styles","getPropertyValue","RUNTIME_STYLE","rnumnonpx","rposition","border","thin","medium","thick","currentStyle","rsLeft","pixelLeft","camelizeReg","camelizeHandler","OPACITY","FILTERS","salpha","ralpha","alpha","enabled","opacity","zoom","EMPTY_MAP","SELECTED_INDEX","SELECT_ONE","OPTIONS","getOptionValue","select","signle","options","vl","attributes","TYPE","MIXIN_EVENTS","MIXIN_ADD_LISTEN","MIXIN_DEL_LISTEN","MIXIN_EMIT_LISTEN","EventMixin","on","bindDispatcher","un","unbindDispatcher","once","self","events","listens","event","$hookEvent","packEvent","targetEl","current","IS_IMMEDIATE_PROPAGATION_STOPPED","ORIGINAL_EVENT","RETURN_VALUE","GET_PREVENT_DEFAULT","TIME_STAMP","ORIGINAL_PROPS","CANCEL_BUBBLE","addEventListener","removeEventListener","detachEvent","bubbleUpEvents","change","listenEl","DOM_DISPATCH_EVENTS","dispatch","keyEventReg","CHARCODE","KEYCODE","WHICH","keyEventProps","keyEventHook","fix","original","mouseEventReg","BUTTON","mouseEventProps","mouseEventHook","button","eventDoc","moveEventReg","eventTarget","now","originalEvent","Event","srcElement","eventProps","RELATED_TARGET","PROPERTY_NAME","defaultPrevented","getTime","EventProto","onmouseenter","t","compareDocumentPosition","AnimationEvent","WebKitAnimationEvent","onmousewheel","fixWheelType","onwheel","fixWheelDelta","WHEEL_DELTA","WHEEL_DELTAY","INPUT","oninput","changeEventDispath","DOM_CHANGE_EVENT","changeEventNum","OLD_VALUE","actEl","activeElement","Element","HTMLMixin","ElementMixin","ElementAttrMixin","ElementClassMixin","ElementStyleMixin","ElementValueMixin","ElementEventMixin","appendAll","__TEXT_CONTENT","TEXT_CONTENT","ComplexElement","$htmlComplexElement","doInsertBefore","doInsertAfter","HTMLCompontent","$htmlComp","createComment","$htmlComment","TextMixin","HTMLText","HTMLBindingText","register","eventFilters","EventKeyword","eventIdentityHandler","doIdentityHandler","EventExpression","doFilter","localFilters","keyCodes","esc","tab","space","up","right","down","which","stop","prevent","preventDefault","currentTarget","DomDirective","ExpressionDirective","realValue","blankValue","observeHandler","EventDirective","sample","eventType","eventName","DISPLAY","NONE","show","hide","boolVal","oldCache","ncsses","styleSplitReg","cssSplitReg","csses","__register","EVENT_CHANGE","EVENT_INPUT","EVENT_CLICK","SELECT","OPTION","TEXTAREA","INPUT_RADIO","INPUT_CHECKBOX","domValue","elemValue","itype","checkedValue","TypeError","onChange","elValue","EXPR_START","EXPR_END","AutoCloseElems","ContentElems","EXPR_START_LEN","EXPR_END_LEN","EXPR_KEY_WORDS","EXPR_KEYS","EXPR_STR","ExprObject","ExprArray","Expr","attachOffset","d","content_start","expr_end","createStringRule","mask","mline","exprs","estart","exprStr","ATTR_NAME","AttrValue","attachValue","attachStaticValue","NaN","Attrs","ELEM_NAME_REG","ELEM_NAME","NodeCollection","Elem","attachText","close","childNodesResult","closeTag","elemResult","tag","ElemContent","valHandler"],"mappings":"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"}