{"version":3,"file":"argilo.cjs.js","sources":["../src/helper/global.js","../src/helper/constants.js","../src/helper/is.js","../src/helper/function.js","../src/polyfill/function.js","../src/polyfill/query.js","../src/helper/string.js","../src/helper/ownProp.js","../src/helper/prototypeOf.js","../src/helper/create.js","../src/helper/each.js","../src/helper/map.js","../src/helper/reg.js","../src/helper/util.js","../src/helper/defineProperty.js","../src/helper/assign.js","../src/helper/extend.js","../src/helper/inherit.js","../src/helper/class.js","../src/helper/filter.js","../src/helper/find.js","../src/helper/indexOf.js","../src/helper/obj2array.js","../src/helper/index.js","../src/common/List.js","../src/common/FnList.js","../src/common/nextTick.js","../src/common/format.js","../src/common/path.js","../src/common/ASTBuilder.js","../src/common/ast/index.js","../src/common/index.js","../src/observer/es6.js","../src/observer/es5.js","../src/observer/vb.js","../src/observer/observer.js","../src/observer/each.js","../src/observer/map.js","../src/observer/filter.js","../src/observer/find.js","../src/observer/indexOf.js","../src/observer/assign.js","../src/observer/obj2array.js","../src/vnode/VNode.js","../src/vnode/VText.js","../src/Expression.js","../src/vnode/expression/identityHandler.js","../src/vnode/expression/TransformExpression.js","../src/vnode/expression/transforms.js","../src/vnode/expression/index.js","../src/vnode/VBindingText.js","../src/vnode/VElement.js","../src/vnode/VComplexElement.js","../src/vnode/Compontent.js","../src/vnode/VComment.js","../src/vnode/Directive.js","../src/vnode/index.js","../src/vdom/util/util.js","../src/vdom/HTMLMixin.js","../src/vdom/ElementMixin.js","../src/vdom/util/hook.js","../src/vdom/ElementAttrMixin.js","../src/vdom/ElementClassMixin.js","../src/vdom/util/index.js","../src/vdom/ElementStyleMixin.js","../src/vdom/ElementValueMixin.js","../src/vdom/ElementEventMixin.js","../src/vdom/Element.js","../src/vdom/ComplexElement.js","../src/vdom/Compontent.js","../src/vdom/Comment.js","../src/vdom/Text.js","../src/vdom/elements.js","../src/vdom/expression/EventExpression.js","../src/vdom/expression/eventFilters.js","../src/vdom/expression/index.js","../src/vdom/directives/DomDirective.js","../src/vdom/directives/ExpressionDirective.js","../src/vdom/directives/EventDirective.js","../src/vdom/directives/eventDirectives.js","../src/vdom/directives/directives.js","../src/compile/NodeParser.js"],"sourcesContent":["/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:18\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-18 11:12:18\n */\nconst __global = window || global\nexport default __global\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:25:33\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:25:33\n */\n\nexport const CONSTRUCTOR = 'constructor'\nexport const PROTOTYPE = 'prototype'\nexport const PROTO = '__proto__'\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-04-26 11:34:06\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-07 16:47:11\n */\n\nimport global from './global'\nimport { CONSTRUCTOR } from './constants'\n\nconst BOOL = 'boolean',\n\tFN = 'function',\n\tNUM = 'number',\n\tSTR = 'string'\n\n/**\n * o1 === o2 || NaN === NaN\n *\n * @param {*} o1\n * @param {*} o2\n */\nexport function eq(o1, o2) {\n\treturn o1 === o2 || (o1 !== o1 && o2 !== o2)\n}\n\nexport function isNull(o) {\n\treturn o === null\n}\n\nexport function isUndef(o) {\n\treturn o === undefined\n}\n\nexport function isNil(o) {\n\treturn o === null || o === undefined\n}\n\nexport function isFn(fn) {\n\treturn typeof fn === FN\n}\n\nexport function is(o, Type) {\n\tif (o === undefined || o === null) return false\n\tconst c = o[CONSTRUCTOR]\n\tif (Type[CONSTRUCTOR] === Array) {\n\t\tif (c) {\n\t\t\tfor (var i = 0, l = Type.length; i < l; i++)\n\t\t\t\tif (c === Type[i]) return true\n\t\t} else {\n\t\t\tfor (var i = 0, l = Type.length; i < l; i++)\n\t\t\t\tif (Type[i] === Object) return true\n\t\t}\n\t\treturn false\n\t}\n\treturn c ? c === Type : Type === Object\n}\n\n// TODO object has constructor property\nexport function isObj(o) {\n\tif (o === undefined || o === null) return false\n\tconst C = o[CONSTRUCTOR]\n\treturn C === undefined || C === Object\n}\n\nfunction mkIs(Type) {\n\treturn o => o !== undefined && o !== null && o[CONSTRUCTOR] === Type\n}\n\nexport const isBool = mkIs(Boolean)\n\nexport const isNum = mkIs(Number)\n\nexport const isStr = mkIs(String)\n\nexport const isDate = mkIs(Date)\n\nexport const isReg = mkIs(RegExp)\n\nexport const isArray = Array.isArray || mkIs(Array)\n\nexport const isInt = function isInt(o) {\n\treturn o === 0 || (o ? o[CONSTRUCTOR] === Number && parseInt(o) === o.valueOf() : false)\n}\n\nexport const isTypedArray = ArrayBuffer ? ArrayBuffer.isView : () => false\n\nexport function isArrayLike(o) {\n\tif (o === undefined || o === null) return false\n\tvar C = o[CONSTRUCTOR]\n\tswitch (C) {\n\tcase undefined:\n\t\tbreak\n\tcase Array:\n\tcase String:\n\tcase global.NodeList:\n\tcase global.HTMLCollection:\n\tcase global.Int8Array:\n\tcase global.Uint8Array:\n\tcase global.Int16Array:\n\tcase global.Uint16Array:\n\tcase global.Int32Array:\n\tcase global.Uint32Array:\n\tcase global.Float32Array:\n\tcase global.Float64Array:\n\t\treturn true\n\t}\n\tconst len = o.length\n\treturn len !== undefined && typeof len === NUM && (len === 0 || (len > 0 && parseInt(len) === len && (len - 1) in o))\n}\n\nexport function isInstOf(obj, cls) {\n\treturn obj !== undefined && obj !== null && obj instanceof cls\n}\n\nexport function isPrimitive(o) {\n\tif (o === undefined || o === null) return true\n\tswitch (typeof o) {\n\tcase BOOL:\n\tcase NUM:\n\tcase STR:\n\tcase FN:\n\t\treturn true\n\t}\n\treturn false\n}\n\nconst blankStrReg = /^\\s*$/\nexport function isBlank(o) {\n\tif (!o) return true\n\tif (o[CONSTRUCTOR] === String)\n\t\treturn blankStrReg.test(o)\n\treturn o.length === 0\n}\n","/*\n * Function Util\n * - apply\n * - createFn\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-04-26 11:34:39\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-28 15:22:37\n */\n\nimport { isStr } from './is'\n\nfunction applyBuilder(max_args, scope, offset) {\n\tscope = scope ? 'scope' : ''\n\toffset = offset ? 'offset' : ''\n\tconst args = new Array(max_args + 1)\n\tconst cases = new Array(max_args + 1)\n\tfor (var i = 0; i <= max_args; i++) {\n\t\targs[i] = `${(i || scope) ? ', ' : ''}args[${offset ? `offset${i ? ' + ' + i: ''}` : i}]`\n\t\tcases[i] = `case ${i}: return fn${scope && '.call'}(${scope}${args.slice(0, i).join('')});`\n\t}\n\treturn Function(`return function(fn, ${scope && (scope + ', ')}args${offset && ', offset, len'}){\nswitch(${offset ? 'len': 'args.length'}){\n${cases.join('\\n')}\n}\n${offset && `var arr = new Array(len);\nfor(var i=0; i<len; i++) arr[i] = arr[offset + i];`}\nreturn fn.apply(${scope || 'null'}, ${offset ? 'arr':'args'});\n}`)()\n}\n\nexport const applyScope = applyBuilder(8, 1, 0)\nexport const applyNoScope = applyBuilder(8, 0, 0)\n\nexport const applyScopeN = applyBuilder(8, 1, 1)\nexport const applyNoScopeN = applyBuilder(8, 0, 1)\n\n\nexport function apply(fn, scope, args) {\n\tswitch (scope) {\n\tcase undefined:\n\tcase null:\n\t\treturn applyNoScope(fn, args)\n\t}\n\treturn applyScope(fn, scope, args)\n}\n\nexport function applyN(fn, scope, args, offset, len) {\n\tswitch (scope) {\n\tcase undefined:\n\tcase null:\n\t\treturn applyNoScopeN(fn, args, offset, len)\n\t}\n\treturn applyScopeN(fn, scope, args, offset, len)\n}\n\nexport function createFn(name, args, body) {\n\tconst l = arguments.length\n\tif (l === 1) {\n\t\tbody = name\n\t\tname = args = 0\n\t} else if (l === 2) {\n\t\tbody = args\n\t\tif (isStr(name)) {\n\t\t\targs = 0\n\t\t} else {\n\t\t\targs = name\n\t\t\tname = 0\n\t\t}\n\t}\n\treturn name ?\n\t\tFunction(`return function ${name}(${args ? args.join(', ') : ''}){${body}}`)() :\n\t\tapplyScope(Function, Function, args ? args.concat(body) : [body])\n}\n\nconst varGenReg = /\\$\\d+$/\nexport function fnName(fn) {\n\tconst name = fn.name\n\treturn name ? name.replace(varGenReg, '') : ''\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:35:27\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:35:27\n */\nimport { apply } from '../helper/function'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst funcProto = Function[PROTOTYPE]\nif (!funcProto.bind) {\n\tfuncProto.bind = function bind(scope) {\n\t\tconst fn = this,\n\t\t\tlen = arguments.length - 1\n\t\tif (len > 0) {\n\t\t\tvar args = new Array(len),\n\t\t\t\ti = 0\n\t\t\tfor (; i < len; i++)\n\t\t\t\targs[i] = arguments[i + 1]\n\n\t\t\treturn function () {\n\t\t\t\tlet l = arguments.length,\n\t\t\t\t\ti = 0;\n\n\t\t\t\targs.length = len + l\n\t\t\t\tfor (; i < l; i++)\n\t\t\t\t\targs[len + i] = arguments[i]\n\t\t\t\tlet rs = apply(fn, scope, args)\n\t\t\t\tl && (args.length = len)\n\t\t\t\treturn rs\n\t\t\t}\n\t\t}\n\t\treturn function () {\n\t\t\treturn apply(fn, scope, arguments)\n\t\t}\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:35:31\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:07:38\n */\nconst QUERY_SELECTOR = 'querySelector',\n\tQUERY_SELECTOR_ALL = QUERY_SELECTOR + 'All',\n\tQUERY_RESULTS = '__queryResults'\n\nif (!document[QUERY_SELECTOR_ALL]) {\n\tdocument[QUERY_RESULTS] = []\n\tdocument[QUERY_SELECTOR_ALL] = function (selector) {\n\t\tconst head = document.documentElement.firstChild,\n\t\t\tstyleTag = document.createElement('STYLE')\n\n\t\thead.appendChild(styleTag)\n\t\tif (styleTag.styleSheet) { // for IE\n\t\t\tstyleTag.styleSheet.cssText = selector + `{x:expression(document[${QUERY_RESULTS}].push(this))}`\n\t\t} else { // others\n\t\t\tlet textnode = document.createTextNode(selector + `{x:expression(document[QUERY_RESULTS].push(this))}`)\n\t\t\tstyleTag.appendChild(textnode)\n\t\t}\n\t\twindow.scrollBy(0, 0)\n\t\tconst ret = document[QUERY_RESULTS]\n\t\tdocument[QUERY_RESULTS] = []\n\t\treturn ret\n\t}\n}\nif (!document[QUERY_SELECTOR]) {\n\tdocument[QUERY_SELECTOR] = function (selectors) {\n\t\tconst elements = document[QUERY_SELECTOR_ALL](selectors)\n\t\treturn elements.length ? elements[0] : null\n\t}\n}\n","import { isNil } from \"./is\"\n\n/*\n * String Util\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-04-26 18:30:18\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-08 16:57:52\n */\nconst trimReg = /(^\\s+)|(\\s+$)/g\nexport function trim(str) {\n\treturn str.replace(trimReg, '')\n}\nconst firstLetterReg = /^[a-zA-Z]/\n\nfunction upperHandler(m) {\n\treturn m.toUpperCase()\n}\nexport function upperFirst(str) {\n\treturn str.replace(firstLetterReg, upperHandler)\n}\nexport function strval(obj) {\n\treturn isNil(obj) ? '' : String(obj)\n}\n\nexport function charCode(str, index = 0) {\n\treturn str.charCodeAt(index)\n}\n\nexport function genCharCodes(start, end) {\n\tstart = charCode(start)\n\tend = charCode(end)\n\tconst codes = new Array(end - start + 1)\n\tfor (let i = start; i <= end; i++)\n\t\tcodes[i - start] = start\n\treturn codes\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-07-25 15:23:22\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:29:48\n */\n import { PROTOTYPE } from './constants'\n\nconst __hasOwn = Object[PROTOTYPE].hasOwnProperty\nexport function hasOwnProp(obj, prop) {\n\treturn __hasOwn.call(obj, prop)\n}\n\nexport function getOwnProp(obj, prop, defaultVal) {\n\treturn (obj && __hasOwn.call(obj, prop)) ? obj[prop] : defaultVal\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:57\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:01:15\n */\nimport { hasOwnProp } from './ownProp'\nimport { CONSTRUCTOR, PROTOTYPE, PROTO } from './constants'\n\nconst __getProto = Object.getPrototypeOf,\n\t__setProto = Object.setPrototypeOf\n\nexport const prototypeOfSupport = !!__setProto\n\nexport const prototypeOf = __setProto ? __getProto : __getProto ? function getPrototypeOf(obj) {\n\treturn obj[PROTO] || __getProto(obj)\n} : function getPrototypeOf(obj) {\n\treturn hasOwnProp(obj, PROTO) ? obj[PROTO] : obj[CONSTRUCTOR][PROTOTYPE]\n}\n\nexport const setPrototypeOf = __setProto || function getPrototypeOf(obj, proto) {\n\treturn obj[PROTO] = proto\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-07-25 15:24:51\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 11:56:38\n */\nimport { setPrototypeOf } from './prototypeOf'\nimport { CONSTRUCTOR,PROTOTYPE } from './constants'\n\nfunction FN() {}\n\nfunction doCreate(parent, props) {\n\tFN[PROTOTYPE] = parent\n\tconst obj = new FN()\n\tFN[PROTOTYPE] = undefined\n\tif (props) {\n\t\tvar k, v\n\t\tfor (k in props) {\n\t\t\tv = props[k]\n\t\t\tif (v && v[CONSTRUCTOR] === Object)\n\t\t\t\tobj[k] = v.value\n\t\t}\n\t}\n\treturn obj\n}\n\nexport default Object.create || (Object.getPrototypeOf ? doCreate : function create(parent, props) {\n\tconst obj = doCreate(parent, props)\n\tsetPrototypeOf(obj, parent)\n\treturn obj\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:11:27\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-18 11:11:27\n */\nimport { isArrayLike, isStr } from './is'\nimport { hasOwnProp } from './ownProp'\n\nexport const STOP = new String('STOP')\n\nexport const eachArray = __mkEachArrayLike(arrayValueHandler),\n\teachStr = __mkEachArrayLike(strValueHandler),\n\treachArray = __mkREachArrayLike(arrayValueHandler),\n\treachStr = __mkREachArrayLike(strValueHandler),\n\teach = __mkEach(eachStr, eachArray, eachObj),\n\treach = __mkEach(reachStr, reachArray, eachObj)\n\nexport function eachObj(obj, callback, scope, own) {\n\tif (scope) callback = callback.bind(scope)\n\tlet key\n\tif (own === false) {\n\t\tfor (key in obj)\n\t\t\tif (callback(obj[key], key, obj) === STOP)\n\t\t\t\treturn key\n\t} else {\n\t\tfor (key in obj)\n\t\t\tif (hasOwnProp(obj, key) && callback(obj[key], key, obj) === STOP)\n\t\t\t\treturn key\n\t}\n}\n\nexport function __mkEach(eachStr, eachArray, eachObj) {\n\treturn function (obj, callback, scope, own) {\n\t\tconst arrayType = isArrayLike(obj)\n\t\treturn (\n\t\t\tarrayType ?\n\t\t\tarrayType === String ? eachStr : eachArray :\n\t\t\teachObj\n\t\t)(obj, callback, scope, own)\n\t}\n}\n\nexport function __mkEachArrayLike(valueHandler) {\n\treturn function (array, callback, scope) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\tfor (let i = 0, l = array.length; i < l; i++)\n\t\t\tif (callback(valueHandler(array, i), i, array) === STOP)\n\t\t\t\treturn i\n\t}\n}\n\nexport function __mkREachArrayLike(valueHandler) {\n\treturn function (array, callback, scope) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\tlet i = array.length\n\t\twhile (i--) {\n\t\t\tif (callback(valueHandler(array, i), i, array) === STOP)\n\t\t\t\treturn i\n\t\t}\n\t}\n}\n\nfunction arrayValueHandler(array, i) {\n\treturn array[i]\n}\n\nfunction strValueHandler(str, i) {\n\treturn str.charAt(i)\n}\n\nexport function eachChain(array, v, callback, scope) {\n\tif (scope) callback = callback.bind(scope)\n\tfor (let i = 0, l = array.length; i < l; i++) {\n\t\tv = callback(array[i], i, v, array)\n\t\tif (v === STOP) return STOP\n\t}\n\treturn v\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:45\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:29:34\n */\nimport create from './create'\nimport { each, eachArray, eachStr, eachObj, STOP, __mkEach } from './each'\n\nexport const SKIP = new String('SKIP')\n\nexport const mapArray = __mkMapArrayLike(eachArray),\n\tmapStr = __mkMapArrayLike(eachStr),\n\tmapObj = __mkMapObj(eachObj),\n\tmap = __mkEach(mapStr, mapArray, mapObj)\n\nexport function __mkMapArrayLike(each) {\n\treturn function (array, callback, scope) {\n\t\tconst l = array.length,\n\t\t\tcopy = new Array(l)\n\t\tlet j = 0\n\n\t\tif (!callback) callback = defaultMapCallback\n\t\telse if (scope) callback = callback.bind(scope)\n\n\t\teach(array, (val, i, array) => {\n\t\t\tconst ret = callback(val, i, array)\n\t\t\tif (ret === STOP || ret === SKIP)\n\t\t\t\treturn ret\n\t\t\tcopy[j++] = ret\n\t\t})\n\t\tif (j !== l)\n\t\t\tcopy.length = j\n\t\treturn copy\n\t}\n}\n\nexport function __mkMapObj(each) {\n\treturn function (obj, callback, scope, own) {\n\t\tconst copy = create(null)\n\n\t\tif (!callback) callback = defaultMapCallback\n\t\telse if (scope) callback = callback.bind(scope)\n\n\t\teach(obj, (val, key, obj) => {\n\t\t\tconst ret = callback(val, key, obj)\n\t\t\tif (ret === STOP || ret === SKIP)\n\t\t\t\treturn ret\n\t\t\tcopy[key] = ret\n\t\t}, undefined, own)\n\t\treturn copy\n\t}\n}\n\nfunction defaultMapCallback(v) {\n\treturn v\n}\n","import { mapArray } from './map'\nimport { isBool } from './is'\n\nconst REG_ESCAPE = /[-\\/\\\\^$*+?.()|[\\]{}]/g\nexport function reEscape(s) {\n\treturn s.replace(REG_ESCAPE, '\\\\$&')\n}\n\nexport function reUnion(regexps) {\n\tif (!regexps.length) return '(?!)'\n\treturn `(?:${mapArray(regexps, s => `(?:${s})`).join('|')})`\n}\n\nexport const regStickySupport = isBool(/(?:)/.sticky)\nexport const regUnicodeSupport = isBool(/(?:)/.unicode)\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:13:03\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-10-29 18:10:39\n */\nimport create from './create'\nimport { isFn, isArray, isStr } from './is'\n\nexport function array2obj(array, keyHandler, valueHandler = arrayElementHandler) {\n\tconst dist = create(null)\n\tfor (let i = 0, l = array.length, v; i < l; i++) {\n\t\tv = array[i]\n\t\tdist[keyHandler(v, i, array)] = valueHandler(v, i, array)\n\t}\n\treturn dist\n}\n\nexport function makeMap(props, split, val) {\n\tconst arglen = arguments.length\n\tif (arglen < 3) {\n\t\tif (arglen === 2) {\n\t\t\tval = split\n\t\t} else {\n\t\t\tval = true\n\t\t}\n\t\tsplit = ','\n\t}\n\n\tif (isStr(props)) {\n\t\tif (!props) return create(null)\n\t\tprops = props.split(split)\n\t}\n\tconst valueHandler = isFn(val) ? val : () => val\n\treturn array2obj(props, arrayElementHandler, valueHandler)\n}\n\nfunction arrayElementHandler(v) {\n\treturn v\n}\n\nexport function makeArray(array, split, map) {\n\tconst arglen = arguments.length\n\tif (arglen < 3) {\n\t\tif (arglen === 2)\n\t\t\tmap = split\n\t\tsplit = ','\n\t}\n\n\tif (isStr(array)) {\n\t\tif (!array) return []\n\t\tarray = array.split(split)\n\t}\n\tif (map)\n\t\tfor (var i = 0, l = array.length; i < l; i++)\n\t\t\tarray[i] = map(array[i], i)\n\treturn array\n}\n\nexport function cached(cacheKey, cacheVal) {\n\tconst cache = create(null)\n\treturn function () {\n\t\tconst key = applyNoScope(cacheKey, arguments)\n\t\tlet val = cache[key]\n\t\tif (!val)\n\t\t\tcache[key] = val = applyNoScope(cacheVal, arguments)\n\t\treturn val\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 11:52:21\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 11:52:21\n */\nimport { assert } from 'devlevel'\n\nlet __defProp = Object.defineProperty\nexport const defPropSupport = __defProp && (function () {\n\ttry {\n\t\tvar val, obj = {}\n\t\t__defProp(obj, 's', {\n\t\t\tget() {\n\t\t\t\treturn val\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tval = value\n\t\t\t}\n\t\t})\n\t\tobj.s = 1\n\t\treturn obj.s === val\n\t} catch (e) {}\n})()\nif (!defPropSupport) {\n\t__defProp = function (obj, prop, desc) {\n\t\tassert(desc.get || desc.set, 'not support getter/setter on defineProperty')\n\t\tobj[prop] = desc.value\n\t\treturn obj\n\t}\n}\n\nexport const defProp = __defProp\n\nexport const defPropValue = defPropSupport ? function (obj, prop, value, configurable, writeable, enumerable) {\n\t__defProp(obj, prop, {\n\t\tvalue,\n\t\tconfigurable: configurable || false,\n\t\twriteable: writeable || false,\n\t\tenumerable: enumerable || false\n\t})\n\treturn value\n} : function (obj, prop, value) {\n\tobj[prop] = value\n\treturn value\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-07-25 15:42:57\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:25:44\n */\nimport create from './create'\nimport { hasOwnProp } from './ownProp'\n\nexport function __assign(dist, overrides, offset = 0, filter, data) {\n\tif (!dist) dist = {}\n\tlet i = offset,\n\t\tl = overrides.length,\n\t\toverride, prop\n\tfor (; i < l; i++) {\n\t\tif ((override = overrides[i]))\n\t\t\tfor (prop in override)\n\t\t\t\tif (filter(prop, dist, override, data))\n\t\t\t\t\tdist[prop] = override[prop]\n\t}\n\treturn dist\n}\n\nexport function assign(obj) {\n\treturn __assign(obj, arguments, 1, __assignFilter)\n}\n\nexport function __assignFilter(prop, dist, override) {\n\treturn hasOwnProp(override, prop)\n}\n\nexport function assignIf(obj) {\n\treturn __assign(obj, arguments, 1, __assignIfFilter)\n}\n\nexport function __assignIfFilter(prop, dist, override) {\n\treturn hasOwnProp(override, prop) && !hasOwnProp(dist, prop)\n}\n\nexport function assignBy(obj, filter) {\n\treturn __assign(obj, arguments, 2, __assignUserFilter, filter)\n}\n\nexport function __assignUserFilter(prop, dist, override, cb) {\n\treturn hasOwnProp(override, prop) && cb(prop, dist, override)\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:11:47\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 11:57:11\n */\nimport { assert } from 'devlevel'\nimport { __assign } from './assign'\nimport { CONSTRUCTOR, PROTOTYPE } from './constants'\n\nexport function __extend(cls, mixins, offset, filter, data) {\n\tassert.fn(cls, 'Invalid Class')\n\n\t__assign(cls[PROTOTYPE], mixins, offset, filter, data)\n\treturn cls\n}\n\nexport function extend(cls) {\n\treturn __extend(cls, arguments, 1, __extendFilter)\n}\n\nexport function __extendFilter(prop, proto, mixin) {\n\treturn prop !== CONSTRUCTOR\n}\n\nexport function extendIf(cls) {\n\treturn __extend(cls, arguments, 1, __extendIfFilter)\n}\n\nexport function __extendIfFilter(prop, proto, mixin) {\n\treturn prop !== CONSTRUCTOR && !(prop in proto)\n}\n\nexport function extendBy(cls, filter) {\n\treturn __extend(cls, arguments, 2, __extendUserFilter, filter)\n}\n\nexport function __extendUserFilter(prop, proto, mixin, cb) {\n\treturn prop !== CONSTRUCTOR && cb(prop, proto, mixin)\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:32\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 18:06:01\n */\nimport { assert } from 'devlevel'\nimport create from './create'\nimport { setPrototypeOf, prototypeOf } from './prototypeOf'\nimport { __extend, __extendFilter } from './extend'\nimport { isFn } from './is'\nimport { CONSTRUCTOR, PROTOTYPE } from './constants'\n\nexport function __inherit(cls, superCls) {\n\tconst proto = create(superCls[PROTOTYPE])\n\tproto[CONSTRUCTOR] = cls\n\tcls[PROTOTYPE] = proto\n\tsetPrototypeOf(cls, superCls)\n}\n\nexport function inherit(cls, superCls) {\n\tassert.fn(cls, 'Invalid Class')\n\n\tlet i = 2,\n\t\tl = arguments.length\n\n\tif (isFn(superCls))\n\t\t__inherit(cls, superCls)\n\telse i = 1\n\t__extend(cls, arguments, i, __extendFilter)\n\treturn cls\n}\n\nconst fnProto = Function[PROTOTYPE]\nconst objProto = Object[PROTOTYPE]\n\nexport function superCls(cls) {\n\tcls = prototypeOf(cls)\n\tswitch (cls) {\n\tcase Object:\n\tcase objProto:\n\tcase fnProto:\n\t\treturn undefined\n\t}\n\treturn cls\n}\n\nexport function subclassOf(cls, target) {\n\tif (target === Object) return true\n\n\tlet parent = cls\n\twhile ((parent = superCls(parent)))\n\t\tif (parent === target) return true\n\treturn false\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:11:07\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:27:21\n */\nimport { assert } from 'devlevel'\nimport { __inherit } from './inherit'\nimport { extend, extendBy } from './extend'\nimport { assign } from './assign'\nimport { applyScope } from './function'\nimport { getOwnProp } from './ownProp'\nimport { isFn } from './is'\nimport { makeMap } from './util'\nimport { CONSTRUCTOR, PROTOTYPE } from './constants'\n\nconst CLASS_NAME = 'name',\n\tEXTEND = 'extend',\n\tSTATICS = 'statics'\n\nconst KEYS = makeMap([CLASS_NAME, CONSTRUCTOR, EXTEND, STATICS, PROTOTYPE])\n\nexport default function createClass(overrides) {\n\tconst constructor = getOwnProp(overrides, CONSTRUCTOR)\n\tlet superCls = overrides[EXTEND]\n\n\tassert(!constructor || isFn(constructor), 'Invalid Constructor')\n\tassert(!superCls || isFn(superCls), 'Invalid Super Class')\n\n\tif (superCls === Object) superCls = null\n\n\tconst C = buildCls(constructor, overrides[CLASS_NAME], superCls)\n\tif (superCls)\n\t\t__inherit(C, superCls)\n\textendBy(C, keyFilter, overrides)\n\textend(C, overrides[PROTOTYPE])\n\tassign(C, overrides[STATICS])\n\treturn C\n}\n\nfunction buildCls(cls, name, superCls) {\n\tif (name)\n\t\treturn new Function('apply', 'S', `return function ${name}(){\n    ${(cls || superCls) ? `apply(S, this, arguments);`  : ''}\n}`)(applyScope, cls || superCls)\n\n\treturn cls || (superCls ? function () {\n\t\tapplyScope(superCls, this, arguments)\n\t} : function () {})\n}\n\nfunction keyFilter(prop) {\n\treturn !KEYS[prop]\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:11:54\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:28:29\n */\nimport { map, mapArray, mapStr, mapObj, SKIP } from './map'\nimport { STOP } from './each'\n\nexport const filterArray = __mkFilter(mapArray),\n\tfilterStr = __mkFilter(mapStr),\n\tfilterObj = __mkFilter(mapObj),\n\tfilter = __mkFilter(map)\n\nexport function __mkFilter(map) {\n\treturn function (obj, callback, scope, own) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\treturn map(obj, (val, index, obj) => {\n\t\t\tconst ret = callback(val, index, obj)\n\t\t\tif (ret === STOP || ret === SKIP) return ret\n\t\t\treturn ret ? val : SKIP\n\t\t}, undefined, own)\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:11:59\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-18 11:11:59\n */\nimport { each, eachArray, eachStr, eachObj, reach, reachArray, reachStr, STOP } from './each'\n\nexport const findArray = __mkFind(eachArray),\n\tfindStr = __mkFind(eachStr),\n\tfindObj = __mkFind(eachObj),\n\tfind = __mkFind(each),\n\trfindArray = __mkFind(reachArray),\n\trfindStr = __mkFind(reachStr),\n\trfind = __mkFind(reach)\n\nexport function __mkFind(each) {\n\treturn function (obj, callback, scope, own) {\n\t\tif (scope) callback = callback.bind(scope)\n\t\treturn each(obj, (val, index, obj) => {\n\t\t\tif (callback(val, index, obj))\n\t\t\t\treturn STOP\n\t\t}, undefined, own)\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:29\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-18 11:12:29\n */\nimport { each, eachArray, eachStr, eachObj, reach, reachArray, reachStr } from './each'\n\nexport const indexOfArray = __mkTypeIndexOf(eachArray),\n\tindexOfObj = __mkTypeIndexOf(eachObj),\n\tlastIndexOfArray = __mkTypeIndexOf(reachArray),\n\tindexOf = __mkIndexOf(indexOfArray, 'indexOf'),\n\tlastIndexOf = __mkIndexOf(lastIndexOfArray, 'lastIndexOf')\n\nexport function __mkTypeIndexOf(each) {\n\treturn function (obj, val, own) {\n\t\treturn each(obj, (v, index, obj) => {\n\t\t\tif (eq(v, val)) return STOP\n\t\t}, undefined, own)\n\t}\n}\n\nexport function __mkIndexOf(indexOfArray, strIndexOf) {\n\treturn function (obj, val, own) {\n\t\tconst arrayType = isArrayLike(obj)\n\t\tif (arrayType === String) {\n\t\t\tconst i = obj[strIndexOf](val)\n\t\t\tif (i >= 0) return i\n\t\t} else {\n\t\t\treturn (arrayType ? indexOfArray : indexOfObj)(obj, val, own)\n\t\t}\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:49\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-10 11:37:20\n */\nimport { STOP } from './each'\nimport { SKIP } from './map'\nimport { hasOwnProp } from './ownProp'\n\nexport function obj2array(obj, valueHandler, scope, own) {\n\tconst array = []\n\tlet key, ret, i = 0\n\n\tif (scope) valueHandler = valueHandler.bind(scope)\n\tif (own === false) {\n\t\tfor (key in obj) {\n\t\t\tret = valueHandler(obj, key)\n\t\t\tif (ret === STOP) break\n\t\t\tif (ret !== SKIP)\n\t\t\t\tarray[i++] = ret\n\t\t}\n\t} else {\n\t\tfor (key in obj) {\n\t\t\tif (hasOwnProp(obj, key)) {\n\t\t\t\tret = valueHandler(obj, key, i)\n\t\t\t\tif (ret === STOP) break\n\t\t\t\tif (ret !== SKIP)\n\t\t\t\t\tarray[i++] = ret\n\t\t\t}\n\t\t}\n\t}\n\treturn array\n}\n\nexport const keys = __mkKV(obj2array, keyHandler),\n\tvalues = __mkKV(obj2array, valueHandler)\n\nexport function __mkKV(obj2array, handler) {\n\treturn function (obj, own, filter, scope) {\n\t\tif (filter) {\n\t\t\tif (scope) filter = filter.bind(scope)\n\t\t\treturn obj2array(obj, (obj, key) => {\n\t\t\t\tconst ret = filter(obj, key)\n\t\t\t\tif (!ret) return SKIP\n\t\t\t\tif (ret === STOP || ret === SKIP) return ret\n\t\t\t\treturn handler(obj, key)\n\t\t\t}, undefined, own)\n\t\t}\n\t\treturn obj2array(obj, handler, undefined, own)\n\t}\n}\n\nfunction keyHandler(obj, key) {\n\treturn key\n}\n\nfunction valueHandler(obj, key) {\n\treturn obj[key]\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-18 11:12:25\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-17 15:48:55\n */\nexport { default as global } from './global'\nexport * from './is'\nexport * from './function'\nexport * from './string'\nexport * from './reg'\nexport * from './util'\nexport * from './ownProp'\nexport * from './prototypeOf'\nexport * from './defineProperty'\nexport { default as create } from './create'\nexport { assign, assignIf, assignBy } from './assign'\nexport { extend, extendIf, extendBy } from './extend'\nexport { inherit, superCls, subclassOf } from './inherit'\nexport { default as createClass } from './class'\nexport { each, eachArray, eachStr, eachObj, reach, reachArray, reachStr, eachChain, STOP } from './each'\nexport { map, mapArray, mapStr, mapObj, SKIP } from './map'\nexport { filter, filterArray, filterStr, filterObj } from './filter'\nexport { find, findArray, findStr, findObj, rfind, rfindStr } from './find'\nexport { indexOf, indexOfArray, indexOfObj, lastIndexOf, lastIndexOfArray } from './indexOf'\nexport { obj2array, keys, values } from './obj2array'\n","/*\n * Double Linked List\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-07-23 16:07:38\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-06 14:21:28\n */\nimport { assert } from 'devlevel'\nimport { inherit, defPropValue } from '../helper';\n\nexport const DEFAULT_BINDING = '__list__'\n\nexport default function List(binding) {\n\tthis.binding = binding || DEFAULT_BINDING\n}\n\ndefPropValue(List, 'binding', DEFAULT_BINDING)\n\ninherit(List, {\n\tlength: 0,\n\thas(obj) {\n\t\tconst node = obj[this.binding]\n\t\treturn node ? node[0] === obj && node[3] === this : false\n\t},\n\tadd(obj) {\n\t\treturn __insert(this, obj, this.tail)\n\t},\n\taddFirst(obj) {\n\t\treturn __insert(this, obj)\n\t},\n\tinsertAfter(obj, target) {\n\t\treturn __insert(this, obj, target && __getNode(this, target))\n\t},\n\tinsertBefore(obj, target) {\n\t\treturn __insert(this, obj, target && __getNode(this, target)[1])\n\t},\n\taddAll(objs) {\n\t\treturn __insertAll(this, objs, this.tail)\n\t},\n\taddFirstAll(objs) {\n\t\treturn __insertAll(this, objs)\n\t},\n\tinsertAfterAll(objs, target) {\n\t\treturn __insertAll(this, objs, target && __getNode(this, target))\n\t},\n\tinsertBeforeAll(objs, target) {\n\t\treturn __insertAll(this, objs, target && __getNode(this, target)[1])\n\t},\n\tprev(obj) {\n\t\treturn __siblingObj(this, obj, 1)\n\t},\n\tnext(obj) {\n\t\treturn __siblingObj(this, obj, 2)\n\t},\n\tfirst() {\n\t\tconst node = this.head\n\t\treturn node && node[0]\n\t},\n\tlast() {\n\t\tconst node = this.tail\n\t\treturn node && node[0]\n\t},\n\tremove(obj) {\n\t\tconst node = __getNode(this, obj)\n\t\tif (this.scaning) {\n\t\t\tconst { lazyRemoves } = this\n\t\t\tobj[this.binding] = undefined // unbind list node\n\t\t\tnode[3] = undefined\n\t\t\tif (lazyRemoves) {\n\t\t\t\tlazyRemoves.push(node)\n\t\t\t} else {\n\t\t\t\tthis.lazyRemoves = [node]\n\t\t\t}\n\t\t} else {\n\t\t\t__remove(this, node)\n\t\t}\n\t\treturn --this.length\n\t},\n\teach(cb, scope) {\n\t\tassert(!this.scaning, 'Recursive calls are not allowed.')\n\t\tthis.scaning = true\n\t\tif (scope) cb = cb.bind(scope)\n\t\tlet node = this.head\n\t\twhile (node) {\n\t\t\tif (node[3] === this && cb(node[0]) === false)\n\t\t\t\tbreak\n\t\t\tnode = node[2]\n\t\t}\n\t\t__doLazyRemove(this)\n\t\tthis.scaning = false\n\t},\n\ttoArray() {\n\t\tconst array = new Array(this.length)\n\t\tlet node = this.head,\n\t\t\ti = 0\n\t\twhile (node) {\n\t\t\tif (node[3] === this)\n\t\t\t\tarray[i++] = node[0]\n\t\t\tnode = node[2]\n\t\t}\n\t\treturn array\n\t},\n\tclean() {\n\t\tif (this.length) {\n\t\t\tif (this.scaning) {\n\t\t\t\tconst { binding } = this\n\t\t\t\tconst lazyRemoves = this.lazyRemoves || (this.lazyRemoves = [])\n\t\t\t\tvar node = this.head\n\t\t\t\twhile (node) {\n\t\t\t\t\tif (node[3] === this) {\n\t\t\t\t\t\tnode[0][binding] = undefined\n\t\t\t\t\t\tlazyRemoves.push(node)\n\t\t\t\t\t}\n\t\t\t\t\tnode = node[2]\n\t\t\t\t}\n\t\t\t\tthis.length = 0\n\t\t\t} else {\n\t\t\t\t__clean(this)\n\t\t\t}\n\t\t}\n\t},\n\tclone(cb, scope) {\n\t\tconst newlist = new List(this.binding)\n\t\tif (this.length) {\n\t\t\tif (scope) cb = cb.bind(scope)\n\t\t\tvar node = this.head,\n\t\t\t\tnewtail, newhead,\n\t\t\t\tnewprev = undefined,\n\t\t\t\ti = 0\n\t\t\twhile (node) {\n\t\t\t\tif (node[3] === this && (newtail = cb(node[0]))) {\n\t\t\t\t\tnewtail = __initNode(newlist, newtail)\n\t\t\t\t\tassert(!newtail[3], 'Double add List, Clone Callback should return a new Object')\n\t\t\t\t\tnewtail[3] = newlist\n\t\t\t\t\tif (newprev) {\n\t\t\t\t\t\tnewtail[1] = newprev\n\t\t\t\t\t\tnewprev[2] = newtail\n\t\t\t\t\t\tnewprev = newtail\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewprev = newhead = newtail\n\t\t\t\t\t}\n\t\t\t\t\ti++\n\t\t\t\t}\n\t\t\t\tnode = node[2]\n\t\t\t}\n\t\t\ti && __doInsert(newlist, newhead, newtail, i)\n\t\t}\n\t\treturn newlist\n\t}\n})\n\nfunction __doInsert(list, nodeHead, nodeTail, len, prev) {\n\tlet next\n\tnodeHead[1] = prev\n\tif (prev) {\n\t\tnodeTail[2] = next = prev[2]\n\t\tprev[2] = nodeHead\n\t} else {\n\t\tnodeTail[2] = next = list.head\n\t\tlist.head = nodeHead\n\t}\n\tif (next) next[1] = nodeTail\n\telse list.tail = nodeTail\n\treturn (list.length += len)\n}\n\nfunction __insert(list, obj, prev) {\n\tconst node = __initNode(list, obj)\n\tif (!node[3]) {\n\t\tnode[3] = list\n\t\treturn __doInsert(list, node, node, 1, prev)\n\t}\n}\n\nfunction __insertAll(list, objs, prev) {\n\tlet l = objs.length\n\tif (!l) return\n\tconst head = __initNode(list, objs[0])\n\tassert(!head[3], 'Double add List, Object have added in this List')\n\thead[3] = list\n\tlet __prev = head,\n\t\ttail = head,\n\t\ti = 1\n\tfor (; i < l; i++) {\n\t\ttail = __initNode(list, objs[i])\n\t\tassert(!tail[3], 'Double add List, Object have added in this List')\n\t\ttail[3] = list\n\t\ttail[1] = __prev\n\t\t__prev[2] = tail\n\t\t__prev = tail\n\t}\n\treturn __doInsert(list, head, tail, l, prev)\n}\n\nfunction __initNode(list, obj) {\n\tconst { binding } = list\n\tlet node = obj[binding]\n\tif (node && node[0] === obj) {\n\t\tassert(!node[3] || node[3] === list, 'Double add List, Object is still in other List')\n\t} else {\n\t\tnode = defPropValue(obj, binding, [obj], true, true)\n\t}\n\treturn node\n}\n\nfunction __getNode(list, obj) {\n\tconst node = obj[list.binding]\n\tif (node && node[0] === obj) {\n\t\tassert(node[3] === list, 'Object is not in this List')\n\t\treturn node\n\t}\n\tassert(0, 'Object is not in List')\n}\n\nfunction __siblingObj(list, obj, key) {\n\tconst node = __getNode(list, obj)\n\tlet sibling = node[key]\n\tif (sibling) {\n\t\twhile (!sibling[3]) {\n\t\t\tsibling = sibling[key]\n\t\t\tif (!sibling) return\n\t\t}\n\t\treturn sibling[0]\n\t}\n}\n\nfunction __remove(list, node) {\n\tconst prev = node[1],\n\t\tnext = node[2]\n\tif (prev) {\n\t\tprev[2] = next\n\t} else {\n\t\tlist.head = next\n\t}\n\tif (next) {\n\t\tnext[1] = prev\n\t} else {\n\t\tlist.tail = prev\n\t}\n\tnode.length = 1\n}\n\nfunction __clean(list) {\n\tlet node, next = list.head\n\twhile (node = next) {\n\t\tnext = node[2]\n\t\tnode.length = 1\n\t}\n\tlist.head = undefined\n\tlist.tail = undefined\n\tlist.length = 0\n}\n\nfunction __doLazyRemove(list) {\n\tconst { lazyRemoves } = list\n\tif (lazyRemoves) {\n\t\tvar len = lazyRemoves.length\n\t\tif (len) {\n\t\t\tif (list.length) {\n\t\t\t\twhile (len--)\n\t\t\t\t\t__remove(list, lazyRemoves[len])\n\t\t\t} else {\n\t\t\t\t__clean(list)\n\t\t\t}\n\t\t\tlazyRemoves.length = 0\n\t\t}\n\t}\n}\n","/*\n * Function List\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:59:11\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-06 13:57:17\n */\nimport { assert } from 'devlevel'\nimport List from './List'\nimport { inherit, create, defPropValue } from '../helper'\n\nexport const DEFAULT_FN_BINDING = '__id__'\nexport const DEFAULT_SCOPE_BINDING = '__id__'\nexport default function FnList(fnBinding, scopeBinding) {\n\tthis.nodeMap = create(null)\n\tthis.list = new List()\n\tthis.fnBinding = fnBinding || DEFAULT_FN_BINDING\n\tthis.scopeBinding = scopeBinding || DEFAULT_SCOPE_BINDING\n}\n\ndefPropValue(FnList, 'fnBinding', DEFAULT_FN_BINDING)\ndefPropValue(FnList, 'scopeBinding', DEFAULT_FN_BINDING)\n\ninherit(FnList, {\n\tadd(fn, scope, data) {\n\t\tassert.fn(fn, 'fn is not a Function.')\n\t\tscope = parseScope(scope)\n\t\tconst { list, nodeMap } = this\n\t\tconst id = nodeId(fn, scope, this)\n\t\tlet node = nodeMap[id]\n\t\tif (!node) {\n\t\t\tnode = [id, fn, scope, data]\n\t\t\tvar ret = list.add(node)\n\t\t\tif (ret) nodeMap[id] = node\n\t\t\treturn ret\n\t\t}\n\t},\n\tremove(fn, scope) {\n\t\tassert.fn(fn, 'fn is not a Function.')\n\t\tconst { list, nodeMap } = this\n\t\tconst id = nodeId(fn, parseScope(scope), this)\n\t\tconst node = nodeMap[id]\n\t\tif (node) {\n\t\t\tnodeMap[id] = undefined\n\t\t\treturn list.remove(node)\n\t\t}\n\t\treturn false\n\t},\n\thas(fn, scope) {\n\t\tassert.fn(fn, 'fn is not a Function.')\n\t\treturn !!this.nodeMap[nodeId(fn, parseScope(scope), this)]\n\t},\n\tsize() {\n\t\treturn this.list.length\n\t},\n\tclean() {\n\t\tthis.nodeMap = create(null)\n\t\tthis.list.clean()\n\t},\n\teach(cb, scope) {\n\t\tassert.fn(cb, 'callback is not a Function.')\n\t\tif (scope) cb = cb.bind(scope)\n\t\tthis.list.each((node) => cb(node[1], node[2], node[3]))\n\t}\n})\n\nconst DEFAULT_SCOPE_ID = 1\nlet scopeIdGenerator = 1,\n\tfnIdGenerator = 0\n\nfunction nodeId(fn, scope, list) {\n\tconst { fnBinding, scopeBinding } = list\n\n\tlet fnId = fn[fnBinding],\n\t\tscopeId = scope ? scope[scopeBinding] : DEFAULT_SCOPE_ID\n\tif (!fnId)\n\t\tfnId = defPropValue(fn, fnBinding, ++fnIdGenerator)\n\tif (!scopeId)\n\t\tscopeId = defPropValue(scope, scopeBinding, ++scopeIdGenerator)\n\treturn `${fnId}&${scopeId}`\n}\n\nfunction parseScope(scope) {\n\treturn (!scope) ? undefined : scope\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:59:58\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 17:59:58\n */\nimport { assert } from 'devlevel'\nimport FnList from './FnList'\n\nconst ticks = new FnList()\nlet pending = false\nlet next\n\nfunction executeTick(fn, scope) {\n\tscope ? fn.call(scope) : fn()\n}\n\nfunction flush() {\n\tticks.each(executeTick)\n\tticks.clean()\n\tpending = false\n}\n\nif (typeof MutationObserver === 'function') { // chrome18+, safari6+, firefox14+,ie11+,opera15\n\tvar counter = 0,\n\t\tobserver = new MutationObserver(flush),\n\t\ttextNode = document.createTextNode(counter)\n\tobserver.observe(textNode, {\n\t\tcharacterData: true\n\t})\n\tnext = function () {\n\t\ttextNode.data = (counter = counter ? 0 : 1)\n\t}\n} else {\n\tnext = function () {\n\t\tsetTimeout(flush, 0)\n\t}\n}\n\nexport function nextTick(fn, scope) {\n\tticks.add(fn, scope)\n\tif (!pending) {\n\t\tpending = true\n\t\tnext()\n\t}\n}\n\nexport function clearTick(fn, scope) {\n\tticks.remove(fn, scope)\n}\n","/*\n * String format\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-07-25 14:57:08\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-11-05 15:57:16\n */\nimport { PROTOTYPE } from '../helper/constants'\n\nconst STR_ESCAPE_MAP = {\n\t\t'\\n': '\\\\n',\n\t\t'\\t': '\\\\t',\n\t\t'\\f': '\\\\f',\n\t\t'\"': '\\\\\"'\n\t},\n\tSTR_ESCAPE = /[\\n\\t\\f\"]/g\n\nexport function escapeString(str) {\n\treturn str.replace(STR_ESCAPE, str => STR_ESCAPE_MAP[str])\n}\n\nexport function pad(str, len, chr, leftAlign) {\n\tstr = String(str)\n\tconst l = str.length\n\tif (l >= len) return str\n\n\tconst padding = (new Array(len - l + 1)).join(chr || ' ')\n\treturn leftAlign ? str + padding : padding + str\n}\n\nfunction replacor(regs) {\n\treturn function (str) {\n\t\tfor (let i = 0, reg; i < 4; i++) {\n\t\t\treg = regs[i]\n\t\t\tif (reg[0].test(str))\n\t\t\t\treturn str.replace(reg[0], reg[1])\n\t\t}\n\t\treturn str\n\t}\n}\n\nexport const plural = replacor([\n\t[/([a-zA-Z]+[^aeiou])y$/, '$1ies'],\n\t[/([a-zA-Z]+[aeiou]y)$/, '$1s'],\n\t[/([a-zA-Z]+[sxzh])$/, '$1es'],\n\t[/([a-zA-Z]+[^sxzhy])$/, '$1s']\n])\n\nexport const singular = replacor([\n\t[/([a-zA-Z]+[^aeiou])ies$/, '$1y'],\n\t[/([a-zA-Z]+[aeiou])s$/, '$1'],\n\t[/([a-zA-Z]+[sxzh])es$/, '$1'],\n\t[/([a-zA-Z]+[^sxzhy])s$/, '$1']\n])\n\nconst thousandSeparationReg = /(\\d)(?=(\\d{3})+(?!\\d))/g\nexport function thousandSeparate(number) {\n\tlet split = (number + '').split('.')\n\tsplit[0] = split[0].replace(thousandSeparationReg, '$1,')\n\treturn split.join('.')\n}\n\n// ========================== formatter ===========================\n// [index]    [flags]   [min-width]       [precision]         type\n// index$|$   ,-+#0     width|index$|*|$  .width|.index$|*|$  %sfducboxXeEgGpP\nconst formatReg = /%(\\d+\\$|\\*|\\$)?([-+#0, ]*)?(\\d+\\$?|\\*|\\$)?(\\.\\d+\\$?|\\.\\*|\\.\\$)?([%sfducboxXeEgGpP])/g\nconst slice = Array[PROTOTYPE].slice\n\n\nfunction _format(str, args) {\n\tlet index = 0\n\n\t// for min-width & precision\n\tfunction parseWidth(width) {\n\t\tif (!width) {\n\t\t\twidth = 0\n\t\t} else if (width == '*') {\n\t\t\twidth = +args[index++]\n\t\t} else if (width == '$') {\n\t\t\twidth = +args[index]\n\t\t} else if (width.charAt(width.length - 1) == '$') {\n\t\t\twidth = +args[width.slice(0, -1) - 1]\n\t\t} else {\n\t\t\twidth = +width\n\t\t}\n\t\treturn isFinite(width) ? width < 0 ? undefined : width : undefined\n\t}\n\n\t// for index\n\tfunction parseArg(i) {\n\t\tif (!i || i == '*')\n\t\t\treturn args[index++]\n\t\tif (i == '$')\n\t\t\treturn args[index]\n\t\treturn args[i.slice(0, -1) - 1]\n\t}\n\n\tstr = str.replace(formatReg, function (match, idx, flags, minWidth, precision, type) {\n\t\tif (type === '%') return '%'\n\n\t\tlet value = parseArg(idx)\n\t\tminWidth = parseWidth(minWidth)\n\t\tprecision = precision && parseWidth(precision.slice(1))\n\t\tif (!precision && precision !== 0)\n\t\t\tprecision = 'fFeE'.indexOf(type) == -1 && (type == 'd') ? 0 : undefined\n\n\t\tlet leftJustify = false,\n\t\t\tpositivePrefix = '',\n\t\t\tzeroPad = false,\n\t\t\tprefixBaseX = false,\n\t\t\tthousandSeparation = false,\n\t\t\tprefix,\n\t\t\tbase,\n\t\t\tc, i, j\n\n\t\tfor (i = 0, j = flags && flags.length; i < j; i++) {\n\t\t\tc = flags.charAt(i)\n\t\t\tswitch (c) {\n\t\t\tcase ' ':\n\t\t\tcase '+':\n\t\t\t\tpositivePrefix = c\n\t\t\t\tbreak\n\t\t\tcase '-':\n\t\t\t\tleftJustify = true\n\t\t\t\tbreak\n\t\t\tcase '0':\n\t\t\t\tzeroPad = true\n\t\t\t\tbreak\n\t\t\tcase '#':\n\t\t\t\tprefixBaseX = true\n\t\t\t\tbreak\n\t\t\tcase ',':\n\t\t\t\tthousandSeparation = true\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tswitch (type) {\n\t\tcase 'c':\n\t\t\tvalue = +value\n\t\t\tvalue = isNaN(value) || !isFinite(value) ? '' : String.fromCharCode(value)\n\t\t\tif (value.length < minWidth)\n\t\t\t\tvalue = pad(value, minWidth, zeroPad ? '0' : ' ', leftJustify)\n\t\t\treturn value\n\t\tcase 's':\n\t\t\tif (value === undefined || value === null || (typeof value === 'number' && (isNaN(value) || !isFinite(value)))) {\n\t\t\t\tvalue = ''\n\t\t\t} else {\n\t\t\t\tvalue += ''\n\t\t\t\tif (precision && value.length > precision)\n\t\t\t\t\tvalue = value.slice(0, precision)\n\t\t\t}\n\t\t\tif (value.length < minWidth)\n\t\t\t\tvalue = pad(value, minWidth, zeroPad ? '0' : ' ', leftJustify)\n\t\t\treturn value\n\t\tcase 'd':\n\t\t\tvalue = parseInt(value)\n\t\t\tif (isNaN(value) || !isFinite(value)) {\n\t\t\t\tvalue = ''\n\t\t\t\tprefix = positivePrefix\n\t\t\t} else {\n\t\t\t\tif (value < 0) {\n\t\t\t\t\tprefix = '-'\n\t\t\t\t\tvalue = (-value)\n\t\t\t\t} else {\n\t\t\t\t\tprefix = positivePrefix\n\t\t\t\t}\n\t\t\t\tvalue += ''\n\t\t\t}\n\t\t\tif (value.length < minWidth)\n\t\t\t\tvalue = pad(value, minWidth, '0', false)\n\t\t\tif (thousandSeparation)\n\t\t\t\tvalue = value.replace(thousandSeparationReg, '$1,')\n\t\t\treturn prefix + value\n\t\tcase 'e':\n\t\tcase 'E':\n\t\tcase 'f':\n\t\tcase 'g':\n\t\tcase 'G':\n\t\tcase 'p':\n\t\tcase 'P':\n\t\t\t{\n\t\t\t\tlet number = +value\n\t\t\t\tif (isNaN(number) || !isFinite(value)) {\n\t\t\t\t\tnumber = ''\n\t\t\t\t} else {\n\t\t\t\t\tif (number < 0) {\n\t\t\t\t\t\tprefix = '-'\n\t\t\t\t\t\tnumber = -number\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprefix = positivePrefix\n\t\t\t\t\t}\n\n\t\t\t\t\tswitch (type.toLowerCase()) {\n\t\t\t\t\tcase 'f':\n\t\t\t\t\t\tnumber = precision === undefined ? number + '' : number.toFixed(precision)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'e':\n\t\t\t\t\t\tnumber = number.toExponential(precision)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'g':\n\t\t\t\t\t\tnumber = precision === undefined ? number + '' : number.toPrecision(precision)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase 'p':\n\t\t\t\t\t\tif (precision !== undefined) {\n\t\t\t\t\t\t\tlet sf = String(value).replace(/[eE].*|[^\\d]/g, '')\n\t\t\t\t\t\t\tsf = (number ? sf.replace(/^0+/, '') : sf).length\n\t\t\t\t\t\t\tprecision = Math.min(precision, sf)\n\t\t\t\t\t\t\tnumber = number[(!precision || precision <= sf) ? 'toPrecision' : 'toExponential'](precision)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnumber += ''\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (number.length < minWidth)\n\t\t\t\t\tnumber = pad(number, minWidth, '0', false)\n\t\t\t\tif (thousandSeparation) {\n\t\t\t\t\tlet split = number.split('.')\n\t\t\t\t\tsplit[0] = split[0].replace(thousandSeparationReg, '$1,')\n\t\t\t\t\tnumber = split.join('.')\n\t\t\t\t}\n\t\t\t\tvalue = prefix + number\n\t\t\t\tif ('EGP'.indexOf(type) != -1)\n\t\t\t\t\treturn value.toUpperCase()\n\t\t\t\treturn value\n\t\t\t}\n\t\tcase 'b':\n\t\t\tbase = 2\n\t\t\tbreak\n\t\tcase 'o':\n\t\t\tbase = 8\n\t\t\tbreak\n\t\tcase 'u':\n\t\t\tbase = 10\n\t\t\tbreak\n\t\tcase 'x':\n\t\tcase 'X':\n\t\t\tbase = 16\n\t\t\tbreak\n\t\tcase 'n':\n\t\t\treturn ''\n\t\tdefault:\n\t\t\treturn match\n\t\t}\n\t\tlet number = value >>> 0\n\t\tprefix = prefixBaseX && base != 10 && number && ['0b', '0', '0x'][base >> 3] || ''\n\t\tnumber = number.toString(base)\n\t\tif (number.length < minWidth)\n\t\t\tnumber = pad(number, minWidth, '0', false)\n\t\tvalue = prefix + number\n\t\tif (type == 'X') return value.toUpperCase()\n\t\treturn value\n\t})\n\n\treturn {\n\t\tformat: str, // format result\n\t\tcount: index // format param count\n\t}\n}\n\nexport function format(str) {\n\treturn _format(str, slice.call(arguments, 1)).format\n}\n\nformat.format = _format\n","/*\n * property path\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 18:00:02\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 18:00:02\n */\nimport { assert } from 'devlevel'\nimport { create, isArray } from '../helper'\n\nconst pathCache = create(null),\n\tpathReg = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,\n\tescapeCharReg = /\\\\(\\\\)?/g,\n\tformatReg = /(?:\\.|^)([^a-zA-Z_$][^.]*)/g\n\nexport function parsePath(path, cache) {\n\tif (isArray(path)) return path\n\n\tassert.str(path, `Require path[Array | String]`)\n\n\tlet rs = pathCache[path]\n\tif (!rs) {\n\t\trs = []\n\t\tif (cache !== false) pathCache[path] = rs\n\t\tpath.replace(pathReg, function (match, number, quote, string) {\n\t\t\trs.push(quote ? string.replace(escapeCharReg, '$1') : (number || match))\n\t\t})\n\t}\n\treturn rs.slice()\n}\n\nexport function formatPath(path) {\n\tif (isArray(path))\n\t\treturn path.join('.').replace(formatReg, formatHandle)\n\tassert.str(path, `Require path[Array | String]`)\n\treturn path\n}\n\nfunction formatHandle(m, i) {\n\treturn `['${i}']`\n}\n\n\nexport function get(obj, path) {\n\tpath = parsePath(path)\n\tconst l = path.length - 1\n\tif (l === -1) return obj\n\tlet i = 0\n\tfor (; i < l; i++) {\n\t\tobj = obj[path[i]]\n\t\tif (obj === null || obj === undefined)\n\t\t\treturn undefined\n\t}\n\treturn obj ? obj[path[i]] : undefined\n}\n\nexport function set(obj, path, value) {\n\tpath = parsePath(path)\n\tconst l = path.length - 1\n\tif (l === -1) return\n\tlet attr, v, i = 0\n\tfor (; i < l; i++) {\n\t\tattr = path[i]\n\t\tv = obj[attr]\n\t\tif (!v) obj[attr] = v = {}\n\t\tobj = v\n\t}\n\tattr = path[i]\n\tobj[attr] = value\n}\n","import { assert, error } from 'devlevel'\nimport {\n\tinherit,\n\tisObj,\n\tisFn,\n\tisStr,\n\tisNum,\n\tisInt,\n\tisArray,\n\tisBool,\n\tisReg,\n\tapplyNoScope,\n\treEscape,\n\tregStickySupport,\n\tmakeMap,\n\tassign\n} from '../helper'\nimport { pad, escapeString } from './format'\n\n// ================================================\n// Text Stream\n// ================================================\nconst LINE_REG = /\\n/g\n\nfunction Stream(buff) {\n\tthis.orgbuff = buff\n\tthis.orglen = buff.length\n\t// [buff, offset, orgoffset, prev, char code cache]\n\tconst curr = [buff, 0, 0, null, null]\n\tthis.curr = curr\n\tthis.stack = [curr]\n}\ninherit(Stream, {\n\tenter() {\n\t\tlet { curr } = this\n\t\t// [buff, offset, orgoffset, prev, char code cache]\n\t\tthis.curr = curr = [curr[0], curr[1], curr[2], curr, null]\n\t\tthis.stack.push(curr)\n\t},\n\treset() {\n\t\tconst { curr } = this\n\t\tconst prev = curr[3]\n\t\tif (curr[2] !== prev[2]) {\n\t\t\tcurr[0] = prev[0]\n\t\t\tcurr[1] = prev[1]\n\t\t\tcurr[2] = prev[2]\n\t\t\tcurr[4] = null\n\t\t\treturn true\n\t\t}\n\t},\n\texit() {\n\t\tconst curr = this.stack.pop()\n\t\tthis.curr = curr[3]\n\t},\n\tcommit() {\n\t\tconst curr = this.stack.pop(),\n\t\t\tprev = curr[3]\n\t\tthis.curr = prev\n\t\tprev[0] = curr[0]\n\t\tprev[1] = curr[1]\n\t\tprev[2] = curr[2]\n\t\tprev[4] = curr[4]\n\t},\n\tbuff(reset) {\n\t\tconst { curr } = this\n\t\tif (reset) {\n\t\t\tcurr[0] = curr[0].substring(curr[1])\n\t\t\tcurr[1] = 0\n\t\t}\n\t\treturn curr[0]\n\t},\n\toffset() {\n\t\treturn this.curr[1]\n\t},\n\torgOffset() {\n\t\treturn this.curr[2]\n\t},\n\tupOrgOffset() {\n\t\tconst prev = this.curr[3]\n\t\treturn prev ? prev[2] : 0\n\t},\n\tnextCode() {\n\t\tconst { curr } = this\n\t\tif (curr[4] === null)\n\t\t\tcurr[4] = curr[2] < this.orglen ? curr[0].charCodeAt(curr[1]) : 0\n\t\treturn curr[4]\n\t},\n\tconsume(len) {\n\t\tif (len) {\n\t\t\tconst { curr } = this\n\t\t\tcurr[1] += len\n\t\t\tcurr[2] += len\n\t\t\tcurr[4] = null\n\t\t}\n\t},\n\tposition(offset) {\n\t\tconst { orgbuff } = this\n\t\tlet line = 0,\n\t\t\tlineOffset = 0\n\n\t\twhile (LINE_REG.exec(orgbuff) && offset >= LINE_REG.lastIndex) {\n\t\t\tlineOffset = LINE_REG.lastIndex\n\t\t\tline++\n\t\t}\n\t\tLINE_REG.lastIndex = 0\n\t\treturn [line, offset - lineOffset]\n\t},\n\tsource() {\n\t\tconst { orgbuff } = this\n\t\tlet line = 1\n\t\treturn ` 0: ${orgbuff.replace(LINE_REG, ()=>`\\n${pad((line++), 2)}: `)}`\n\t}\n})\n\n// ================================================\n// Rule Base API\n// ================================================\nlet idGen = 0\n\nexport const MatchResult = inherit(function MatchResult(parent) {\n\tthis.parent = parent\n\tthis.data = []\n}, {\n\tadd(data) {\n\t\tthis.data.push(data)\n\t},\n\taddAll(datas) {\n\t\tconst { data } = this\n\t\tconst len = data.length\n\t\tlet i = datas.length\n\t\twhile (i--)\n\t\t\tdata[len + i] = datas[i]\n\t},\n\tempty() {\n\t\tthis.setLen(0)\n\t},\n\tsetLen(len) {\n\t\tconst { data } = this\n\t\tif (data.length > len) data.length = len\n\t}\n})\n\n/**\n * static Rule options\n */\nexport function UNATTACH() {}\nexport const UNCAPTURABLE = {\n\t\tcapturable: false\n\t},\n\tUNATTACH_CAPTURABLE = {\n\t\tattach: UNATTACH,\n\t\tcapturable: false\n\t}\n\nfunction defaultErrorMsg(err) {\n\treturn err\n}\n\nfunction defaultAttach(data, rs) {\n\trs.add(data)\n}\n\nfunction defaultRuleTest() {\n\treturn true\n}\n\nconst OPTION_ATTACH = 'attach',\n\tOPTION_ERROR = 'error',\n\tOPTION_CAPTURABLE = 'capturable'\n/**\n * Rule Interface\n *\n * Overrides:\n *      Rule(name, attachFunction: <Function>)\n *\n *      Rule(name, errorMsg: <String>)\n *\n * @param {String}                  name                rule name\n * @param {Function|String|Object}  option              rule option\n * @param {Function}                option.attach       data attach callback\n * @param {Boolean}                 option.capturable   error is capturable\n * @param {Function|String}         option.error        error message or error message callback\n */\nexport function Rule(name, option) {\n\tthis.id = idGen++\n\tthis.name = name\n\tlet capturable = true,\n\t\tattach = null,\n\t\tmsg = null\n\n\tif (isObj(option)) {\n\t\tattach = option[OPTION_ATTACH]\n\t\tmsg = option[OPTION_ERROR]\n\t\tcapturable = option[OPTION_CAPTURABLE] !== false\n\t} else if (isFn(option)) {\n\t\tattach = option\n\t} else if (isStr(option)) {\n\t\tmsg = option\n\t}\n\tthis.capturable = capturable\n\tthis.attach = isFn(attach) ? attach : defaultAttach\n\tthis.msg = isStr(msg) ? () => msg : isFn(msg) ? msg : defaultErrorMsg\n}\ninherit(Rule, {\n\t$rule: true,\n\terror(stream, err, capturable, srcErr) {\n\t\terr = [stream.orgOffset(), this.msg(err), capturable && srcErr ? srcErr[2] : capturable, srcErr, this]\n\t\terr.$err = true\n\t\treturn err\n\t},\n\tsuccess(stream, data, result) {\n\t\tconst curr = stream.curr,\n\t\t\terr = this.attach(data, result, stream, this)\n\n\t\tassert(stream.curr == curr)\n\n\t\treturn err && !err.$err ? this.error(stream, err, false) : err\n\t},\n\tsetExpr(expr) {\n\t\tthis.defName = this.mkExpr(expr)\n\t\tthis.EXPECT = `Expect: ${expr}`\n\t},\n\tmkExpr(expr) {\n\t\treturn `<${this.type}: ${expr}>`\n\t},\n\ttoString() {\n\t\treturn this.name || this.defName\n\t},\n\tgetStart() { return [] },\n\ttest: defaultRuleTest\n})\n\n\n// ================================================\n// Match Rule API\n// ================================================\n\nfunction testRuleByIndex(stream) {\n\treturn this.index[stream.nextCode()]\n}\n\n/**\n * match rule interface\n *\n * @param {String}                              name        rule name\n * @param {Int | String | Array<String | Int>}  startCodes  start codes in match\n * @param {Boolean}                             ignoreCase  is match ignore case\n * @param {?}                                   option      see Rule Constructor\n */\nexport const MatchRule = inherit(function MatchRule(name, startCodes, ignoreCase, option) {\n\tRule.call(this, name, option)\n\n\tconst start = [],\n\t\tindex = []\n\teachCharCodes(startCodes, ignoreCase, code => {\n\t\tif (!index[code]) {\n\t\t\tstart.push(code)\n\t\t\tindex[code] = code\n\t\t}\n\t})\n\tthis.start = start\n\tthis.index = index\n\tthis.test = start.length ? testRuleByIndex : defaultRuleTest\n}, Rule, {\n\tcomsume(stream, data, len, result) {\n\t\tstream.consume(len)\n\t\treturn this.success(stream, data, result)\n\t},\n\tgetStart() {\n\t\treturn this.start\n\t}\n})\n\n// ================================================\n// Char Match Rule\n// ================================================\n\nfunction defaultCharMatchRuleTest() {\n\treturn stream.nextCode()\n}\n/**\n * match one char which in allow list\n * well match every char when allows is empty\n *\n * @param {String}                              name        rule name\n * @param {Int | String | Array<String | Int>}  allows      which char can be matched\n *                                                          well match every char when allows is empty\n * @param {Boolean}                             ignoreCase  is match ignore case\n * @param {?}                                   option      see Rule Constructor\n */\nexport const CharMatchRule = inherit(function CharMatchRule(name, allows, ignoreCase, option) {\n\tMatchRule.call(this, name, allows, ignoreCase, option)\n\n\tconst codes = this.start\n\tlet i = codes.length,\n\t\texpr = '*'\n\tif (i) {\n\t\tconst chars = []\n\t\twhile (i--) chars[i] = String.fromCharCode(codes[i])\n\t\texpr = `\"${chars.join('\" | \"')}\"`\n\t} else {\n\t\tthis.test = defaultCharMatchRuleTest\n\t}\n\tthis.setExpr(expr)\n}, MatchRule, {\n\ttype: 'Character',\n\tmatch: function charMatch(stream, result) {\n\t\treturn this.comsume(stream, String.fromCharCode(stream.nextCode()), 1, result)\n\t}\n})\n\n// ================================================\n// Regexp Match Rule\n// ================================================\n/**\n * match by RegExp\n *\n * optimization:\n *      Priority use sticky mode\n *\n * @param {String}                              name        rule name\n * @param {RegExp}                              regexp      regexp\n * @param {Int | Boolean}                       pick        pick match result\n *                                                          0       : [default] pick match[0]\n *                                                                    optimize: test and substring in sticky mode\n *                                                          pick > 0: pick match[pick]\n *                                                          pick < 0: pick first matched group\n *                                                          true    : pick match\n *                                                          false   : no data pick\n *                                                                    optimize: just test string in sticky mode\n * @param {Int | String | Array<String | Int>}  startCodes  start codes of regexp\n * @param {?}                                   option      see Rule Constructor\n */\nexport const RegMatchRule = inherit(function RegMatchRule(name, regexp, pick, startCodes, option) {\n\n\tpick = pick === false || isInt(pick) ? pick : !!pick || 0\n\n\tconst sticky = regStickySupport && !pick, // use exec when need pick match group data\n\t\tpattern = regexp.source,\n\t\tignoreCase = regexp.ignoreCase\n\n\t// always wrapping in a none capturing group preceded by '^' to make sure\n\t// matching can only work on start of input. duplicate/redundant start of\n\t// input markers have no meaning (/^^^^A/ === /^A/)\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/sticky\n\t// When the y flag is used with a pattern, ^ always matches only at the\n\t// beginning of the input, or (if multiline is true) at the beginning of a\n\t// line.\n\tregexp = new RegExp(sticky ? pattern : `^(?:${pattern})`,\n\t\t(ignoreCase ? 'i' : '') + (regexp.multiline ? 'm' : '') + (sticky ? 'y' : ''))\n\n\tMatchRule.call(this, name, startCodes, ignoreCase, option)\n\n\tthis.regexp = regexp\n\tthis.pick = pick\n\tthis.match = createRegMatchRulePolicy(name || `reg${this.id}`, sticky, pick)\n\n\tthis.setExpr(regexp.toString())\n}, MatchRule, {\n\ttype: 'RegExp'\n})\n\n/**\n * generate match function\n *\n * sticky mode:\n *      var reg = this.regexp,\n *          buff = stream.buff(),\n *          start = stream.offset()\n *      reg.lastIndex = start\n *      if (reg.test(buff))\n *          return this.comsume(stream,\n *                              this.pick === false ? null : buff.substring(start, reg.lastIndex),\n *                              reg.lastIndex - start)\n *      return this.error(stream, this.EXPECT, this.capturable, result);\n *\n * unsticky mode:\n *      var m = this.regexp.exec(stream.buff(true))\n *      if (m) {\n *          var pick = this.pick,\n *              pickData\n *          if (pick < 0) {\n *              pick = -pick\n *              for(var i = 1; i <= pick; i++) {\n *                  if (m[i]) {\n *                      pickData = m[i]\n *                      break\n *                  }\n *              }\n *          }else {\n *              pickData = pick === true ? m : m[pick || 0]\n *          }\n *          return this.comsume(stream, pickData, m[0].length, result)\n *      }\n *      return this.error(stream, this.EXPECT, this.capturable);\n *\n */\nfunction createRegMatchRulePolicy(name, sticky, pick) {\n\tconst R = `this.regexp`,\n\t\tSTREAM = 'stream',\n\t\tS_BUFF = `${STREAM}.buff`,\n\t\tLIDX = `r.lastIndex`\n\n\tname += `_${sticky ? 'test' : 'exec'}_pick_${pick===true?'all' : pick < 0 ? 'one_'+(-pick): pick || 0}`\n\n\tlet code = sticky ?\n\t\t// sticky mode\n\t\t`var r = ${R}, b = ${S_BUFF}(), s = ${STREAM}.offset();\n\\t${LIDX} = s;\n\\tif (r.test(b))\n\\t\\t${consumCode(pick === false ? 'null': `b.substring(s, ${LIDX})`, `${LIDX} - s`)}` :\n\t\t// unsticky mode\n\t\t`var m = ${R}.exec(${S_BUFF}(true));\n\\tif (m)\n\\t\\t${consumCode(pick < 0 ? pickCode(-pick) : `m${pick === true ? '' : `[${pick || 0}]`}` , 'm[0].length')}`\n\n\treturn new Function(`return function ${name}(${STREAM}, rs){\n\\t${code}\n\\treturn this.error(${STREAM}, this.EXPECT, this.capturable);\n}`)()\n\n\tfunction consumCode(data, len) {\n\t\treturn `return this.comsume(${STREAM}, ${data}, ${len}, rs)`;\n\t}\n\n\tfunction pickCode(pick) {\n\t\tlet arr = []\n\t\tfor (var i = 1; i <= pick; i++)\n\t\t\tarr.push(`m[${i}]`)\n\t\treturn arr.join(' || ')\n\t}\n}\n\n// ================================================\n// String Match Rule\n// ================================================\n/**\n * match string\n *\n * @param {String}  name        rule name\n * @param {String}  str         match string\n * @param {Boolean} ignoreCase  is match ignore case\n * @param {?}       option      see Rule Constructor\n */\nexport const StrMatchRule = inherit(function StrMatchRule(name, str, ignoreCase, option) {\n\tRegMatchRule.call(this, name, new RegExp(reEscape(str), ignoreCase ? 'i' : ''), 0, str.charCodeAt(0), option)\n\tthis.setExpr(str)\n}, RegMatchRule, {\n\ttype: 'String'\n})\n\n\n// ================================================\n// Match API\n// ================================================\n/**\n *\n * Overrides:\n *      match(name, regexp, pick, start, option)\n *\n *      match(name, regexp, start, option)\n *\n *      match(name, regexp, option: <Object>)\n *\n *      match(regexp, pick, start, option)\n *\n *      match(regexp, start, option)\n *\n *      match(regexp, option)\n *\n *      match(name, str, ignoreCase, option)\n *\n *      match(name, str, option)\n *\n *      match(str, ignoreCase, option)\n *\n *      match(str, option: <Object>)\n *\n *      match({\n *           name,\n *           pattern: <String>\n *           ignoreCase,\n *           // option...\n *           attach: <Function>,\n *           capturable: <Boolean>,\n *           error: <Function|String>\n *      })\n *      match({\n *           name,\n *           pattern: <RegExp>\n *           pick,\n *           startCodes,\n *           // option...\n *           attach: <Function>,\n *           capturable: <Boolean>,\n *           error: <Function|String>\n *      })\n *\n * @param {String}                              name        [Option] rule name\n * @param {String | RegExp}                     pattern     match pattern: String pattern | RegExp pattern\n * @param {Boolean}                             ignoreCase  [Option] [String pattern] is match ignore Case\n * @param {Int | true}                          pick        [Option] [RegExp pattern] pick match result, default: 0\n * @param {Int | String | Array<Int | String>}  startCodes  [Option] [RegExp pattern] start codes of RegExp\n * @param {?}                                   option      [Option] see Rule Constructor\n * @return {MatchRule}\n */\nexport function match(name, pattern) {\n\tconst args = arguments\n\tlet i = 2\n\n\tif (isReg(name) || !(isReg(pattern) || isStr(pattern))) {\n\t\tpattern = name\n\t\tname = null\n\t\ti = 1\n\t}\n\n\tif (isReg(pattern)) {\n\t\tvar pick = args[i++],\n\t\t\tstartCodes = args[i++],\n\t\t\toption = args[i++]\n\n\t\tif (!isBool(pick) && !isInt(pick)) {\n\t\t\toption = startCodes\n\t\t\tstartCodes = pick\n\t\t\tpick = 0\n\t\t}\n\t\tif (!isStr(startCodes) && !isNum(startCodes) && !isArray(startCodes)) {\n\t\t\toption = startCodes\n\t\t\tstartCodes = null\n\t\t}\n\t\treturn regMatch(name, pattern, pick, startCodes, option)\n\t}\n\n\tif (isStr(pattern) || isArray(pattern)) { // string pattern | char[] pattern\n\t\tvar ignoreCase = args[i++],\n\t\t\toption = args[i++]\n\n\t\tif (!isBool(ignoreCase)) {\n\t\t\toption = ignoreCase\n\t\t\tignoreCase = false\n\t\t}\n\t\treturn strMatch(name, pattern, ignoreCase, option)\n\t}\n\n\tif (isObj(pattern)) {\n\t\tconst _pattern = pattern.pattern,\n\t\t\tname = pattern.name,\n\t\t\toption = pattern.option\n\t\tif (isReg(_pattern))\n\t\t\treturn regMatch(name, _pattern, pattern.pick, pattern.startCodes, option)\n\t\tif (isStr(_pattern))\n\t\t\treturn strMatch(name, _pattern, pattern.ignoreCase, option)\n\t}\n\terror(`Invalid Match Rule: ${pattern}`)\n}\n\nfunction strMatch(name, pattern, ignoreCase, option) {\n\tconst C = isArray(pattern) || pattern.length <= 1 ? CharMatchRule : StrMatchRule\n\treturn new C(name, pattern, ignoreCase, option)\n}\n\nconst REG_ESPEC_CHARS = makeMap('dDsStrnt0cbBfvwW', '', 1)\n\nfunction regMatch(name, pattern, pick, startCodes, option) {\n\tconst source = pattern\n\tif (!pick) {\n\t\tvar c = 0\n\t\tif (source.length == 1 && source !== '^' && source !== '$') {\n\t\t\tc = source === '.' ? '' : source\n\t\t} else if (source.length == 2 && source[0] === '\\\\' && REG_ESPEC_CHARS[source[1]]) {\n\t\t\tc = source[1]\n\t\t}\n\t\tif (c != 0)\n\t\t\treturn strMatch(name, c, pattern.ignoreCase, option)\n\t}\n\treturn new RegMatchRule(name, pattern, pick, startCodes, option)\n}\n\n// ================================================\n// Char Code Tools\n// ================================================\nfunction eachCharCodes(codes, ignoreCase, cb) {\n\tif (isStr(codes)) {\n\t\tvar i = codes.length\n\t\twhile (i--) eachCharCode(codes.charCodeAt(i), ignoreCase, cb)\n\t} else if (isArray(codes)) {\n\t\tvar i = codes.length\n\t\twhile (i--) eachCharCodes(codes[i], ignoreCase, cb)\n\t} else if (isInt(codes)) {\n\t\teachCharCode(codes, ignoreCase, cb)\n\t}\n}\n\nfunction eachCharCode(code, ignoreCase, cb) {\n\tcb(code)\n\tif (ignoreCase) {\n\t\tif (code <= 90) {\n\t\t\tif (code >= 65) cb(code + 32)\n\t\t} else if (code <= 122) {\n\t\t\tcb(code - 32)\n\t\t}\n\t}\n}\n\n// ================================================\n// Complex Rule API\n// ================================================\n\n/**\n * complex rule interface\n *\n * @param {String}              name        rule name\n * @param {Function|Array|...}  rules       complex rules\n * @param {?}                   option      see Rule Constructor\n */\nexport const ComplexRule = inherit(function ComplexRule(name, rules, option) {\n\tRule.call(this, name, option)\n\n\tconst getRules = this.getRules\n\n\tthis.getRules = function getLazyRules() {\n\t\tthis.getRules = getRules\n\n\t\tthis.rules = rules = parseComplexRules(this, isFn(rules) ? rules() : rules, [])\n\t\tconst len = this.len = rules.length\n\t\tassert(len, `Require Rules`)\n\n\t\t// parse Expression\n\t\tconst names = this.subNames()\n\t\tthis.setExpr(names.join(this.split))\n\n\t\tfor (let i = 0; i < len; i++)\n\t\t\tnames[i] = `Expect[${i}]: ${names[i]}`\n\t\tthis.EXPECTS = names\n\n\t\tthis.__init(rules, len)\n\n\t\treturn this.getRules()\n\t}\n}, Rule, {\n\t/**\n\t * parse buffer\n\t *\n\t * @param {String} buff text buff\n\t */\n\tparse(buff, errSource) {\n\t\tconst result = new MatchResult(),\n\t\t\tstream = new Stream(buff)\n\t\tlet err = this.match(stream, result)\n\t\tif (err) {\n\t\t\tconst source = stream.source()\n\t\t\tvar pos, msg = []\n\t\t\tdo {\n\t\t\t\tpos = stream.position(err[0])\n\t\t\t\tmsg.unshift(`[${pad(pos[0], 2)}:${pad(pos[1], 2)}] - ${err[4].toString()}: ${err[1]} on \"${escapeString(buff.substr(err[0], 20))}\"`)\n\t\t\t\terr = err[3]\n\t\t\t} while (err)\n\n\t\t\tif (errSource !== false) msg.push('[Source]', source)\n\n\t\t\tconst e = new SyntaxError(msg.join('\\n'))\n\t\t\te.source = source\n\t\t\tthrow e\n\t\t}\n\t\treturn result.data\n\t},\n\tcommit(stream, data, result) {\n\t\tconst err = this.success(stream, data, result)\n\n\t\tif (err) {\n\t\t\tstream.exit()\n\t\t\treturn err\n\t\t}\n\t\tstream.commit()\n\t},\n\texit(stream, msg, srcErr) {\n\t\tconst err = this.error(stream, msg, this.capturable, srcErr)\n\t\tstream.exit()\n\t\treturn err\n\t},\n\tinit() {\n\t\tthis.getRules()\n\t\treturn this\n\t},\n\t__init() {},\n\tgetRules() {\n\t\treturn this.rules\n\t},\n\tsubNames(map) {\n\t\tconst rules = this.getRules(),\n\t\t\tnames = []\n\t\tfor (let i = 0; i < this.len; i++)\n\t\t\tnames[i] = rules[i].toString(this.idStack(this.id, map))\n\t\treturn names\n\t},\n\ttoString(map) {\n\t\tthis.init()\n\t\tif (this.name) return this.name\n\t\tif (map) {\n\t\t\tconst { id } = this\n\t\t\tif (map[id]) {\n\t\t\t\tif (map[id] === 1)\n\t\t\t\t\treturn `<${this.type} -> $Self>`\n\t\t\t\treturn `<${this.type} -> $${map[id]}>`\n\t\t\t}\n\t\t\treturn this.mkExpr(this.subNames(map).join(this.split))\n\t\t}\n\t\treturn this.defName\n\t},\n\tidStack(id, map) {\n\t\tmap = assign({\n\t\t\tlevel: 0,\n\t\t\tpush: idStackPush\n\t\t}, map)\n\t\tif (id) map.push(id)\n\t\treturn map\n\t}\n})\n\nfunction idStackPush(id) {\n\tthis[id] = ++this.level\n\treturn this\n}\n\nfunction parseComplexRules(curr, rules, dist) {\n\tfor (let i = 0, l = rules.length; i < l; i++) {\n\t\tif (!rules[i]) error(`Empty Rules[${i}]: ${rules}`)\n\t\tparseRule(curr, rules[i], dist)\n\t}\n\treturn dist\n}\n\n\nfunction parseRule(curr, rule, dist) {\n\tif (rule.$rule) { // Rule Object\n\t\tdist.push(rule)\n\t} else if (isStr(rule)) { // match rule\n\t\tdist.push(match(rule, UNATTACH))\n\t} else if (isReg(rule)) {\n\t\tdist.push(match(rule, false, UNATTACH))\n\t} else if (isObj(rule)) {\n\t\tdist.push(match(rule))\n\t} else if (isArray(rule)) { // rule connections or match rule\n\t\tdist.push(applyNoScope(match, rule))\n\t} else {\n\t\terror(`Invalid Rule: ${rule}`)\n\t}\n}\n\n// ================================================\n// Complex Rules\n// ================================================\n/**\n * and complex rule interface\n *\n * @param {String}              name        rule name\n * @param {Function|Array|...}  rules       complex rules\n * @param {?}                   option      see Rule Constructor\n */\nexport const AndRule = inherit(function AndRule(name, rules, option) {\n\tComplexRule.call(this, name, rules, option)\n}, ComplexRule, {\n\ttype: 'And',\n\tsplit: ' + ',\n\t__init(rules, len) {\n\t\tconst start = [],\n\t\t\tindex = [],\n\t\t\tcodes = rules[0].getStart(this.idStack(this.id))\n\n\t\teachCharCodes(codes, false, (code) => {\n\t\t\tif (!index[code]) {\n\t\t\t\tstart.push(code)\n\t\t\t\tindex[code] = code\n\t\t\t}\n\t\t})\n\t\tthis.start = start\n\t\tthis.index = index\n\t\tthis.test = start.length ? testRuleByIndex : defaultRuleTest\n\t},\n\tgetStart(map) {\n\t\tthis.init()\n\t\tif (this.start) return this.start\n\t\tif (map) {\n\t\t\tconst { id } = this\n\t\t\tif (map[id]) return []\n\t\t\treturn this.getRules()[0].getStart(this.idStack(id, map))\n\t\t}\n\t\treturn this.start\n\t},\n\tmatch: function andMatch(stream, result) {\n\t\tconst rules = this.getRules(),\n\t\t\tlen = this.len,\n\t\t\trs = new MatchResult(result)\n\t\tlet err, i = 0\n\n\t\tstream.enter()\n\t\tfor (; i < len; i++) {\n\t\t\tif (!rules[i].test(stream) || (err = rules[i].match(stream, rs))) {\n\t\t\t\treturn this.exit(stream, this.EXPECTS[i], err)\n\t\t\t}\n\t\t}\n\t\treturn this.commit(stream, rs.data, result)\n\t}\n})\n\n\nexport const OrRule = inherit(function OrRule(name, rules, option) {\n\tComplexRule.call(this, name, rules, option)\n}, ComplexRule, {\n\ttype: 'Or',\n\tsplit: ' | ',\n\t__init(rules, len) {\n\t\tconst starts = [], // all distinct start codes\n\t\t\trStarts = [], // start codes per rule\n\t\t\tindex = [\n\t\t\t\t[] // rules witch have unkown start code\n\t\t\t]\n\n\t\tlet i, j, k, codes\n\n\t\t// get start codes of all rules\n\t\tfor (i = 0; i < len; i++) {\n\t\t\trStarts[i] = []\n\t\t\tcodes = rules[i].getStart(this.idStack(this.id))\n\t\t\teachCharCodes(codes, false, (code) => {\n\t\t\t\trStarts[i].push(code)\n\t\t\t\tif (!index[code]) { // init index\n\t\t\t\t\tindex[code] = []\n\t\t\t\t\tstarts.push(code)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\t// fill index\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tcodes = rStarts[i]\n\t\t\tif (!codes.length) { // rules[i] not unkown start code\n\t\t\t\tindex[0].push(rules[i]) // append rules[i] to index[0]\n\t\t\t\tcodes = starts // append rules[i] to all start code index\n\t\t\t}\n\t\t\t// append rules[i] to start code index\n\t\t\tj = codes.length\n\t\t\twhile (j--) {\n\t\t\t\tk = index[codes[j]]\n\t\t\t\tif (k.idx !== i) { // deduplication\n\t\t\t\t\tk.push(rules[i]) // append rules[i] to start code index[codes[j]]\n\t\t\t\t\tk.idx = i\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.rStarts = rStarts\n\t\t// rule have unkown start code when got unkown start code from any rules\n\t\tthis.start = index[0].length ? [] : starts\n\t\tthis.test = starts.length && !index[0].length ? testRuleByIndex : this.test\n\n\t\tif (starts.length) // not use index when got unkown start code from every rules\n\t\t\tthis.index = index\n\t},\n\tgetStart(map) {\n\t\tthis.init()\n\t\tif (this.start) return this.start\n\t\tif (map) {\n\t\t\tconst { id } = this\n\t\t\tif (map[id]) return []\n\n\t\t\tconst rules = this.getRules(),\n\t\t\t\tstarts = []\n\t\t\tfor (var i = 0, start; i < this.len; i++) {\n\t\t\t\tstart = rules[i].getStart(this.idStack(id, map))\n\t\t\t\tif (!start.length) return []\n\t\t\t\tstarts[i] = start\n\t\t\t}\n\t\t\treturn starts\n\t\t}\n\t\treturn this.start\n\t},\n\tmatch: function orMatch(stream, result) {\n\t\tconst { index } = this\n\t\tconst rules = index ? index[stream.nextCode()] || index[0] : this.getRules(),\n\t\t\tlen = rules.length\n\n\t\tconst rs = new MatchResult(result)\n\t\tvar err, upErr, i\n\t\tstream.enter()\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!(err = rules[i].match(stream, rs)) &&\n\t\t\t\t!(err = this.success(stream, rs.data, result))) {\n\t\t\t\tstream.commit()\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (!err[2]) // not capturable error\n\t\t\t\treturn this.exit(stream, this.EXPECTS[i], err)\n\n\t\t\tif (!upErr || err[0] >= upErr[0])\n\t\t\t\tupErr = err\n\t\t\tstream.reset()\n\t\t\trs.empty()\n\t\t}\n\t\treturn this.exit(stream, this.EXPECT, upErr)\n\t}\n})\n\nfunction createRepeatRule(defType, Parent, match) {\n\treturn inherit(function AndRepeatRule(name, type, min, max, rules, option) {\n\t\tif (min < 0) min = 0\n\t\tif (max <= 0) max = 999999\n\t\tassert(min < max)\n\n\t\tParent.call(this, name, rules, option)\n\n\t\tthis.min = min\n\t\tthis.max = max\n\t\tthis.type = type || `${defType}[${min} - ${max}]`\n\t}, Parent, {\n\t\t__init(rules, len) {\n\t\t\tParent.prototype.__init.call(this, rules, len)\n\t\t\tif (!this.min)\n\t\t\t\tthis.test = defaultRuleTest\n\t\t},\n\t\tmatch\n\t})\n}\n\nexport const AndRepeatRule = createRepeatRule('AndRepeat', AndRule, function andRepeatMatch(stream, result) {\n\tconst { min, max } = this\n\tconst rules = this.getRules(),\n\t\tlen = this.len,\n\t\trs = new MatchResult(result),\n\t\tdata = rs.data\n\n\tlet err, repeat = 0,\n\t\ti, l\n\n\tstream.enter()\n\tout: for (; repeat < max; repeat++) {\n\t\tl = data.length\n\t\tstream.enter()\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!rules[i].test(stream) || (err = rules[i].match(stream, rs))) {\n\t\t\t\tif (repeat < min || (err && !err[2])) { // have no enough data or error is not capturable\n\t\t\t\t\terr = this.exit(stream, this.EXPECTS[i], err)\n\t\t\t\t\tstream.exit()\n\t\t\t\t\treturn err\n\t\t\t\t}\n\t\t\t\tstream.exit()\n\t\t\t\trs.setLen(l)\n\t\t\t\tbreak out\n\t\t\t}\n\t\t}\n\t\tstream.commit()\n\t}\n\treturn this.commit(stream, data, result)\n})\n\nexport const OrRepeatRule = createRepeatRule('OrRepeat', OrRule, function orRepeatMatch(stream, result) {\n\tconst { min, max, index } = this\n\tconst rs = new MatchResult(result),\n\t\tdata = rs.data\n\tlet err, upErr, repeat = 0,\n\t\ti, l, rules, len\n\n\tif (!index) {\n\t\trules = this.getRules()\n\t\tlen = rules.length\n\t}\n\n\tstream.enter() // outer: enter\n\tout: for (; repeat < max; repeat++) {\n\t\tif (index) {\n\t\t\trules = index[stream.nextCode()] || index[0]\n\t\t\tlen = rules.length\n\t\t}\n\t\tif (len) {\n\t\t\tupErr = null\n\t\t\tl = data.length\n\t\t\tstream.enter() // inner: enter\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (!(err = rules[i].match(stream, rs))) {\n\t\t\t\t\tstream.commit() // inner: commit\n\t\t\t\t\tcontinue out\n\t\t\t\t}\n\t\t\t\tif (!err[2]) { // not capturable error\n\t\t\t\t\terr = this.exit(stream, this.EXPECTS[i], err) // inner: exit\n\t\t\t\t\tstream.exit() // outer: exit\n\t\t\t\t\treturn err\n\t\t\t\t}\n\t\t\t\tif (!upErr || err[0] >= upErr[0])\n\t\t\t\t\tupErr = err\n\t\t\t\tstream.reset()\n\t\t\t\trs.setLen(l)\n\t\t\t}\n\t\t\tif (repeat < min) {\n\t\t\t\terr = this.exit(stream, this.EXPECT, upErr) // inner: exit\n\t\t\t\tstream.exit() // outer: exit\n\t\t\t\treturn err\n\t\t\t}\n\t\t} else if (repeat < min)\n\t\t\treturn this.exit(stream, this.EXPECT) // outer: exit\n\t\tbreak\n\t}\n\treturn this.commit(stream, data, result) // outer: commit\n})\n\n\n// ================================================\n// Rule APIs\n// ================================================\n\n/**\n * and(name, rules[], option)\n *\n * and(name, rules..., option)\n *\n * and(rules[], option)\n *\n * and(rules..., option)\n *\n * and({\n *      name,\n *      rules,\n *      option\n * })\n * @param {String}                                                  name    [option] rule name\n * @param {(Array|Arguments)<Rule|String|RegExp|Function>|Function} rules   match rules\n * @param {Function}                                                option  see Rule.option\n */\nexport function and() {\n\treturn buildComplexRule(arguments, 0,\n\t\t(name, rules, option) => new AndRule(name, rules, option))\n}\n\nexport function or() {\n\treturn buildComplexRule(arguments, 0,\n\t\t(name, rules, option) => new OrRule(name, rules, option))\n}\n\nfunction buildRepeatRule(args, i, type, min, max, C) {\n\treturn buildComplexRule(args, i,\n\t\t(name, rules, option) => new C(name, type, min, max, rules, option))\n}\n\nfunction buildAndRepeatRule(args, i, type, min, max, C) {\n\treturn buildRepeatRule(args, i, type, min, max, AndRepeatRule)\n}\nexport function any() {\n\treturn buildAndRepeatRule(arguments, 0, 'Any', 0, -1)\n}\n\nexport function many() {\n\treturn buildAndRepeatRule(arguments, 0, 'Many', 1, -1)\n}\n\nexport function option() {\n\treturn buildAndRepeatRule(arguments, 0, 'Option', 0, 1)\n}\n\nexport function repeat(min, max) {\n\treturn buildAndRepeatRule(arguments, 2, 0, min, max)\n}\n\nfunction buildOrRepeatRule(args, i, type, min, max, C) {\n\treturn buildRepeatRule(args, i, type, min, max, OrRepeatRule)\n}\nexport function anyOne() {\n\treturn buildOrRepeatRule(arguments, 0, 'AnyOne', 0, -1)\n}\n\nexport function manyOne() {\n\treturn buildOrRepeatRule(arguments, 0, 'ManyOne', 1, -1)\n}\n\nexport function optionOne() {\n\treturn buildOrRepeatRule(arguments, 0, 'OptionOne', 0, 1)\n}\n\nexport function repeatOne(min, max) {\n\treturn buildOrRepeatRule(arguments, 2, 0, min, max)\n}\n\nfunction buildComplexRule(args, i, build) {\n\tconst arglen = args.length\n\n\tlet name = 0,\n\t\trules, option = null\n\n\tif (isObj(args[i])) {\n\t\tname = args[i].name\n\t\trules = args[i].rules\n\t\toption = args[i]\n\t} else {\n\t\tif (isStr(args[i]))\n\t\t\tname = args[i++]\n\n\t\tif (isArray(args[i]) || isFn(args[i])) {\n\t\t\trules = args[i++]\n\t\t\toption = args[i]\n\t\t} else {\n\t\t\trules = []\n\t\t\tfor (; i < arglen - 1; i++)\n\t\t\t\trules.push(args[i])\n\t\t\tif (isFn(args[i]) || isObj(args[i]) || isStr(args[i])) option = args[i]\n\t\t\telse if (args[i]) rules.push(args[i])\n\t\t}\n\t}\n\treturn build(name, rules, option)\n}\n","/**\n * @module common/ast\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-11-06 18:02:16\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-11-06 18:02:16\n */\n","/*\n * Common Utils\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:59:38\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-11-07 09:16:18\n */\n\nexport { default as List } from './List'\nexport { default as FnList } from './FnList'\nexport * from './nextTick'\nexport * from './format'\nexport * from './path'\nimport * as Parser from './ASTBuilder'\nexport { Parser }\nexport * from './ast'\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:09\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:09\n */\nimport { global, isFn } from '../helper'\n\nexport default function (defaultProps) {\n\tif (isFn(global.Proxy)) {\n\t\treturn {\n\t\t\tname: 'Proxy',\n\t\t\tproxyEnabled: true,\n\t\t\timpl: {\n\t\t\t\t__init() {\n\t\t\t\t\tlet isArray = this.isArray\n\t\t\t\t\tthis.proxy = new Proxy(this.source, {\n\t\t\t\t\t\tget: (source, attr, proxy) => {\n\t\t\t\t\t\t\treturn source[attr]\n\t\t\t\t\t\t},\n\t\t\t\t\t\tset: (source, attr, value, proxy) => {\n\t\t\t\t\t\t\tif (defaultProps[attr]) {\n\t\t\t\t\t\t\t\tsource[attr] = value\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar oldValue = source[attr]\n\t\t\t\t\t\t\t\tsource[attr] = value\n\t\t\t\t\t\t\t\tthis.__write(attr, value, oldValue)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:14\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:14\n */\nimport { create, defProp, defPropSupport } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport default function () {\n\tlet defineProperty, name = 'Define Property'\n\tif (defPropSupport) {\n\t\tdefineProperty = function (observer, attr) {\n\t\t\tconst source = observer.source\n\t\t\tlet value = source[attr]\n\t\t\tdefProp(source, attr, {\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true,\n\t\t\t\tget() {\n\t\t\t\t\treturn value\n\t\t\t\t},\n\t\t\t\tset(newValue) {\n\t\t\t\t\tlet oldValue = value\n\t\t\t\t\tvalue = newValue\n\t\t\t\t\tobserver.__write(attr, newValue, oldValue)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t} else if ('__defineGetter__' in {}) {\n\t\tname = 'Define getter and setter'\n\t\tconst { __defineGetter__, __defineSetter__ } = Object[PROTOTYPE]\n\t\tdefineProperty = function (observer, attr) {\n\t\t\tconst source = observer.source\n\t\t\tlet value = source[attr]\n\t\t\t__defineGetter__.call(source, attr, function () {\n\t\t\t\treturn value\n\t\t\t})\n\t\t\t__defineSetter__.call(source, attr, function (newValue) {\n\t\t\t\tlet oldValue = value\n\t\t\t\tvalue = newValue\n\t\t\t\tobserver.__write(attr, newValue, oldValue)\n\t\t\t})\n\t\t}\n\t}\n\tif (defineProperty) {\n\t\treturn {\n\t\t\tname,\n\t\t\timpl: {\n\t\t\t\t__init() {\n\t\t\t\t\tthis.defined = create(null)\n\t\t\t\t},\n\t\t\t\t__watch(attr) {\n\t\t\t\t\tconst defined = this.defined\n\t\t\t\t\tif (defined[attr]) {\n\t\t\t\t\t\tdefineProperty(this, attr)\n\t\t\t\t\t\tdefined[attr] = true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:35:04\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:35:04\n */\nimport { error } from 'devlevel'\nimport { global, create, hasOwnProp } from '../helper'\n\nexport default function (defaultPropMap) {\n\tif (!(function () {\n\t\t\tif (global && global.VBArray) {\n\t\t\t\ttry {\n\t\t\t\t\tglobal.execScript([\n\t\t\t\t\t\t'Function parseVB(code)',\n\t\t\t\t\t\t'\\tExecuteGlobal(code)',\n\t\t\t\t\t\t'End Function'\n\t\t\t\t\t].join('\\n'), 'VBScript')\n\t\t\t\t\treturn true\n\t\t\t\t} catch (e) {\n\t\t\t\t\terror(e.message, e)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t})()) return false\n\n\tconst bindingProp = '__vbclass_binding__',\n\t\tconstructorProp = '__vbclass_constructor__'\n\tconst objectProps = 'hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(','),\n\t\tclassPool = create(null),\n\t\tconstructorScript = [\n\t\t\t'\\tPublic [', bindingProp, ']\\r\\n',\n\t\t\t'\\tPublic Default Function [', constructorProp, '](source)\\r\\n',\n\t\t\t'\\t\\tSet [', bindingProp, '] = source\\r\\n',\n\t\t\t'\\t\\tSet [', constructorProp, '] = Me\\r\\n',\n\t\t\t'\\tEnd Function\\r\\n\\n'\n\t\t].join('')\n\n\tlet classNameGenerator = 1\n\n\tfunction parseGetter(prop, buffer) {\n\t\tbuffer.push.call(buffer,\n\t\t\t'\\tPublic Property Let [', prop, '](val)\\r\\n',\n\t\t\t'\\t\\tCall [', bindingProp, '].doWrite(\"', prop, '\",val)\\r\\n',\n\t\t\t'\\tEnd Property\\r\\n',\n\t\t\t'\\tPublic Property Set [', prop, '](val)\\r\\n',\n\t\t\t'\\t\\tCall [', bindingProp, '].doWrite(\"', prop, '\",val)\\r\\n',\n\t\t\t'\\tEnd Property\\r\\n\\r\\n')\n\t}\n\n\tfunction parseSetter(prop, buffer) {\n\t\tbuffer.push.call(buffer,\n\t\t\t'\\tPublic Property Get [', prop, ']\\r\\n',\n\t\t\t'\\tOn Error Resume Next\\r\\n',\n\t\t\t'\\t\\tSet[', prop, '] = [', bindingProp, '].doRead(\"', prop, '\")\\r\\n',\n\t\t\t'\\tIf Err.Number <> 0 Then\\r\\n',\n\t\t\t'\\t\\t[', prop, '] = [', bindingProp, '].doRead(\"', prop, '\")\\r\\n',\n\t\t\t'\\tEnd If\\r\\n',\n\t\t\t'\\tOn Error Goto 0\\r\\n',\n\t\t\t'\\tEnd Property\\r\\n\\r\\n'\n\t\t)\n\t}\n\n\tfunction parseVBClass(className, props) {\n\t\tlet buffer = ['Class ', className, '\\r\\n', constructorScript, '\\r\\n'],\n\t\t\tprop\n\n\t\tfor (var i = 0, l = props.length; i < l; i++) {\n\t\t\tprop = props[i]\n\t\t\tparseSetter(prop, buffer)\n\t\t\tparseGetter(prop, buffer)\n\t\t}\n\t\tbuffer.push('End Class')\n\t\treturn buffer.join('')\n\t}\n\n\tfunction getOrCreateVBClass(props) {\n\t\tlet classKey = [props.sort().join('|')].join(''),\n\t\t\tproviderName = classPool[classKey]\n\t\tif (!providerName) {\n\t\t\tvar className = 'VBClass' + (classNameGenerator++)\n\t\t\tproviderName = className + 'Provider'\n\t\t\tparseVB(parseVBClass(className, props))\n\t\t\tparseVB([\n\t\t\t\t'Function ', providerName, '(desc)\\r\\n',\n\t\t\t\t'\\tDim o\\r\\n',\n\t\t\t\t'\\tSet o = (New ', className, ')(desc)\\r\\n',\n\t\t\t\t'\\tSet ', providerName, ' = o\\r\\n',\n\t\t\t\t'End Function'\n\t\t\t].join(''))\n\t\t\tclassPool[classKey] = providerName\n\t\t}\n\t\treturn providerName\n\t}\n\n\tfunction createProxy(source, vbproxy) {\n\t\tlet propMap = create(null),\n\t\t\tprops = [],\n\t\t\tprop\n\n\t\tfor (var i = 0, l = objectProps.length; i < l; i++) {\n\t\t\tprop = objectProps[i]\n\t\t\tpropMap[prop] = true\n\t\t\tprops[i] = prop\n\t\t}\n\n\t\tfor (prop in source) {\n\t\t\tif (!propMap[prop]) {\n\t\t\t\tprops.push(prop)\n\t\t\t\tpropMap[prop] = true\n\t\t\t}\n\t\t}\n\n\t\tfor (prop in defaultPropMap) {\n\t\t\tif (defaultPropMap[prop] && !propMap[prop]) {\n\t\t\t\tsource[prop] = undefined\n\t\t\t\tpropMap[prop] = true\n\t\t\t\tprops.push(prop)\n\t\t\t}\n\t\t}\n\t\treturn global[getOrCreateVBClass(props)](vbproxy)\n\t}\n\n\tfunction buildProxy(observer) {\n\t\tlet source = observer.source,\n\t\t\tproxy = observer.proxy = createProxy(source, observer),\n\t\t\tfuncs = observer.funcs = create(null),\n\t\t\tfunc\n\t\tfor (var prop in source) {\n\t\t\tfunc = source[prop]\n\t\t\tif (typeof func === 'function')\n\t\t\t\tfuncs[prop] = func.bind(proxy)\n\t\t}\n\t}\n\treturn {\n\t\tname: 'VBProxy',\n\t\tproxyEnabled: true,\n\t\tproxyChangeable: true,\n\t\tsourceOwnProperty: true,\n\t\timpl: {\n\t\t\t__init() {\n\t\t\t\tbuildProxy(this)\n\t\t\t},\n\t\t\t__watch(attr) {\n\t\t\t\tif (!(attr in this.proxy)) {\n\t\t\t\t\tbuildProxy(this)\n\t\t\t\t\tthis.__proxyChanged()\n\t\t\t\t}\n\t\t\t},\n\t\t\tdoWrite(attr, value) {\n\t\t\t\tlet {\n\t\t\t\t\tsource,\n\t\t\t\t\tproxy,\n\t\t\t\t\tfuncs\n\t\t\t\t} = this\n\t\t\t\tif (typeof value === 'function') {\n\t\t\t\t\tfuncs[attr] = value.bind(proxy)\n\t\t\t\t} else if (funcs[attr]) {\n\t\t\t\t\tfuncs[attr] = false\n\t\t\t\t}\n\t\t\t\tif (defaultProps[attr]) {\n\t\t\t\t\tsource[attr] = value\n\t\t\t\t} else {\n\t\t\t\t\tvar oldValue = source[attr]\n\t\t\t\t\tsource[attr] = value\n\t\t\t\t\tthis.__write(attr, value, oldValue)\n\t\t\t\t}\n\t\t\t},\n\t\t\tdoRead(attr) {\n\t\t\t\tlet {\n\t\t\t\t\tsource,\n\t\t\t\t\tproxy,\n\t\t\t\t\tfuncs\n\t\t\t\t} = this\n\t\t\t\treturn funcs[attr] || source[attr]\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:33:23\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-06 13:59:32\n */\nimport { assert, info } from 'devlevel'\nimport { List, FnList, nextTick, parsePath, formatPath, get, set } from '../common'\nimport { DEFAULT_BINDING } from '../common/List'\nimport { DEFAULT_FN_BINDING, DEFAULT_SCOPE_BINDING } from '../common/FnList'\nimport { inherit, create, extend, apply, defPropValue, hasOwnProp, eq, isPrimitive, isArray, makeMap, makeArray } from '../helper'\nimport es6 from './es6'\nimport es5 from './es5'\nimport vb from './vb'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst OBSERVER_KEY = '__observer__'\n\n// ================= Array Hook Begin =======================\nconst ARRAY_EVENTS = makeMap('length,change')\nconst ArrayProto = Array[PROTOTYPE]\nconst arrayHooks = makeArray('fill,pop,push,reverse,shift,sort,splice,unshift', (method) => {\n\t\tconst fn = ArrayProto[method]\n\t\treturn [\n\t\t\tmethod,\n\t\t\tfunction () {\n\t\t\t\tconst len = this.length,\n\t\t\t\t\trs = apply(fn, this, arguments),\n\t\t\t\t\tnewlen = this.length,\n\t\t\t\t\tobserver = this[OBSERVER_KEY]\n\t\t\t\tobserver.__write('change', this, this)\n\t\t\t\tif (len !== newlen)\n\t\t\t\t\tobserver.__write('length', newlen, len)\n\t\t\t\treturn rs\n\t\t\t}\n\t\t]\n\t}),\n\tarrayHookLength = arrayHooks.length\n\nfunction hookArray(array) {\n\tfor (let i = 0, hook; i < arrayHookLength; i++) {\n\t\thook = arrayHooks[i]\n\t\tarray[hook[0]] = hook[1]\n\t}\n\treturn array\n}\n// ================= Array Hook End =======================\n\n\n\nexport const defaultProps = makeMap([OBSERVER_KEY, DEFAULT_BINDING, DEFAULT_FN_BINDING, DEFAULT_SCOPE_BINDING])\n// ================ init policy Begin ========================\nconst policy = es6(defaultProps) || es5(defaultProps) || vb(defaultProps)\n\nassert(policy, 'Observer is not supported.')\n\nconst { proxyEnabled = false, proxyChangeable = false, sourceOwnProperty = false } = policy\n\ninfo(`Observer: enable policy[${policy.name}]: `, {\n\tproxyEnabled,\n\tproxyChangeable,\n\tsourceOwnProperty\n}, 'default properties: ', defaultProps)\n\nexport function isDefaultProp(prop) {\n\treturn defaultProps[prop] || false\n}\n\n// ================ init policy End========================\n\nfunction noProxyChangeEventHandler() {\n\treturn false\n}\nlet disableWriteEvent = false\n\nfunction Observer(source) {\n\t// bind observer to object\n\tdefPropValue(source, OBSERVER_KEY, this)\n\tthis.source = this.proxy = source\n\tthis.bubbles = create(null)\n\tif (this.isArray = isArray(source)) {\n\t\thookArray(source)\n\t} else {\n\t\tthis.__init()\n\t}\n}\n\ninherit(Observer, {\n\t__init() {\n\t\t// implement by policy\n\t},\n\t__watch(prop) {\n\t\t// implement by policy\n\t},\n\t__write(prop, value, oldValue) { // call by policy\n\t\tif (disableWriteEvent) return\n\t\tconst list = this.bubbles[prop]\n\t\tif (!list || !list.length || (value === oldValue && isPrimitive(value)))\n\t\t\treturn\n\t\tlist.each((desc) => addChangedQueue(desc, oldValue))\n\t},\n\tobserve(path, handler, scope) {\n\t\tassert.fn(handler, 'require function handler.')\n\n\t\tpath = parsePath(path)\n\t\tconst l = path.length - 1\n\t\tassert(l >= 0, 'require non-empty path.')\n\n\t\tlet watchs = this.watchs || (this.watchs = create(null)),\n\t\t\tcurrentObserver = this,\n\t\t\tattr, desc,\n\t\t\tparent = undefined,\n\t\t\ti = 0,\n\t\t\tchildObserver, obj\n\n\t\tfor (; i <= l; i++) {\n\t\t\tattr = path[i]\n\t\t\tdesc = watchs[attr]\n\t\t\tif (!desc) {\n\t\t\t\tdesc = allocWatchDescriptor(this, currentObserver, attr, parent)\n\t\t\t\tif (currentObserver) {\n\n\t\t\t\t\tassert(!currentObserver.isArray || (ARRAY_EVENTS[attr] && i == l), () => {\n\t\t\t\t\t\tconst pathStr = formatPath(path)\n\t\t\t\t\t\tconst errorPath = formatPath(path.slice(i))\n\t\t\t\t\t\tconst arrayPath = i ? '[' + formatPath(path.slice(0, i)) + ']' : ''\n\t\t\t\t\t\treturn `invalid path[${pathStr}]: not support \"${errorPath}\" in Array${arrayPath}, change to \"change\" or \"length\".`\n\t\t\t\t\t})\n\n\t\t\t\t\tregisterBubble(currentObserver, desc)\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i < l) {\n\t\t\t\tparent = desc\n\t\t\t\twatchs = desc[DESC_CHILDREN_INDEX]\n\t\t\t\tif (currentObserver) {\n\t\t\t\t\tif (obj = currentObserver.source[attr]) {\n\t\t\t\t\t\tif (!(childObserver = getObserver(obj))) {\n\t\t\t\t\t\t\tchildObserver = new Observer(obj)\n\t\t\t\t\t\t\tsetChildObserver(currentObserver, attr, childObserver)\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchildObserver = undefined\n\t\t\t\t\t}\n\t\t\t\t\tcurrentObserver = childObserver\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdesc[DESC_PATH_INDEX] = path\n\t\treturn desc[DESC_HANDLERS_INDEX].add(handler, scope)\n\t},\n\tunobserve(path, handler, scope) {\n\t\tassert.fn(handler, 'require function handler.')\n\n\t\tpath = parsePath(path)\n\t\tconst l = path.length\n\n\t\tassert(l, 'require non-empty path.')\n\n\t\treturn this.watchs ? unwatch(this.watchs, path, 0, l - 1, handler, scope) : false\n\t},\n\tisObserved(path, handler, scope) {\n\t\tassert.fn(handler, 'require function handler.')\n\n\t\tpath = parsePath(path)\n\t\tconst l = path.length - 1\n\n\t\tassert(l >= 0, 'require non-empty path.')\n\n\t\tlet watchs = this.watchs,\n\t\t\ti = 0,\n\t\t\tdesc\n\n\t\tif (!watchs) return false\n\n\t\tfor (; i <= l; i++) {\n\t\t\tdesc = watchs[path[i]]\n\t\t\tif (!desc) return false\n\t\t\tif (i < l) watchs = desc[DESC_CHILDREN_INDEX]\n\t\t}\n\t\treturn handler ? desc[DESC_HANDLERS_INDEX].has(handler, scope) : !!desc[DESC_HANDLERS_INDEX].size()\n\t},\n\tset: proxyEnabled ? function (path, value, disableEvent) {\n\t\t_set(this, parsePath(path), value, disableEvent)\n\t\treturn this\n\t} : function (path, value, disableEvent) {\n\t\tif (disableEvent) {\n\t\t\tconst disabled = disableWriteEvent\n\t\t\tdisableWriteEvent = true\n\t\t\t_set(this, path, value, true)\n\t\t\tdisableWriteEvent = disabled\n\t\t} else {\n\t\t\t_set(this, path, value, true)\n\t\t}\n\t\treturn this\n\t},\n\tget(path) {\n\t\treturn get(this.source, path)\n\t},\n\t__proxyChanged: noProxyChangeEventHandler,\n\tonProxyChange: noProxyChangeEventHandler,\n\tunProxyChange: noProxyChangeEventHandler\n}, policy.impl)\n\n// ============ watch descriptor begin ===============\nconst DESC_HANDLERS_INDEX = 0,\n\tDESC_CHILDREN_INDEX = 1,\n\tDESC_CHILD_NUM_INDEX = 2,\n\tDESC_OWNER_INDEX = 3,\n\tDESC_OBSERVER_INDEX = 4,\n\tDESC_ATTR_INDEX = 5,\n\tDESC_PARENT_INDEX = 6,\n\tDESC_CHANGED_INDEX = 7,\n\tDESC_EVENT_INDEX = 8,\n\tDESC_VALUE_INDEX = 9,\n\tDESC_PATH_INDEX = 10\n\nfunction allocWatchDescriptor(owner, observer, attr, parent) {\n\tconst desc = [new FnList(), create(null), 0, owner, observer, attr, parent, NO_CHANGED, NO_CHANGED]\n\tif (parent) {\n\t\tparent[DESC_CHILDREN_INDEX][attr] = desc\n\t\tparent[DESC_CHILD_NUM_INDEX]++\n\t} else {\n\t\towner.watchs[attr] = desc\n\t}\n\treturn desc\n}\n\nfunction freeWatchDescriptor(desc) {\n\tconst parent = desc[DESC_PARENT_INDEX],\n\t\tattr = desc[DESC_ATTR_INDEX]\n\tif (parent) {\n\t\tparent[DESC_CHILDREN_INDEX][attr] = undefined\n\t\tparent[DESC_CHILD_NUM_INDEX]--\n\t} else {\n\t\tdesc[DESC_OWNER_INDEX].watchs[attr] = undefined\n\t}\n}\n// ============ watch descriptor end ===============\n\nfunction unwatch(watchs, path, level, maxLevel, handler, scope) {\n\tconst desc = watchs[path[level]]\n\tif (desc) {\n\t\tconst ret = level === maxLevel ?\n\t\t\tdesc[DESC_HANDLERS_INDEX].remove(handler, scope) :\n\t\t\tunwatch(desc[DESC_CHILDREN_INDEX], path, level + 1, maxLevel, handler, scope)\n\n\t\tif (!desc[DESC_CHILD_NUM_INDEX] && !desc[DESC_HANDLERS_INDEX].size()) {\n\t\t\tunregisterBubble(desc[DESC_OBSERVER_INDEX], desc, desc[DESC_ATTR_INDEX])\n\t\t\tfreeWatchDescriptor(desc)\n\t\t}\n\t\treturn ret\n\t}\n\treturn false\n}\n\nfunction registerBubble(observer, descriptor) {\n\tif (!observer) return false\n\tlet bubbles = observer.bubbles,\n\t\tattr = descriptor[DESC_ATTR_INDEX],\n\t\tdescs = bubbles[attr]\n\n\tif (!descs) {\n\t\tdescs = bubbles[attr] = new List()\n\t\tif (!observer.isArray)\n\t\t\tobserver.__watch(attr)\n\t}\n\treturn descs.add(descriptor)\n}\n\nfunction unregisterBubble(observer, descriptor, attr) {\n\tif (!observer) return false\n\tconst bubbles = observer.bubbles,\n\t\tdescs = bubbles[attr]\n\treturn descs && descs.remove(descriptor)\n}\n\nconst changedQueue = [],\n\teventQueue = [],\n\tNO_CHANGED = {}\n\nfunction addChangedQueue(desc, oldValue) {\n\tif (desc[DESC_CHANGED_INDEX] === NO_CHANGED) {\n\t\tdesc[DESC_CHANGED_INDEX] = oldValue\n\t\tconst l = changedQueue.length\n\t\tchangedQueue[l] = desc\n\t\tif (!l) nextTick(flushChangedQueue)\n\t}\n}\n\nfunction addEventQueue(desc, value, oldValue) {\n\tif (desc[DESC_EVENT_INDEX] === NO_CHANGED) {\n\t\tdesc[DESC_VALUE_INDEX] = value\n\t\tdesc[DESC_EVENT_INDEX] = oldValue\n\t\teventQueue.push(desc)\n\t} else {\n\t\tdesc[DESC_VALUE_INDEX] = value\n\t}\n}\n\nfunction flushChangedQueue() {\n\tlet desc,\n\t\ti = 0,\n\t\tl = changedQueue.length\n\n\tfor (; i < l; i++) {\n\t\tdesc = changedQueue[i]\n\t\tbubble(desc, observerValue(desc[DESC_OBSERVER_INDEX], desc[DESC_ATTR_INDEX]), desc[DESC_CHANGED_INDEX], addEventQueue)\n\t\tdesc[DESC_CHANGED_INDEX] = NO_CHANGED\n\t}\n\tchangedQueue.length = 0\n\n\tlet value, oldValue\n\tfor (i = 0, l = eventQueue.length; i < l; i++) {\n\t\tdesc = eventQueue[i]\n\t\tvalue = desc[DESC_VALUE_INDEX]\n\t\toldValue = desc[DESC_EVENT_INDEX]\n\t\tif (value !== oldValue || !isPrimitive(value))\n\t\t\tdesc[DESC_HANDLERS_INDEX].each((callback, scope) => {\n\t\t\t\tscope ? callback.call(scope, desc[DESC_PATH_INDEX], value, oldValue, desc[DESC_OWNER_INDEX]) :\n\t\t\t\t\tcallback(desc[DESC_PATH_INDEX], value, oldValue, desc[DESC_OWNER_INDEX])\n\t\t\t})\n\t\tdesc[DESC_EVENT_INDEX] = NO_CHANGED\n\t}\n\teventQueue.length = 0\n}\n\nfunction bubble(desc, value, oldValue, cb) {\n\tif (desc[DESC_HANDLERS_INDEX].size())\n\t\tcb(desc, value, oldValue)\n\n\tif (desc[DESC_CHILD_NUM_INDEX]) {\n\t\tnewObserver = value ? observer(value) : undefined\n\t\tsetChildObserver(desc[DESC_OBSERVER_INDEX], desc[DESC_ATTR_INDEX], newObserver)\n\t\t__bubble(desc, newObserver, cb)\n\t}\n}\n\nfunction __bubble(parent, newObserver, cb) {\n\tlet children = parent[DESC_CHILDREN_INDEX],\n\t\tattr, desc, oldObserver, nextObserver\n\n\tfor (attr in children) {\n\t\tif ((desc = children[attr]) && desc[DESC_OWNER_INDEX] && (oldObserver = desc[DESC_OBSERVER_INDEX]) !== newObserver) {\n\n\t\t\tif (desc[DESC_HANDLERS_INDEX].size())\n\t\t\t\tcb(desc, observerValue(newObserver, attr), observerValue(oldObserver, attr))\n\n\t\t\tunregisterBubble(oldObserver, desc, attr)\n\t\t\tdesc[DESC_OBSERVER_INDEX] = newObserver\n\t\t\tregisterBubble(newObserver, desc)\n\n\t\t\tif (desc[DESC_CHILD_NUM_INDEX]) {\n\t\t\t\tnextObserver = (nextObserver = newObserver.source[attr]) ? observer(nextObserver) : undefined\n\t\t\t\tsetChildObserver(newObserver, attr, nextObserver)\n\t\t\t\t__bubble(desc, nextObserver, cb)\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst setChildObserver = proxyEnabled ? function (parentObserver, attr, childObserver) {\n\tif (childObserver)\n\t\tparentObserver.source[attr] = childObserver.proxy\n} : function (parentObserver, attr, childObserver) {\n\n}\n\nfunction observerValue(observer, attr) {\n\tif (observer) {\n\t\tif (observer.isArray && attr === 'change')\n\t\t\treturn observer.proxy\n\t\treturn observer.source[attr]\n\t}\n}\n\nfunction _set(observer, path, value, setSource) {\n\tlet i = 0,\n\t\tl = path.length - 1,\n\t\tprop, obj, nextObj, source\n\n\tfor (; i < l; i++) {\n\t\tprop = path[i]\n\t\tif (observer) {\n\t\t\tsource = observer.source\n\t\t\tnextObj = source[prop]\n\t\t\tif (!nextObj || !(observer = getObserver(nextObj))) {\n\t\t\t\tif (nextObj === undefined || nextObj === null)\n\t\t\t\t\tnextObj = setSource ? source[prop] = {} : observer.proxy[prop] = {}\n\t\t\t\tobserver = undefined\n\t\t\t\tobj = nextObj\n\t\t\t}\n\t\t} else {\n\t\t\tnextObj = obj[prop]\n\t\t\tif (!nextObj) nextObj = obj[prop] = {}\n\t\t\tobj = nextObj\n\t\t}\n\t}\n\tprop = path[i]\n\tif (observer) {\n\t\tsetSource ? observer.source[prop] = value : observer.proxy[prop] = value\n\t} else {\n\t\tobj[prop] = value\n\t}\n}\n\n\n// ================== API ============================\nexport function isProxyEnabled() {\n\treturn proxyEnabled\n}\n\nexport function $set(obj, path, value) {\n\tpath = parsePath(path)\n\tconst observer = getObserver(obj)\n\tif (observer)\n\t\treturn _set(observer, path, value, !proxyEnabled)\n\tset(obj, path)\n}\n\nexport function observer(source) {\n\treturn getObserver(source) || new Observer(source)\n}\n\nexport function observe(source, path, handler, scope) {\n\tconst _observer = observer(source)\n\treturn (_observer.observe(path, handler, scope), _observer.proxy)\n}\n\nexport function unobserve(obj, path, handler, scope) {\n\tconst observer = getObserver(obj)\n\treturn observer ? (observer.unobserve(path, handler, scope), observer.proxy) : obj\n}\n\nexport function isObserved(obj, path, handler, scope) {\n\tconst observer = getObserver(obj)\n\treturn observer && observer.isObserved(path, handler, scope)\n}\n\nlet getObserver = (obj) => {\n\t\tconst observer = obj[OBSERVER_KEY]\n\t\tif (observer && observer.source === obj)\n\t\t\treturn observer\n\t},\n\t$hasOwnProp = (obj, prop) => {\n\t\treturn defaultProps[prop] ? false : hasOwnProp(obj, prop)\n\t},\n\tsource = (obj) => obj,\n\tproxy = source,\n\t$eq = eq,\n\tonProxyChange = noProxyChangeEventHandler,\n\tunProxyChange = noProxyChangeEventHandler\n\nif (proxyEnabled) {\n\tif (sourceOwnProperty) {\n\t\t$hasOwnProp = function (obj, prop) {\n\t\t\tif (defaultProps[prop]) return false\n\t\t\tconst observer = getObserver(obj)\n\t\t\treturn hasOwnProp(observer ? observer.source : obj, prop)\n\t\t}\n\t}\n\n\t$hasOwnProp = function (obj, prop) {\n\t\tif (defaultProps[prop]) return false\n\t\tconst observer = getObserver(obj)\n\t\treturn hasOwnProp(observer ? observer.source : obj, prop)\n\t}\n\n\tgetObserver = function (obj) {\n\t\tconst observer = obj[OBSERVER_KEY]\n\t\tif (observer && (observer.source === obj || observer.proxy === obj))\n\t\t\treturn observer\n\t}\n\tsource = function (obj) {\n\t\tconst observer = obj && getObserver(obj)\n\t\treturn observer ? observer.source : obj\n\t}\n\tproxy = function (obj) {\n\t\tconst observer = obj && getObserver(obj)\n\t\treturn observer ? observer.proxy : obj\n\t}\n\t$eq = function (o1, o2) {\n\t\treturn eq(o1, o2) ||\n\t\t\t((o1 && o2 && (o1 = getObserver(o1))) ? o1 === getObserver(o2) : false)\n\t}\n\tif (proxyChangeable) {\n\t\textend(Observer, {\n\t\t\t__proxyChanged() {\n\t\t\t\tconst list = this.proxyListens,\n\t\t\t\t\tsource = this.source,\n\t\t\t\t\tproxy = this.proxy\n\t\t\t\tlist && list.each((callback, scope) => {\n\t\t\t\t\tscope ? callback.call(scope, source, proxy, this) : callback(source, proxy, this)\n\t\t\t\t})\n\t\t\t},\n\t\t\tonProxyChange(fn, scope) {\n\t\t\t\tassert.fn(fn, 'require function handler.')\n\t\t\t\tlet list = this.proxyListens\n\t\t\t\tif (!list)\n\t\t\t\t\tlist = this.proxyListens = new FnList()\n\t\t\t\treturn list.add(fn, scope)\n\t\t\t},\n\t\t\tunProxyChange(fn, scope) {\n\t\t\t\tassert.fn(fn, 'require function handler.')\n\t\t\t\tlet list = this.proxyListens\n\t\t\t\treturn list && list.remove(fn, scope)\n\t\t\t}\n\t\t})\n\n\t\tonProxyChange = function (obj, fn, scope) {\n\t\t\tconst observer = getObserver(obj)\n\t\t\treturn observer && observer.onProxyChange(fn, scope)\n\t\t}\n\t\tunProxyChange = function (obj, fn, scope) {\n\t\t\tconst observer = getObserver(obj)\n\t\t\treturn observer && observer.unProxyChange(fn, scope)\n\t\t}\n\t}\n}\n\n\nexport {\n\tgetObserver,\n\t$hasOwnProp,\n\tsource,\n\tproxy,\n\t$eq,\n\tonProxyChange,\n\tunProxyChange\n}\n\nexport function $getOwnProp(obj, key, defaultVal) {\n\treturn $hasOwnProp(obj, key) ? obj[key] : defaultVal\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:20\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:20\n */\nimport { proxy, $hasOwnProp, isDefaultProp } from './observer'\nimport { eachObj, eachStr, reachStr, __mkEachArrayLike, __mkREachArrayLike, __mkEach, STOP } from '../helper/each'\n\n\nexport const $eachArray = __mkEachArrayLike(arrayValueHandler),\n\t$reachArray = __mkREachArrayLike(arrayValueHandler),\n\t$each = __mkEach(eachStr, $eachArray, $eachObj),\n\t$reach = __mkEach(reachStr, $reachArray, $eachObj)\n\nexport function $eachObj(obj, callback, scope, own) {\n\tif (scope) callback = callback.bind(scope)\n\tlet key\n\tif (own === false) {\n\t\tfor (key in obj)\n\t\t\tif (!isDefaultProp(key) &&\n\t\t\t\tcallback(proxy(obj[key]), key, obj) === STOP)\n\t\t\t\treturn key\n\t} else {\n\t\tfor (key in obj)\n\t\t\tif ($hasOwnProp(obj, key) &&\n\t\t\t\tcallback(proxy(obj[key]), key, obj) === STOP)\n\t\t\t\treturn key\n\t}\n}\n\nfunction arrayValueHandler(array, i) {\n\tconst obj = array[i]\n\treturn obj ? proxy(obj) : obj\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:59\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:59\n */\nimport { $each, $eachArray, $eachObj } from './each'\nimport { mapStr, __mkMapArrayLike, __mkMapObj } from '../helper/map'\nimport { __mkEach } from '../helper/each'\n\nexport const $mapArray = __mkMapArrayLike($eachArray),\n\t$mapObj = __mkMapObj($eachObj),\n\t$map = __mkEach(mapStr, $mapArray, $mapObj)\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:40\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:40\n */\nimport { $map, $mapArray, $mapObj } from './map'\nimport { mapStr, __mkMapArrayLike, __mkMapObj } from '../helper/map'\nimport { __mkFilter } from '../helper/filter'\n\nexport const $filterArray = __mkFilter($mapArray),\n\t$filterObj = __mkFilter($mapObj),\n\t$filter = __mkFilter($map)\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:50\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:50\n */\nimport { $each, $eachArray, $eachObj, $reach, $reachArray } from './each'\nimport { __mkFind } from '../helper/find'\n\n\nexport const $findArray = __mkFind($eachArray),\n\t$findObj = __mkFind($eachObj),\n\t$find = __mkFind($each),\n\t$rfindArray = __mkFind($reachArray),\n\t$rfind = __mkFind($reach)\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:55\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:55\n */\nimport { $eachArray, $eachObj, $reachArray } from './each'\nimport { __mkIndexOf, __mkTypeIndexOf } from '../helper/indexOf'\n\nexport const $indexOfArray = __mkTypeIndexOf($eachArray),\n\t$indexOfObj = __mkTypeIndexOf($eachObj),\n\t$lastIndexOfArray = __mkTypeIndexOf($reachArray),\n\t$indexOf = __mkIndexOf($indexOfArray, 'indexOf'),\n\t$lastIndexOf = __mkIndexOf($lastIndexOfArray, 'lastIndexOf')\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:32:23\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:32:23\n */\nimport { __assign } from '../helper/assign';\nimport { proxy, $hasOwnProp } from './observer'\n\nexport function $assign(obj) {\n\treturn __assign(obj, arguments, 1, __assignFilter)\n}\n\nexport function $assignIf(obj) {\n\treturn __assign(obj, arguments, 1, __assignIfFilter)\n}\n\nexport function $assignBy(obj, filter) {\n\treturn __assign(obj, arguments, 2, __assignUserFilter, filter)\n}\n\nfunction __assignUserFilter(prop, dist, source, cb) {\n\treturn $hasOwnProp(source, prop) && cb(prop, dist, source)\n}\n\nfunction __assignIfFilter(prop, dist, source) {\n\treturn $hasOwnProp(source, prop) && !$hasOwnProp(dist, prop)\n}\n\nfunction __assignFilter(prop, dist, source) {\n\treturn $hasOwnProp(source, prop)\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:33:14\n * @Last Modified by:   tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-29 12:33:14\n */\nimport { proxy, $hasOwnProp, isDefaultProp } from './observer'\nimport { STOP, SKIP } from '../helper'\nimport {__mkKV} from '../helper/obj2array'\n\nexport function $obj2array(obj, valueHandler, scope, own) {\n\tconst array = []\n\tlet key, ret, i = 0\n\n\tif (scope) valueHandler = valueHandler.bind(scope)\n\tif (own === false) {\n\t\tfor (key in obj) {\n\t\t\tif (!isDefaultProp(key)) {\n\t\t\t\tret = valueHandler(obj, key)\n\t\t\t\tif (ret === STOP) break\n\t\t\t\tif (ret !== SKIP)\n\t\t\t\t\tarray[i++] = ret\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (key in obj) {\n\t\t\tif ($hasOwnProp(obj, key)) {\n\t\t\t\tret = valueHandler(obj, key)\n\t\t\t\tif (ret === STOP) break\n\t\t\t\tif (ret !== SKIP)\n\t\t\t\t\tarray[i++] = ret\n\t\t\t}\n\t\t}\n\t}\n\treturn array\n}\n\nexport const $keys = __mkKV($obj2array, keyHandler),\n\t$values = __mkKV($obj2array, valueHandler)\n\nfunction keyHandler(obj, key) {\n\treturn isDefaultProp(key) ? isDefaultProp : key\n}\n\nfunction valueHandler(obj, key) {\n\treturn proxy(obj[key])\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:35:58\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-10-20 13:09:21\n */\nimport { assert } from 'devlevel'\nimport { inherit } from '../helper'\n\nexport const CHILD_NODES = 'childNodes',\n\tPARENT = 'parent',\n\tVIRT_NODE = '$virtNode',\n\tVIRT_ELEMENT = '$virtElement',\n\tVIRT_TEXT = '$virtText',\n\tVIRT_BINDING_TEXT = '$virtBindingText',\n\tVIRT_COMPLEX_ELEMENT = '$virtComplexElement',\n\tVIRT_COMMENT = '$virtComment'\n\nexport default inherit(function VNode(comp) {\n\tassert(comp.$comp, 'Require Compontent')\n\tthis.comp = comp\n}, {\n\t[VIRT_NODE]: true,\n\tprepare() {},\n\tmount() {},\n\tunmount() {},\n\tappendTo(parent) {\n\t\tassert(parent.$virtComplexElement, 'parent should be Virtual Complex Element')\n\n\t\treturn parent.append(this)\n\t},\n\tprependTo(parent) {\n\t\tassert(parent.$virtComplexElement, 'parent should be Virtual Complex Element')\n\n\t\treturn parent.prepend(this)\n\t},\n\tinsertBeforeTo(target) {\n\t\tassert(target[PARENT], 'target is Root Node')\n\t\tassert(target[VIRT_NODE], 'target should be Virtual Node')\n\n\t\treturn target[PARENT].insertBefore(this, target)\n\t},\n\tinsertAfterTo(target) {\n\t\tassert(target[PARENT], 'target is Root Node')\n\t\tassert(target[VIRT_NODE], 'target should be Virtual Node')\n\n\t\treturn target[PARENT].insertAfter(this, target)\n\t},\n\treplaceTo(target) {\n\t\tassert(target[PARENT], 'target is Root Node')\n\t\tassert(target[VIRT_NODE], 'target should be Virtual Node')\n\n\t\treturn target[PARENT].replace(this, target)\n\t},\n\tprevSibling() {\n\t\tconst parent = this[PARENT]\n\t\treturn parent && parent[CHILD_NODES].prev(this)\n\t},\n\tnextSibling() {\n\t\tconst parent = this[PARENT]\n\t\treturn parent && parent[CHILD_NODES].next(this)\n\t},\n\tremove() {\n\t\tconst parent = this[PARENT]\n\t\tif (parent) {\n\t\t\tparent[CHILD_NODES].remove(this)\n\t\t\tthis[PARENT] = undefined\n\t\t}\n\t\treturn this\n\t}\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:05\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:14:12\n */\nimport VNode, { VIRT_TEXT } from './VNode'\nimport { inherit, isNil, strval } from '../helper'\n\nexport default inherit(function VText(comp, text) {\n\tVNode.call(this, comp)\n\tthis.data = text\n}, VNode, {\n\t[VIRT_TEXT]: true,\n\ttext(text) {\n\t\tconst { data } = this\n\t\tif (arguments.length === 0)\n\t\t\treturn data\n\t\ttext = strval(text)\n\t\tif (text !== data) {\n\t\t\tthis.update(text)\n\t\t\tthis.data = text\n\t\t}\n\t\treturn this\n\t}\n})\n","import { create, createFn, makeMap, apply, trim, STOP, inherit } from './helper'\n\nexport const keywords = makeMap(\n\t'argilo,Math,Date,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,parseInt,parseFloat,' +\n\t(window ? 'window,document,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent' : 'global'))\n\n\nconst wsReg = /\\s/g,\n\tnewlineReg = /\\n/g,\n\tescapeReg = /[\\{,]\\s*[\\w\\$_]+\\s*:|('(?:[^'\\\\]|\\\\.)*'|\"(?:[^\"\\\\]|\\\\.)*\"|`(?:[^`\\\\]|\\\\.)*\\$\\{|\\}(?:[^`\\\\\"']|\\\\.)*`|`(?:[^`\\\\]|\\\\.)*`)|new |typeof |void |(\\|\\|)/g,\n\trestoreReg = /\"(\\d+)\"/g,\n\tidentityReg = /[^\\w$\\.][A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*)*/g,\n\tpropReg = /^[A-Za-z_$][\\w$]*/,\n\tsimplePathReg = /^[A-Za-z_$#@][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?'\\]|\\[\".*?\"\\]|\\[\\d+\\]|\\[[A-Za-z_$][\\w$]*\\])*$/,\n\tsplitReg = /\\s*\\|\\s*(?:\\|\\s*)*/,\n\ttransformParamReg = /\\s*,\\s*|\\s+/g\n\n// escaped code\n// save escaped string\nconst escaped = []\n\nfunction escape(code) {\n\treturn code.replace(escapeReg, escapeHandler)\n}\n\nfunction restore(code) {\n\treturn code.replace(restoreReg, restoreHandler)\n}\n\nfunction escapeHandler(match) {\n\tlet i = escaped.length\n\tescaped[i] = match\n\treturn `\"${i}\"`\n}\n\nconst escapeStrReg = /\\n|\\t|\\r/g\n\nfunction escapeStrHandler(m) {\n\tswitch (m) {\n\tcase '\\n':\n\t\treturn '\\\\n'\n\tcase '\\t':\n\t\treturn '\\\\t'\n\tcase '\\r':\n\t\treturn '\\\\r'\n\t}\n}\n\nfunction restoreHandler(match, i) {\n\tconst v = escaped[i]\n\tswitch (v.charAt(0)) {\n\tcase '\"':\n\tcase \"'\":\n\tcase '`':\n\t\treturn v.replace(escapeStrReg, escapeStrHandler)\n\t}\n\treturn v\n}\n\n// identity opeartion type\nexport const IDENTITY_OPT_GET = 1,\n\tIDENTITY_OPT_SET = 2,\n\tIDENTITY_OPT_CALL = 3\n\n// parsed identities\nlet identities = create(null),\n\tidentitySize = 0\n\n// identity process callback: function(prefix, identity, opt[IDENTITY_OPT_GET | IDENTITY_OPT_SET | IDENTITY_OPT_CALL])\nlet userIdentityHandler, userKeyWords\n\nfunction isKeyword(attr) {\n\treturn keywords[attr] || (userKeyWords && userKeyWords[attr])\n}\n\nfunction identityHandler(match, i, str) {\n\tconst prefix = match.charAt(0),\n\t\tidentity = match.slice(1),\n\t\tattr = identity.match(propReg)[0]\n\n\tif (isKeyword(attr)) return match\n\n\tconst optIdx = i + match.length,\n\t\toptChar = str.charAt(optIdx)\n\n\tlet opt = IDENTITY_OPT_GET\n\tswitch (optChar) {\n\tcase '(':\n\t\topt = IDENTITY_OPT_CALL\n\t\tbreak\n\tcase '=':\n\t\tif (str.charAt(optIdx + 1) !== '=')\n\t\t\topt = IDENTITY_OPT_SET\n\t\tbreak\n\tcase '/':\n\tcase '*':\n\tcase '+':\n\tcase '-':\n\tcase '%':\n\tcase '&':\n\tcase '|':\n\tcase '~':\n\tcase '^':\n\t\tif (str.charAt(optIdx + 1) === '=')\n\t\t\topt = IDENTITY_OPT_SET\n\t\tbreak\n\tcase '>':\n\tcase '<':\n\t\tif (str.charAt(optIdx + 1) === optChar && str.charAt(optIdx + 2) === '=')\n\t\t\topt = IDENTITY_OPT_SET\n\t\tbreak\n\t}\n\n\tconst rs = userIdentityHandler(prefix, identity, opt)\n\tif (rs) {\n\t\tif (rs[1]) {\n\t\t\tif (!identities[rs[1]]) {\n\t\t\t\tidentitySize++;\n\t\t\t\tidentities[rs[1]] = true\n\t\t\t}\n\t\t}\n\t\treturn rs[0]\n\t}\n\treturn match\n}\n\nfunction makeExecutor(code, params) {\n\tconst body = 'return' + restore((' ' + code.replace(wsReg, '')).replace(identityReg, identityHandler))\n\ttry {\n\t\treturn createFn(params, body)\n\t} catch (e) {\n\t\tconsole.error(code, body)\n\t\tthrow e\n\t}\n}\n\nfunction cleanIdentities() {\n\tif (!identitySize) return []\n\n\t// get identities\n\tconst idents = new Array(identitySize)\n\tlet ident, i = 0\n\tfor (ident in identities)\n\t\tidents[i++] = ident\n\n\t// reset identities\n\tidentities = create(null)\n\tidentitySize = 0\n\treturn idents\n}\n\nfunction isSimpleExpr(code) {\n\tif (simplePathReg.test(code)) {\n\t\tconst match = code.match(propReg)\n\t\treturn match ? !isKeyword(match[0]) : false\n\t}\n\treturn false\n}\n\nconst filterSplitReg = /\\s*\\|\\s*(?:\\|\\s*)*/,\n\tfilterParamReg = /\\s*,\\s*|\\s+/g\n\n/**\n * - identity processor Prototype:\n *\n * [word: String, identity: String>] function(prefix: String, identity: String, opt: IDENTITY_OPT_GET | IDENTITY_OPT_SET | IDENTITY_OPT_CALL)\n *\n * - transforms format:\n *\n * {\n *      [name]: {\n *          transform(args){\n *              ...\n *          },\n *          restore(args){\n *          }\n *      }\n * }\n * @param {String} code                 expression code\n * @param {String[]} paramNames         parameter names\n * @param {Function} identityHandler    identity processor\n * @param {Function} parseFilter        filter processor\n * @param {Object} keywords             keywords <key, true>\n *\n */\nexport function Expression(code, paramNames, identityHandler, parseFilter, keywords) {\n\tuserIdentityHandler = identityHandler\n\tuserKeyWords = keywords\n\n\tthis.expr = code\n\n\tconst codeSplit = escape(code).split(filterSplitReg),\n\t\tlen = codeSplit.length\n\n\t// parse executor\n\tthis.executor = makeExecutor(codeSplit[0], paramNames)\n\n\tconst filters = this.filters = new Array(len - 1)\n\n\t// parse filters\n\tfor (var i = 1, j, l, name, args; i < len; i++) {\n\t\targs = trim(codeSplit[i]).split(filterParamReg)\n\t\tname = restore(args.shift())\n\t\tfor (j = 0, l = args.length; j < l; j++)\n\t\t\targs[j] = makeExecutor(args[j], paramNames)\n\t\tfilters[i - 1] = [parseFilter(name), args, name]\n\t}\n\tconst identities = this.identities = cleanIdentities()\n\tthis.simple = identities.length === 1 && isSimpleExpr(codeSplit[0]) ? codeSplit[0] : false\n\n\tescaped.length = 0\n\tuserIdentityHandler = undefined\n\tuserKeyWords = undefined\n}\ninherit(Expression, {\n\texecute(scope, args) {\n\t\tapply(this.executor, scope, args)\n\t},\n\teachFilter(cb, scope, args) {\n\t\tconst filters = this.filters\n\t\tlet i = 0,\n\t\t\tl = filters.length,\n\t\t\tfilter\n\t\tfor (; i < l; i++) {\n\t\t\tfilter = filters[i]\n\t\t\tif (cb(filter[0], new FilterParams(filter[1], scope, args)) === false)\n\t\t\t\treturn false\n\t\t}\n\t},\n\treachFilter(cb, scope, args) {\n\t\tconst filters = this.filters\n\t\tlet i = filters.length,\n\t\t\tfilter\n\t\twhile (i--) {\n\t\t\tfilter = filters[i]\n\t\t\tif (cb(filter[0], new FilterParams(filter[1], scope, args)) === false)\n\t\t\t\treturn false\n\t\t}\n\t}\n})\n\nfunction FilterParams(params, scope, args) {\n\tthis.params = params\n\tthis.scope = scope\n\tthis.args = args\n}\ninherit(FilterParams, {\n\tget(index, val) {\n\t\tconst { scope, args, params } = this\n\t\tif (arguments.length)\n\t\t\treturn params[index] ? apply(params[index], scope, args) : val\n\n\t\tlet i = params.length\n\t\tconst arr = new Array(i)\n\t\twhile (i--) {\n\t\t\tarr[i] = apply(params[i], scope, args)\n\t\t}\n\t\treturn arr\n\t},\n\titer() {\n\t\tconst { scope, args, params } = this\n\t\tconst len = params.length\n\t\tlet i = 0\n\t\treturn function () {\n\t\t\treturn i < len ? apply(params[i++], scope, args) : STOP\n\t\t}\n\t}\n})\n","/*\n * VNode Expression Identity Handler\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:58:05\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 16:15:24\n */\nimport { IDENTITY_OPT_GET, IDENTITY_OPT_CALL } from '../../Expression'\nimport { formatPath } from '../../common'\n\nexport const VNodeKeyword = '$node'\nexport function identityHandler(prefix, path, opt) {\n\tswitch (path[0]) {\n\tcase VNodeKeyword:\n\t\treturn undefined\n\tcase 'this':\n\t\tpath.shift()\n\t\tbreak\n\t}\n\n\tlet identity = formatPath(path),\n\t\texpr = opt === IDENTITY_OPT_GET ? 'this.$scope.' + identity : 'this.getScope(\"' + path[0] + '\").' + identity\n\n\tif (opt === IDENTITY_OPT_CALL || path[0].charAt(0) === '$')\n\t\tidentity = undefined\n\tif (prefix === '#') {\n\t\tidentity = undefined\n\t\tprefix = ''\n\t}\n\treturn [prefix + expr, identity]\n}\n","/*\n * Transform Expression\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 16:46:41\n * @Last Modified by: Tao Zeng (tao.zeng.zt@qq.com)\n * @Last Modified time: 2018-11-07 15:59:34\n */\nimport { assert } from 'devlevel'\nimport { Expression } from '../../Expression'\nimport { VNodeKeyword, identityHandler } from './identityHandler'\nimport { parsePath } from '../../common'\nimport { create, inherit,isFn } from '../../helper'\n\nexport const transforms = create(null)\n\nfunction transformIdentityHandler(prefix, identity, opt) {\n\treturn identityHandler(prefix, parsePath(identity), opt)\n}\n\nconst paramNames = [VNodeKeyword]\nexport default function TransformExpression(code, transforms, keywords) {\n\tExpression.call(this, code, paramNames, transformIdentityHandler, this.parseFilter.bind(this), keywords)\n\tthis.transforms = transforms\n}\n\ninherit(TransformExpression, Expression, {\n\tvalue(scope, args) {\n\t\treturn this.execute(scope, args)\n\t},\n\ttransformValue(scope, args) {\n\t\treturn this.transform(this.execute(scope, args), scope, args)\n\t},\n\ttransform(value, scope, args) {\n\t\tthis.eachFilter((filter, args) => {\n\t\t\tvalue = isFn(filter) ? filter(value, args) : filter.transform.call(filter, value, args)\n\t\t}, scope, args)\n\t\treturn value\n\t},\n\tcheckRestore() {\n\t\tassert.by(() => {\n\t\t\tthis.reachFilter(filter => {\n\t\t\t\tassert.fn(filter.restore, `Transform[${name}] not support restore`)\n\t\t\t})\n\t\t})\n\t},\n\trestore(value, scope, args) {\n\t\tthis.reachFilter((filter, args, name) => {\n\t\t\tassert.fn(filter.restore, `Transform[${name}] not support restore`)\n\t\t\tvalue = filter.restore.call(filter, value, args)\n\t\t}, scope, args)\n\t\treturn value\n\t},\n\tparseFilter(name) {\n\t\tconst localTransforms = this.transforms\n\t\tconst transform = (localTransforms && localTransforms[name]) || transforms[name]\n\n\t\tassert(transform, `Transform[${name}] is undefined`)\n\n\t\tassert(isFn(transform) || isFn(transform.transform),\n\t\t\t`Invalid Transform[${name}].transform handler on ${(localTransforms && localTransforms[name]) ? 'Local':'Global'} Transforms`)\n\n\t\tassert(!transform.restore || isFn(transform.transform),\n\t\t\t`Invalid Transform[${name}].restore handler on ${(localTransforms && localTransforms[name]) ? 'Local':'Global'} Transforms`)\n\n\t\treturn transform\n\t}\n})\n","/*\n * Transforms\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:57:39\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 18:30:39\n */\nimport { makeMap, applyNoScope, isStr, trim } from '../../helper'\nimport { format, plural, singular, thousandSeparate } from '../../common'\nimport { transforms } from './TransformExpression'\n\ntransforms.json = {\n\ttransform(value, param) {\n\t\tif (isStr(value)) return `\"${value}\"`\n\t\tconst indent = +param.get(0)\n\t\treturn JSON.stringify(value, param.get(1), isNaN(indent) ? 0 : indent)\n\t},\n\trestore(value) {\n\t\treturn (value && isStr(value)) ? JSON.parse(value) : value\n\t}\n}\n\ntransforms.trim = {\n\ttransform(value) {\n\t\treturn isStr(value) ? trim(value) : value\n\t},\n\trestore(value) {\n\t\treturn isStr(value) ? trim(value) : value\n\t}\n}\n\ntransforms.capitalize = function (value) {\n\treturn isStr(value) ? value.charAt(0).toUpperCase() + value.slice(1) : value\n}\n\ntransforms.uppercase = function (value) {\n\treturn isStr(value) ? value.toUpperCase() : value\n}\n\ntransforms.lowercase = function (value) {\n\treturn isStr(value) ? value.toLowerCase() : value\n}\n\ntransforms.plural = function (value) {\n\treturn isStr(value) ? plural(value) : value\n}\n\ntransforms.singular = function (value) {\n\treturn isStr(value) ? singular(value) : value\n}\n\ntransforms.unit = function (value, param) {\n\tlet unit = param.get(0),\n\t\tfmt = param.get(1)\n\tif (value > 1) unit = plural(unit)\n\treturn fmt ? format(fmt, value, unit) : value + ' ' + unit\n}\n\nconst units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB'],\n\tunitRestoreReg = /(KB|B|MB|GB|TB|PB)$/,\n\tunitMap = makeMap(units, (unit, i) => 1 << (i * 10))\ntransforms.bytes = {\n\ttransform(value, param) {\n\t\tconst v = +value\n\t\tif (isNaN(v)) return value\n\n\t\tconst digit = param.get(0, 2),\n\t\t\tprecision = Math.pow(10, digit),\n\t\t\ti = Math.floor(Math.log(v) / Math.log(1024))\n\t\treturn Math.round(v * precision / Math.pow(1024, i)) / precision + ' ' + units[i]\n\t},\n\trestore(value) {\n\t\tif (!isStr(value)) return value\n\t\tlet unit,\n\t\t\tv = value.replace(unitRestoreReg, function (match) {\n\t\t\t\tunit = match\n\t\t\t\treturn ''\n\t\t\t})\n\t\tif (!unit) return value\n\t\tv = +v\n\t\tif (isNaN(v)) return value\n\t\treturn Math.round(v * unitMap[unit])\n\t}\n}\n\n\ntransforms.format = function (value, param) {\n\tconst args = param.get()\n\targs.splice(1, 0, value)\n\treturn applyNoScope(format, args)\n}\n","/*\n * VNode Expression\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:58:36\n * @Last Modified by: Tao Zeng (tao.zeng.zt@qq.com)\n * @Last Modified time: 2018-11-07 16:02:15\n */\nimport TransformExpression, { transforms } from './TransformExpression'\nimport './transforms'\n\nexport default TransformExpression\nexport {\n\ttransforms\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:23\n * @Last Modified by: Tao Zeng (tao.zeng.zt@qq.com)\n * @Last Modified time: 2018-11-07 16:07:37\n */\nimport { VIRT_BINDING_TEXT } from './VNode'\nimport VText from './VText'\nimport TransformExpression from './expression'\nimport { inherit } from '../helper'\n\nexport default inherit(function VBindingText(comp, expr) {\n\tVText.call(this, comp)\n\tthis.expr = expr\n}, VText, {\n\t[VIRT_BINDING_TEXT]: true,\n\tprepare(text) {\n\t\treturn new TransformExpression(text)\n\t},\n\tmount() {\n\t\tconst { expr, comp } = this\n\t\tthis.text(expr.transformValue(comp, [this]))\n\t\tcomp.observeExpr(expr, this.exprHandler, this)\n\t},\n\tunmount() {\n\t\tthis.comp.unobserveExpr(this.expr, this.exprHandler, this)\n\t},\n\texprHandler(path, value) {\n\t\tconst { expr, comp } = this\n\t\tthis.text(expr.simple ? expr.transform(value, comp, [this]) : expr.transformValue(comp, [this]))\n\t}\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:28\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:14:23\n */\nimport { assert } from 'devlevel'\nimport VNode, { VIRT_ELEMENT } from './VNode'\nimport { inherit, fnName } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport default inherit(function VElement(comp, option) {\n\tVNode.call(this, comp)\n\tthis.init(option)\n\tthis.initAttrs(option.attrs)\n\tthis.initDirectives(option.directives)\n}, VNode, {\n\t[VIRT_ELEMENT]: true,\n\tprepare(option) {\n\t\tconst { directives } = option\n\t\tif (directives) {\n\t\t\tconst l = directives.length\n\t\t\tassert.by(l, () => {\n\t\t\t\tfor (var i = 0, g, D; i < l; i++) {\n\t\t\t\t\tg = directives[i]\n\t\t\t\t\tD = g.Directive\n\t\t\t\t\tassert(this[D[PROTOTYPE].$nodeKey],\n\t\t\t\t\t\t`Can not bind directive[${g.dname}: ${fnName(D)}] on ${fnName(this.constructor)}, require ${D[PROTOTYPE].$nodeName}`)\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (!l)\n\t\t\t\toption.directives = null\n\t\t}\n\t},\n\tinit() {},\n\tinitDirectives(directives) {\n\t\tif (directives) {\n\t\t\tconst l = directives.length,\n\t\t\t\t__directives = new Array(l)\n\t\t\tfor (var i = 0; i < l; i++)\n\t\t\t\t__directives[i] = directives[i](this)\n\t\t\tthis.directives = __directives\n\t\t}\n\t},\n\tmount() {\n\t\tconst { directives } = this\n\t\tif (directives) {\n\t\t\tconst l = directives.length\n\t\t\tfor (var i = 0; i < l; i++)\n\t\t\t\tdirectives[i].bind()\n\t\t}\n\t},\n\tunmount() {\n\t\tconst { directives } = this\n\t\tif (directives) {\n\t\t\tvar i = directives.length\n\t\t\twhile (i--)\n\t\t\t\tdirectives[i].unbind()\n\t\t}\n\t}\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:34\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:13:56\n */\nimport { assert } from 'devlevel'\nimport { VIRT_NODE, VIRT_COMPLEX_ELEMENT, CHILD_NODES } from './VNode'\nimport VElement from './VElement'\nimport { List } from '../common'\nimport { inherit } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst { prepare, mount, unmount } = VElement[PROTOTYPE]\n\nexport default inherit(function VComplexElement(comp, option) {\n\tVElement.call(this, comp, option)\n\tthis.initChildren(option.children)\n}, VElement, {\n\t[VIRT_COMPLEX_ELEMENT]: true,\n\t$childKey: VIRT_NODE,\n\t$childName: 'Virtual Node',\n\tprepare(option, N) {\n\t\tprepare.call(this, option, N)\n\t\tconst children = option.children\n\t\tif (children) {\n\t\t\tconst l = children.length\n\t\t\tfor (var i = 0, N; i < l; i++) {\n\t\t\t\tN = children[i].VNode\n\t\t\t\tassert(N[PROTOTYPE][this.$childKey], `Child Node[${i}: ${children[i].ename}] should be ${this.$childName}`)\n\t\t\t}\n\t\t}\n\t},\n\tinitChildren(children) {\n\t\tconst childNodes = this[CHILD_NODES] = new List()\n\t\tconst l = children.length\n\t\tconst __children = new Array(l)\n\t\tfor (var i = 0, child; i < l; i++) {\n\t\t\t__children[i] = child = children[i](this.comp)\n\t\t\tchild.parent = this\n\t\t\tthis.initChild(child)\n\t\t}\n\t\tchildNodes.addAll(__children)\n\t},\n\tinitChild(child) {\n\n\t},\n\tmount() {\n\t\tmount.call(this)\n\t\tthis[CHILD_NODES].each(mountChildHandler)\n\t},\n\tunmount() {\n\t\tthis[CHILD_NODES].each(unmountChildHandler)\n\t\tunmount.call(this)\n\t},\n\tchildCount() {\n\t\treturn this[CHILD_NODES].length\n\t},\n\tfirst() {\n\t\treturn this[CHILD_NODES].first()\n\t},\n\tlast() {\n\t\treturn this[CHILD_NODES].last()\n\t},\n\tprev: createSibling('prev'),\n\tnext: createSibling('next'),\n\tappend: createInsert('add'),\n\tprepend: createInsert('addFirst'),\n\tinsertBefore: createInsertSibling('insertBefore'),\n\tinsertAfter: createInsertSibling('insertAfter'),\n\treplace(node, target) {\n\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\t\tassert(this[CHILD_NODES].has(target), `target is not existing in this Node`)\n\n\t\tnode.remove()\n\t\tthis[CHILD_NODES].insert(node, target)\n\t\ttarget.remove()\n\t\tnode.parent = this\n\t\treturn this\n\t},\n\teachChildren(cb, scope) {\n\t\treturn this[CHILD_NODES].each(cb, scope)\n\t}\n})\n\nfunction createSibling(get) {\n\treturn function (node) {\n\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\n\t\treturn this[CHILD_NODES][get](node)\n\t}\n}\n\nfunction createInsert(insert) {\n\treturn function (node) {\n\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\n\t\tnode.remove()\n\t\tthis[CHILD_NODES][insert](node)\n\t\tnode.parent = this\n\t}\n\treturn this\n}\n\nfunction createInsertSibling(insert) {\n\treturn function (node, target) {\n\t\tassert(node[this.$childKey], `node should be ${this.$childName}`)\n\t\tassert(this[CHILD_NODES].has(target), `target is not existing in this Node`)\n\n\t\tnode.remove()\n\t\tthis[CHILD_NODES][insert](node, target)\n\t\tnode.parent = this\n\t\treturn this\n\t}\n}\n\nfunction mountChildHandler(child) {\n\tchild.mount()\n}\n\nfunction unmountChildHandler(child) {\n\tchild.unmount()\n}\n","/*\n * <CompontentTag>\n *      <div ref=\"\"\n * </CompontentTag>\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:37:24\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-05 14:01:41\n */\nimport { assert } from 'devlevel'\nimport VComplexElement from './VComplexElement'\nimport { parsePath } from '../common'\nimport { observer } from '../observer'\nimport { inherit, hasOwnProp, isObj } from '../helper'\n\nexport default inherit(function Compontent(scope, option) {\n\tVComplexElement.call(this, this, option)\n\n\tlet comp = null\n\tif (!isObj(scope)) {\n\t\tassert(scope && scope.$comp, 'Require Parent Compontent')\n\t\tcomp = scope\n\t\tscope = comp.$scope\n\t}\n\tconst obs = observer(scope)\n\tthis.scope = obs.proxy\n\tthis.$scope = obs.source\n    this.$observer = obs\n    this.parent = comp\n}, VComplexElement, {\n\t$comp: true,\n\tprepare(option) {\n\n\t},\n\tinitAttrs() {},\n\t$getScope(attr) {\n\t\tlet $observer = this.$observer,\n\t\t\tparent\n\t\twhile (!hasOwnProp($observer.source, attr) && (parent = $observer.$parent) && (attr in parent.source))\n\t\t\t$observer = parent\n\t\treturn $observer\n\t},\n\tgetScope(attr) {\n\t\treturn this.$getScope(attr).proxy\n\t},\n\tobserve(path, cb, scope) {\n\t\tpath = parsePath(path)\n\t\tthis.$getScope(path[0]).observe(path, cb, scope)\n\t\treturn this\n\t},\n\tunobserve(path, cb, scope) {\n\t\tthis.$getScope(path[0]).unobserve(path, cb, scope)\n\t\treturn this\n\t},\n\tobserveExpr(expr, cb, scope) {\n\t\tconst identities = expr.identities,\n\t\t\tl = identities.length\n\t\tfor (var i = 0; i < l; i++)\n\t\t\tthis.observe(identities[i], cb, scope)\n\t\treturn this\n\t},\n\tunobserveExpr(expr, cb, scope) {\n\t\tconst identities = expr.identities,\n\t\t\tl = identities.length\n\t\tfor (var i = 0; i < l; i++)\n\t\t\tthis.unobserve(identities[i], cb, scope)\n\t\treturn this\n\t},\n\tonProxyChange(fn, scope) {\n\t\tthis.$observer.onProxyChange(fn, scope)\n\t\treturn this\n\t},\n\tunProxyChange(fn, scope) {\n\t\tthis.$observer.unProxyChange(fn, scope)\n\t\treturn this\n\t},\n\tdestroy() {\n\n\t}\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:40\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-15 19:13:45\n */\nimport VNode, { VIRT_COMMENT } from './VNode'\nimport { inherit } from '../helper'\n\nexport default inherit(function VComment(comp, comment) {\n\tVNode.call(this, comp)\n\tthis.comment = comment\n}, VNode, {\n\t[VIRT_COMMENT]: true\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-29 12:36:45\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 18:03:59\n */\nimport { assert, info } from 'devlevel'\nimport { createClass, inherit, create, subclassOf, fnName, isObj, isFn } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport const directives = create(null)\nexport function Directive(node, params) {\n\tthis.comp = node.comp\n\tthis.node = node\n\tthis.params = params\n}\ninherit(Directive, {\n\t$directive: true,\n\t$nodeKey: '$virtElement',\n\t$nodeName: 'Virtual Element',\n\tprepare() {},\n\tbind() {},\n\tunbind() {},\n\tobserveExpr(expr, cb, scope) {\n\t\treturn this.comp.observeExpr(expr, cb, scope)\n\t},\n\tunobserveExpr(expr, cb, scope) {\n\t\treturn this.comp.unobserveExpr(expr, cb, scope)\n\t}\n})\n\nexport function registerDirective(name, directive) {\n\tname = name.toLowerCase()\n\tassert(!directives[name], `Double Register Directive[${name}]`)\n\tif (!isFn(directive)) {\n\t\tif (!directive.extend)\n\t\t\tdirective.extend = Directive\n\t\tdirective = createClass(directive)\n\t}\n\tassert(directive[PROTOTYPE].$directive, `Invalid Directive[${name}], should extend Directive`)\n\n\tdirectives[name] = directive\n\tinfo(`Register Directive: ${fnName(directive)} [${name}]`)\n\treturn directive\n}\n\nexport function directive(name, value, params) {\n\tconst Directive = directives[name]\n\tassert(Directive, `Directive[${name}] is undefined`)\n\tif (!params) params = {}\n\tparams.value = value\n\tparams = Directive[PROTOTYPE].prepare(params, Directive) || params\n\n\tgenerator.params = params\n\tgenerator.dname = name\n\tgenerator.Directive = Directive\n\n\tfunction generator(node) {\n\t\treturn new Directive(node, params)\n\t}\n\treturn generator\n}\n","export { default as VNode } from './VNode'\nexport { default as VText } from './VText'\nexport { default as VBindingText } from './VBindingText'\nexport { default as VElement } from './VElement'\nexport { default as VComplexElement } from './VComplexElement'\nexport { default as Compontent } from './Compontent'\nexport { default as VComment } from './VComment'\nexport {default as TransformExpression, transforms} from './expression'\nexport * from './Directive'\n\nimport { assert, info, debug } from 'devlevel'\nimport { create, fnName } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\nimport { VIRT_TEXT, VIRT_BINDING_TEXT, VIRT_COMMENT, VIRT_ELEMENT, VIRT_COMPLEX_ELEMENT } from './VNode'\n\nconst VElements = create(null)\nexport const tags = create(VElements)\nlet Text, BindingText, Comment\n\nexport function registerVElement(name, VElement) {\n\tassert(!VElements[name], `Double Register Virtual Element: ${fnName(VElement)} <${name}>`)\n\tassert(VElement[PROTOTYPE][VIRT_ELEMENT], `Invalid Virtual Element: ${fnName(VElement)} <${name}>`)\n\n\tVElements[name] = VElement\n\n\tinfo(`register Virtual Element: ${fnName(VElement)} <${name}>`)\n\treturn VElement\n}\n\nexport function registerVText(VText) {\n\tassert(!Text, `Double Register Virtual Text`)\n\tassert(VText[PROTOTYPE][VIRT_TEXT], `Invalid Virtual Node: ${fnName(VText)}`)\n\n\tText = VText\n\n\tinfo(`register Virtual Text: ${fnName(VText)}`)\n\treturn Text\n}\n\nexport function registerVBindingText(VBindingText) {\n\tassert(!BindingText, `Double Register Virtual Binding Text`)\n\tassert(VBindingText[PROTOTYPE][VIRT_BINDING_TEXT], `Invalid Virtual Binding Text: ${fnName(VBindingText)}`)\n\n\tBindingText = VBindingText\n\n\tinfo(`register Virtual Binding Text: ${fnName(VBindingText)}`)\n\treturn BindingText\n}\n\nexport function registerVComment(VComment) {\n\tassert(!Comment, `Double Register Virtual Comment `)\n\tassert(VComment[PROTOTYPE][VIRT_COMMENT], `Invalid Virtual Comment: ${fnName(VComment)}`)\n\n\tComment = VComment\n\n\tinfo(`register Virtual Comment : ${fnName(VComment)}`)\n\treturn VComment\n}\n\nexport function elem(name, attrs, directives, children) {\n\tconst VElement = VElements[name]\n\tif (children && !children.length) children = undefined\n\n\tassert(VElement, `Virtual Element[${name}] is undefined`)\n\n\tassert(!children || !children.length || VElement[PROTOTYPE][VIRT_COMPLEX_ELEMENT],\n\t\t`Virtual Element[${name}] have no children`)\n\n\tconst gen = generator(VElement, {\n\t\tattrs,\n\t\tdirectives,\n\t\tchildren\n\t})\n\tgen.ename = name\n\treturn gen\n}\n\nexport function text(text, isExpr) {\n\treturn generator(isExpr ? BindingText : Text, text)\n}\n\nexport function comment(comment) {\n\treturn generator(Comment, comment)\n}\n\nfunction generator(VNode, option) {\n\toption = VNode[PROTOTYPE].prepare(option, VNode) || option\n\n\tfunction generator(comp) {\n\t\treturn new VNode(comp, option)\n\t}\n\tgenerator.VNode = VNode\n\tgenerator.option = option\n\n\treturn generator\n}\n","import { isStr, isArrayLike } from '../../helper'\n\nexport const ADD_EVENT_LISTENER = 'addEventListener',\n\tATTACH_EVENT = 'attachEvent',\n\tDOCUMENT_ELEMENT = 'documentElement',\n\tDEFAULT_VIEW = 'defaultView',\n\tPARENT_WINDOW = 'parentWindow',\n\tAPPEND_CHILD = 'appendChild',\n\tREMOVE_CHILD = 'removeChild',\n\tINSERT_BEFORE = 'insertBefore',\n\tREPLACE_CHILD = 'replaceChild',\n\tPARENT_NODE = 'parentNode',\n\tCONTAINS = 'contains',\n\tINNER_HTML = 'innerHTML',\n\tCREATE_ELEMENT = 'createElement',\n\tOWNER_DOCUMENT = 'ownerDocument',\n\tSET_ATTRIBUTE = 'setAttribute',\n\tGET_ATTRIBUTE = 'getAttribute',\n\tREMOVE_ATTRIBUTE = 'removeAttribute',\n\tCHECKED = 'checked',\n\tSELECTED = 'selected',\n\tDISABLED = 'disabled',\n\tREAD_ONLY = 'readOnly',\n\tTAB_INDEX = 'tabIndex',\n    HTML_FOR = 'htmlFor',\n\tCLASS_NAME = 'className',\n\tCURRENT_TARGET = 'currentTarget',\n\tPREVENT_DEFAULT = 'preventDefault',\n\tSTOP_PROPAGATION = 'stopPropagation',\n\tSTOP_IMMEDIATE_PROPAGATION = 'stopImmediatePropagation',\n\tCLIENT_TOP = 'clientTop',\n\tCLIENT_LEFT = 'clientLeft',\n\tSCROLL_LEFT = 'scrollLeft',\n\tSCROLL_TOP = 'scrollTop',\n\tPAGE_XOFFSET = 'pageXOffset',\n\tPAGE_YOFFSET = 'pageYOffset',\n\tCLIENTX = 'clientX',\n\tCLIENTY = 'clientY',\n\tPAGEX = 'pageX',\n\tPAGEY = 'pageY'\n\nexport const ROOTELEMENT = document[DOCUMENT_ELEMENT]\nexport const DIV = document[CREATE_ELEMENT]('div')\n\nexport function getWindow(el) {\n\treturn el.window && el.document ? el : el.nodeType === 9 ? el[DEFAULT_VIEW] || el[PARENT_WINDOW] : undefined\n}\n\nexport function inDoc(el, root) {\n\tif (!root) root = ROOTELEMENT\n\tif (root[CONTAINS]) return root[CONTAINS](el)\n\twhile (el = el[PARENT_NODE])\n\t\tif (el === root)\n\t\t\treturn true\n\treturn false\n}\n\nexport function query(selectors) {\n\treturn isStr(selectors) ? document.querySelector(selectors) : isArrayLike(selectors) ? selectors[0] : selectors\n}\n\n\nexport function prependChild(parent, el) {\n\tlet first = parent.firstChild\n\tfirst ? first !== el && parent[INSERT_BEFORE](el, first) : parent[APPEND_CHILD](el)\n}\n\nexport function insertAfter(el, prev) {\n\tvar next = prev.nextSibling\n\tnext ? next !== el && prev[PARENT_NODE][INSERT_BEFORE](el, next) : prev[PARENT_NODE][APPEND_CHILD](el)\n}\n\nexport function insertBefore(el, next) {\n\tel !== next.previousSibling && next[PARENT_NODE][INSERT_BEFORE](el, next)\n}\n","import { VIRT_NODE } from '../vnode/VNode'\nimport {\n\tPARENT_NODE,\n\tAPPEND_CHILD,\n\tREMOVE_CHILD,\n\tREPLACE_CHILD,\n\tquery,\n\tprependChild,\n\tinsertAfter,\n\tinsertBefore\n} from './util/util'\nimport { PROTOTYPE } from '../helper/constants'\n\nexport default function (VNode) {\n\tconst remove = VNode[PROTOTYPE].remove\n\treturn {\n\t\t$htmlNode: true,\n\t\tappendTo(parent) {\n\t\t\tif (parent[VIRT_NODE]) {\n\t\t\t\tparent.append(this)\n\t\t\t} else {\n\t\t\t\tquery(parent)[APPEND_CHILD](this.el)\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tprependTo(parent) {\n\t\t\tif (parent[VIRT_NODE]) {\n\t\t\t\tparent.prepend(this)\n\t\t\t} else {\n\t\t\t\tprependChild(query(parent), this.el)\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tinsertBeforeTo(target) {\n\t\t\tif (target[VIRT_NODE]) {\n\t\t\t\ttarget.parent.insertBefore(this, target)\n\t\t\t} else {\n\t\t\t\tinsertAfter(this.el, query(target))\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tinsertAfterTo(target) {\n\t\t\tif (target[VIRT_NODE]) {\n\t\t\t\ttarget.parent.insertAfter(this, target)\n\t\t\t} else {\n\t\t\t\tinsertBefore(this.el, query(target))\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\treplaceTo(target) {\n\t\t\tif (target[VIRT_NODE]) {\n\t\t\t\ttarget.parent.replace(this, target)\n\t\t\t} else {\n\t\t\t\ttaget = query(target)\n\t\t\t\ttarget[PARENT_NODE][REPLACE_CHILD](this.el, target)\n\t\t\t}\n\t\t\treturn this\n\t\t},\n\t\tremove() {\n\t\t\tconst el = this.el,\n\t\t\t\tpEl = el[PARENT_NODE]\n\t\t\tpEl && pEl[REMOVE_CHILD](el)\n\t\t\treturn remove.call(this)\n\t\t}\n\t}\n\n}\n","/*\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-25 17:47:25\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:29:48\n */\nimport { assert } from 'devlevel'\nimport { inDoc, CREATE_ELEMENT, APPEND_CHILD, INNER_HTML } from './util/util'\n\nconst DOM_ELEMENT = '__element__'\nconst CHECKED = 'checked'\n\nconst OUTER_HTML = 'outerHTML'\n\nexport default {\n\t$htmlElement: true,\n\tinit(option) {\n\t\tconst el = document[CREATE_ELEMENT](this.tagName)\n\t\tel[DOM_ELEMENT] = this\n\t\tthis.el = el\n\t\tthis.initDomEvent()\n\t},\n\tinDoc() {\n\t\treturn inDoc(this.el)\n\t},\n\touterHtml() {\n\t\tconst el = this.el\n\t\tif (el[OUTER_HTML]) return el[OUTER_HTML]\n\t\tDIV[APPEND_CHILD](el.cloneNode(true))\n\t\tconst html = DIV[INNER_HTML]\n\t\tDIV[INNER_HTML] = ''\n\t\treturn html\n\t},\n\tfocus() {\n\t\tthis.el.focus()\n\t\treturn this\n\t}\n}\n","import { create, hasOwnProp, isObj } from '../../helper'\n\nexport default function (normal, __hooks, defKey, recive) {\n\tconst hooks = create(null),\n\t\trevices = recive && create(null)\n\t__hooks && addHook(__hooks)\n\n\treturn {\n\t\taddHook,\n\t\tgetHook(key) {\n\t\t\treturn hooks[key] || normal\n\t\t},\n\t\thookMember(key, member) {\n\t\t\tconst hook = hooks[key]\n\t\t\treturn hook && hook[member]\n\t\t},\n\t\tmemberHook(key, member) {\n\t\t\tconst hook = hooks[key]\n\t\t\tif (hook && hook[member]) return hook\n\t\t\tif (normal[member]) return normal\n\t\t},\n\t\thookRevice(key) {\n\t\t\treturn revices[key]\n\t\t}\n\t}\n\n\tfunction addHook(key, hook) {\n\t\tif (arguments.length === 1) {\n\t\t\tfor (var k in key)\n\t\t\t\tif (hasOwnProp(key, k))\n\t\t\t\t\tdoAdd(k, key[k])\n\t\t} else {\n\t\t\treturn doAdd(key, hook)\n\t\t}\n\t}\n\n\tfunction doAdd(key, hook) {\n\t\tif (!isObj(hook)) {\n\t\t\thook = {\n\t\t\t\t[defKey]: hook\n\t\t\t}\n\t\t}\n\t\tif (revices && hook[recive])\n\t\t\trevices[hook[recive]] = key\n\t\thooks[key] = hook\n\t\treturn hook\n\t}\n}\n","/*\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:54:34\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 12:47:27\n */\nimport createHook from './util/hook'\nimport {\n\tSET_ATTRIBUTE,\n\tGET_ATTRIBUTE,\n\tREMOVE_ATTRIBUTE,\n\tCHECKED,\n\tSELECTED,\n\tDISABLED,\n\tREAD_ONLY,\n\tTAB_INDEX,\n\tHTML_FOR\n} from './util/util'\nimport { $eachObj } from '../observer'\nimport { create, applyNoScope, isStr } from '../helper'\n\nconst GET_ATTRIBUTENODE = GET_ATTRIBUTE + 'Node'\n\nconst NAME = 'name',\n\tGET = 'get',\n\tSET = 'set'\n\nconst { hookMember, memberHook, addHook } = createHook({\n\tget(el, name) {\n\t\treturn el[name]\n\t},\n\tset(el, name, value) {\n\t\tel[name] = value\n\t}\n}, {\n\ttabIndex: {\n\t\tget(el, name) {\n\t\t\tlet attributeNode = el[GET_ATTRIBUTENODE]('tabindex')\n\t\t\treturn attributeNode && attributeNode.specified ?\n\t\t\t\tparseInt(attributeNode.value, 10) :\n\t\t\t\trfocusable.test(el.nodeName) ||\n\t\t\t\trclickable.test(el.nodeName) && el.href ?\n\t\t\t\t0 :\n\t\t\t\tundefined\n\t\t}\n\t}\n}, {\n\ttabindex: TAB_INDEX,\n\treadonly: READ_ONLY,\n\t'for': HTML_FOR,\n\t'class': 'className',\n\tmaxlength: 'maxLength',\n\tcellspacing: 'cellSpacing',\n\tcellpadding: 'cellPadding',\n\trowspan: 'rowSpan',\n\tcolspan: 'colSpan',\n\tusemap: 'useMap',\n\tframeborder: 'frameBorder',\n\tcontenteditable: 'contentEditable'\n}, NAME)\n\n\nexport default {\n\tinitAttrs(attrs) {\n\t\tattrs && this.attr(attrs)\n\t},\n\tattr(name, value) {\n\t\tconst el = this.el\n\t\tif (arguments.length === 1) {\n\t\t\tif (isStr(name)) return el[GET_ATTRIBUTE](name)\n\t\t\t$eachObj(name, (value, name) => {\n\t\t\t\tel[SET_ATTRIBUTE](name, value)\n\t\t\t})\n\t\t} else {\n\t\t\tel[SET_ATTRIBUTE](name, value)\n\t\t}\n\t\treturn this\n\t},\n\tremoveAttr(name) {\n\t\tthis.el[REMOVE_ATTRIBUTE](name)\n\t\treturn this\n\t},\n\tprop(name, value) {\n\t\tconst el = this.el\n\t\tif (arguments.length === 1) {\n\t\t\tif (isStr(name))\n\t\t\t\treturn getProp(el, name)\n\t\t\t$eachObj(name, (value, name) => {\n\t\t\t\tsetProp(el, name, value)\n\t\t\t})\n\t\t} else {\n\t\t\tsetProp(el, name, value)\n\t\t}\n\t\treturn this\n\t},\n\tchecked: propAccessor(CHECKED),\n\tselected: propAccessor(SELECTED),\n\tdisabled: propAccessor(DISABLED),\n\treadonly: propAccessor(READ_ONLY),\n\ttabindex: propAccessor(TAB_INDEX),\n\tfor: propAccessor(HTML_FOR)\n}\n\nexport function addDomPropHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nfunction propAccessor(PROP) {\n\treturn function (value) {\n\t\tconst el = this.el\n\t\tif (arguments.length) {\n\t\t\tsetProp(el, PROP, value)\n\t\t\treturn this\n\t\t}\n\t\treturn getProp(el, PROP)\n\t}\n}\n\nfunction getProp(el, name) {\n\tname = hookMember(name, NAME)\n\treturn memberHook(name, GET)[GET](el, name)\n}\n\nfunction setProp(el, name, value) {\n\tname = hookMember(name, NAME)\n\tmemberHook(name, SET)[SET](el, name, value)\n}\n","/*\n * element class operations\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:48:52\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 12:43:08\n */\nimport { DIV, CLASS_NAME } from './util/util'\nimport { create, trim, isArray, isStr, isBool } from '../helper'\n\nconst CLASS_LIST = 'classList'\n\nconst wsReg = /\\s+/g\n\nconst addClass = (DIV[CLASS_LIST] ? mkClasslistUpdator('add') : function (el, className) {\n\t\tclassName = parseClassNameArray(className)\n\t\tif (className.length)\n\t\t\tel[CLASS_NAME] = trim(clearClassName(el[CLASS_NAME], className) + ' ' + className.join(' '))\n\t\treturn this\n\t}),\n\tremoveClass = (DIV[CLASS_LIST] ? mkClasslistUpdator('remove') : function (el, className) {\n\t\tclassName = parseClassNameArray(className)\n\t\tif (className.length)\n\t\t\tel[CLASS_NAME] = trim(clearClassName(el[CLASS_NAME], className))\n\t\treturn this\n\t})\nexport default {\n\tclassName(className) {\n\t\tconst el = this.el\n\t\tif (arguments.length) {\n\t\t\tel[CLASS_NAME] = parseClassName(className)\n\t\t\treturn this\n\t\t}\n\t\treturn trim(el[CLASS_NAME]).split(wsReg)\n\t},\n\taddClass,\n\tremoveClass,\n\tmargeClass(obj) {\n\t\tconst el = this.el,\n\t\t\tadds = [],\n\t\t\tclears = []\n\t\tlet name, val\n\t\tfor (name in obj) {\n\t\t\tval = obj[name]\n\t\t\tswitch (val) {\n\t\t\tcase true:\n\t\t\t\tadds.push(name)\n\t\t\tcase false:\n\t\t\t\tclears.push(name)\n\t\t\t}\n\t\t}\n\t\tel[CLASS_NAME] = trim(clearClassName(el[CLASS_NAME], clears) + ' ' + adds.join(' '))\n\t\treturn this\n\t}\n}\n\nfunction mkClasslistUpdator(method) {\n\treturn function (className) {\n\t\tclassName = parseClassNameArray(className)\n\n\t\tconst classList = this.el[CLASS_LIST]\n\t\tlet i = className.length\n\t\twhile (i--)\n\t\t\tclassList[method](className[i])\n\t\treturn this\n\t}\n}\n\nconst clearRegCache = create(null)\n\nfunction clearClassName(className, removes) {\n\tremoves = removes.join('|')\n\tconst reg = clearRegCache[removes] || (clearRegCache[removes] = new RegExp('(\\\\s+|^)(' + removes + ')', 'g'))\n\treturn className.replace(reg, '')\n}\n\nfunction parseClassName(className) {\n\tif (isStr(className)) return trim(className)\n\treturn parseClassNameArrayByObj(className).join(' ')\n}\n\nfunction parseClassNameArray(className) {\n\tif (isStr(className)) return trim(className).split(wsReg)\n\treturn parseClassNameArrayByObj(className)\n}\n\nfunction parseClassNameArrayByObj(className) {\n\tif (isArray(className)) return className\n\n\tconst names = []\n\tlet key, i = 0\n\tfor (key in className) {\n\t\tif (className[key] === true)\n\t\t\tnames[i++] = key\n\t}\n\treturn names\n}\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-09-01 10:51:15\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:15:03\n */\nimport { ROOTELEMENT, ADD_EVENT_LISTENER, ATTACH_EVENT } from './util'\nimport { nextTick } from '../../common'\n\nexport const W3C = !!window.dispatchEvent\nexport const IE8 = !!window.XDomainRequest\nexport const IE9 = navigator.userAgent.indexOf('MSIE 9') !== -1\n\nexport default function ready(fn) {\n\t!isReady ? readyList.push(fn) : fn()\n}\n\nlet readyList = [],\n\tisReady\n\nfunction fireReady(fn) {\n\tisReady = true\n\twhile (fn = readyList.shift())\n\t\tfn()\n\treadyList = undefined\n}\n\nconst READY_STATE = 'readyState',\n\tDO_SCROLL = 'doScroll'\n\nif (document[READY_STATE] === 'complete') {\n\tnextTick(fireReady)\n} else if (document[ADD_EVENT_LISTENER]) {\n\tdocument[ADD_EVENT_LISTENER]('DOMContentLoaded', fireReady)\n} else if (document[ATTACH_EVENT]) {\n\tdocument[ATTACH_EVENT]('onreadystatechange', function () {\n\t\tif (document[READY_STATE] === 'complete')\n\t\t\tfireReady()\n\t})\n\tif (ROOTELEMENT[DO_SCROLL] && window.frameElement === null && window.external) {\n\t\tfunction doScrollCheck() {\n\t\t\ttry {\n\t\t\t\tROOTELEMENT[DO_SCROLL]('left')\n\t\t\t\tfireReady()\n\t\t\t} catch (e) {\n\t\t\t\tnextTick(doScrollCheck)\n\t\t\t}\n\t\t}\n\t\tdoScrollCheck()\n\t}\n}\n","/*\n * element css opeartions\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:49:56\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:55:15\n */\nimport {\n\tinDoc,\n\tgetWindow,\n\tROOTELEMENT,\n\tOWNER_DOCUMENT,\n\tPARENT_WINDOW,\n\tDEFAULT_VIEW,\n\tREMOVE_ATTRIBUTE,\n\tCLIENT_TOP,\n\tCLIENT_LEFT,\n\tSCROLL_LEFT,\n\tSCROLL_TOP,\n\tPAGE_XOFFSET,\n\tPAGE_YOFFSET\n} from './util/util'\nimport createHook from './util/hook'\nimport { W3C, IE8 } from './util'\nimport { create, applyScope, makeMap, isNil, isStr } from '../helper'\nimport { $eachObj } from '../observer'\n\nconst numberCss = makeMap(\n\t'animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,' +\n\t'fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom')\n\nconst NAME = 'name',\n\tGET = 'get',\n\tSET = 'set'\nconst nameHooks = create(null)\nconst { memberHook, addHook } = createHook({\n\tget(el, name) {\n\t\tif (name === 'background')\n\t\t\tname = 'backgroundColor'\n\t\treturn getStyle(el, name)\n\t},\n\tset(el, name, value) {\n\t\tel.style[name] = value\n\t}\n})\nnameHooks.float = W3C ? 'cssFloat' : 'styleFloat'\n\nconst OFFSET_PARENT = 'offsetParent',\n\tGET_BOUNDING_CLIENT_RECT = 'getBoundingClientRect',\n\tFILTER = 'filter',\n\tPOSITION = 'position'\n\n\n// ========================= Mixin =================================\nfunction setCss(el, name, value) {\n\tname = camelize(name)\n\tif (isNil(value)) {\n\t\tvalue = ''\n\t} else if (!numberCss[name] && isFinite(value)) {\n\t\tvalue += 'px'\n\t}\n\tmemberHook(name, SET)[SET](el, cssHookName(name), value, name)\n}\n\nexport default {\n\tcss(name, value) {\n\t\tconst el = this.el\n\t\tif (arguments.length === 1) {\n\t\t\tif (isStr(name)) {\n\t\t\t\tname = camelize(name)\n\t\t\t\tconst value = memberHook(name, GET)[GET](el, cssHookName(name), name),\n\t\t\t\t\tnum = parseFloat(value)\n\t\t\t\treturn isFinite(num) ? num : value\n\t\t\t}\n\t\t\t$eachObj(name, (value, name) => {\n\t\t\t\tsetCss(el, name, value)\n\t\t\t})\n\t\t} else {\n\t\t\tsetCss(el, name, value)\n\t\t}\n\t\treturn this\n\t},\n\toffset() {\n\t\tconst el = this.el,\n\t\t\tdoc = el[OWNER_DOCUMENT],\n\t\t\tbox = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0\n\t\t\t}\n\n\t\tif (!doc) return box\n\n\t\tconst body = doc.body,\n\t\t\twin = doc[DEFAULT_VIEW] || doc[PARENT_WINDOW]\n\n\t\tif (!inDoc(el)) return box\n\n\t\tif (el[GET_BOUNDING_CLIENT_RECT]) {\n\t\t\tvar rect = el[GET_BOUNDING_CLIENT_RECT]()\n\t\t\tbox.top = rect.top\n\t\t\tbox.left = rect.left\n\t\t}\n\t\tconst clientTop = ROOTELEMENT[CLIENT_TOP] || body[CLIENT_TOP],\n\t\t\tclientLeft = ROOTELEMENT[CLIENT_LEFT] || body[CLIENT_LEFT],\n\t\t\tscrollTop = Math.max(win[PAGE_YOFFSET] || 0, ROOTELEMENT[SCROLL_TOP], body[SCROLL_TOP]),\n\t\t\tscrollLeft = Math.max(win[PAGE_XOFFSET] || 0, ROOTELEMENT[SCROLL_LEFT], body[SCROLL_LEFT])\n\n\t\tbox.top += scrollTop - clientTop\n\t\tbox.left += scrollLeft - clientLeft\n\t\treturn box\n\t},\n\tposition() {\n\t\tconst el = this.el\n\t\tlet top, left\n\t\tif (getStyle(el, POSITION) === 'fixed') {\n\t\t\tvar o = el[GET_BOUNDING_CLIENT_RECT]()\n\t\t\ttop = o.top\n\t\t\tleft = o.left\n\t\t} else {\n\t\t\tvar o = this.offset(el),\n\t\t\t\tp = offsetParent(el)\n\t\t\ttop = o.top - getNumStyle(p, 'borderTopWidth') + this.scrollTop(p)\n\t\t\tleft = o.left - getNumStyle(p, 'borderLeftWidth') + this.scrollLeft(p)\n\t\t\tif (p.tagName !== 'HTML') {\n\t\t\t\tvar op = this.offset(p)\n\t\t\t\ttop -= op.top\n\t\t\t\tleft -= op.left\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\ttop: top - getNumStyle(el, 'marginTop'),\n\t\t\tleft: left - getNumStyle(el, 'marginLeft')\n\t\t}\n\t},\n\tscrollTop() {\n\t\tconst el = this.el,\n\t\t\twin = getWindow(el)\n\t\treturn (win ? SCROLL_TOP in win ? win[SCROLL_TOP] : ROOTELEMENT[PAGE_YOFFSET] : el[PAGE_YOFFSET]) || 0\n\t},\n\tscrollLeft() {\n\t\tconst el = this.el,\n\t\t\twin = getWindow(el);\n\t\treturn (win ? SCROLL_LEFT in win ? win[SCROLL_LEFT] : ROOTELEMENT[PAGE_XOFFSET] : el[PAGE_XOFFSET]) || 0\n\t},\n\tscrollTo(left, top) {\n\t\tconst el = this.el,\n\t\t\twin = getWindow(el)\n\t\tif (win) {\n\t\t\twin.scrollTo(left, top)\n\t\t} else {\n\t\t\tel[PAGE_XOFFSET] = left\n\t\t\tel[PAGE_YOFFSET] = top\n\t\t}\n\t}\n}\n\nexport function addDomStyleHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nfunction offsetParent(el) {\n\tlet p = el[OFFSET_PARENT]\n\twhile (p && getStyle(p, POSITION) === 'static')\n\t\tp = p[OFFSET_PARENT]\n\treturn p || ROOTELEMENT\n}\n\n// ========================= css opeartions =================================\n\nconst cssPrefixes = ['', '-webkit-', '-o-', '-moz-', '-ms-'],\n\thost = ROOTELEMENT.style,\n\tcssPrefixeSize = cssPrefixes.length\n\nfunction cssHookName(name) {\n\tlet fixedName = nameHooks[name]\n\tif (fixedName) return fixedName\n\tfor (var i = 0; i < cssPrefixeSize; i++) {\n\t\tfixedName = camelize(cssPrefixes[i] + name)\n\t\tif (fixedName in host) {\n\t\t\tnameHooks[name] = fixedName\n\t\t\treturn fixedName\n\t\t}\n\t}\n\tthrow new Error(`invalid style[${name}]`)\n}\n\nconst GET_COMPUTED_STYLE = 'getComputedStyle'\nconst computedStyle = !!window[GET_COMPUTED_STYLE]\n\nfunction getNumStyle(el, name) {\n\tconst val = getStyle(el, name),\n\t\ti = parseFloat(val)\n\treturn i === i ? i : 0\n}\nlet getStyle\nif (computedStyle) {\n\tgetStyle = function (el, name) {\n\t\tconst styles = window[GET_COMPUTED_STYLE](el, null)\n\t\tlet value\n\t\tif (styles) {\n\t\t\tvalue = name === FILTER ? styles.getPropertyValue(name) : styles[name]\n\t\t\tif (value === '') value = el.style[name]\n\t\t}\n\t\treturn value\n\t}\n} else {\n\tconst RUNTIME_STYLE = 'runtimeStyle',\n\t\trnumnonpx = /^-?(?:\\d*\\.)?\\d+(?!px)[^\\d\\s]+$/i,\n\t\trposition = /^(top|right|bottom|left)$/,\n\t\tborder = {\n\t\t\tthin: IE8 ? '1px' : '2px',\n\t\t\tmedium: IE8 ? '3px' : '4px',\n\t\t\tthick: IE8 ? '5px' : '6px'\n\t\t}\n\tgetStyle = function (el, name) {\n\t\tconst currentStyle = el.currentStyle\n\t\tlet value = currentStyle[name]\n\t\tif ((rnumnonpx.test(value) && !rposition.test(value))) {\n\t\t\tconst style = el.style,\n\t\t\t\tleft = style.left,\n\t\t\t\trsLeft = el[RUNTIME_STYLE].left;\n\n\t\t\tel[RUNTIME_STYLE].left = currentStyle.left;\n\t\t\tstyle.left = name === 'fontSize' ? '1em' : (value || 0);\n\t\t\tvalue = style.pixelLeft + 'px';\n\t\t\tstyle.left = left;\n\t\t\tel[RUNTIME_STYLE].left = rsLeft;\n\t\t}\n\t\tif (value === 'medium') {\n\t\t\tname = name.replace('Width', 'Style')\n\t\t\tif (currentStyle[name] === 'none')\n\t\t\t\tvalue = '0px';\n\t\t}\n\t\treturn value === '' ? 'auto' : border[value] || value;\n\t}\n}\n\nconst camelizeReg = /[-_][^-_]/g\n\nfunction camelize(target) {\n\treturn target ? target.replace(camelizeReg, camelizeHandler) : target\n}\n\nfunction camelizeHandler(match) {\n\treturn match.charAt(1).toUpperCase()\n}\n\n\n// ========================= hooks =================================\nconst OPACITY = 'opacity'\nif (computedStyle) {\n\taddHook(OPACITY, {\n\t\tget(el, name) {\n\t\t\tlet value = getStyle(el, name)\n\t\t\treturn value === '' ? 1 : value\n\t\t}\n\t})\n} else {\n\tconst FILTERS = FILTER + 's',\n\t\tsalpha = 'DXImageTransform.Microsoft.Alpha',\n\t\tralpha = /alpha\\([^)]*\\)/i\n\n\taddHook(OPACITY, {\n\t\tget(el, name) {\n\t\t\tconst alpha = el[FILTERS].alpha || el[FILTERS][salpha],\n\t\t\t\top = alpha && alpha.enabled ? alpha[OPACITY] : 100\n\t\t\treturn (op / 100)\n\t\t},\n\t\tset(el, name, value) {\n\t\t\tconst style = el.style,\n\t\t\t\topacity = isFinite(value) && value <= 1 ? `alpha(${OPACITY}=${value * 100})` : '',\n\t\t\t\tfilter = style[FILTER] || ''\n\t\t\tstyle.zoom = 1\n\t\t\tstyle[FILTER] = trim(ralpha.test(filter) ? filter.replace(ralpha, opacity) : filter + ' ' + opacity)\n\t\t\tif (!style[FILTER])\n\t\t\t\tstyle[REMOVE_ATTRIBUTE](FILTER)\n\t\t}\n\t})\n}\n","/*\n * Dom Value opeartions\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 17:54:59\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-01 11:43:09\n */\nimport { assert } from 'devlevel'\nimport createHook from './util/hook'\nimport { SELECTED } from './util/util'\nimport { create, applyNoScope, strval, isNil, isArray, isObj, makeMap } from '../helper'\n\nconst GET = 'get',\n\tSET = 'set'\n\nexport default {\n\tvalue(value) {\n\t\tconst el = this.el\n\t\tlet type = el.tagName\n\t\tif (type === 'INPUT') type = el.type\n\n\t\tif (arguments.length) {\n\t\t\tmemberHook(type, SET)[SET](el, value, type)\n\t\t\treturn this\n\t\t}\n\t\treturn memberHook(type, GET)[GET](el, type)\n\t}\n}\n\nexport function addDomValueHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nconst EMPTY_MAP = create(null),\n\tSELECTED_INDEX = 'selectedIndex',\n\tSELECT_ONE = 'select-one',\n\tOPTIONS = 'options'\n\nconst { memberHook, addHook } = createHook({\n\tget(el) {\n\t\treturn el.value || ''\n\t},\n\tset(el, value) {\n\t\tel.value = strval(value)\n\t}\n}, {\n\toption: {\n\t\tget(el) {\n\t\t\treturn getOptionValue(el)\n\t\t}\n\t},\n\tselect: {\n\t\tget(el) {\n\t\t\tconst signle = el.type == SELECT_ONE,\n\t\t\t\tindex = el[SELECTED_INDEX]\n\n\t\t\tif (index < 0) return signle ? undefined : []\n\n\t\t\tconst options = el[OPTIONS],\n\t\t\t\tl = options.length\n\n\t\t\tlet option, i = 0\n\n\t\t\tif (!signle) {\n\t\t\t\tconst values = []\n\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\toption = options[i]\n\t\t\t\t\tif (option[SELECTED] || i === index)\n\t\t\t\t\t\tvalues.push(getOptionValue(option))\n\t\t\t\t}\n\t\t\t\treturn values\n\t\t\t}\n\t\t\tfor (; i < l; i++) {\n\t\t\t\toption = options[i]\n\t\t\t\tif (option[SELECTED] || i === index)\n\t\t\t\t\treturn getOptionValue(option)\n\t\t\t}\n\t\t},\n\t\tset(el, value) {\n\t\t\tconst signle = el.type == SELECT_ONE,\n\t\t\t\toptions = el[OPTIONS],\n\t\t\t\tl = options.length\n\n\t\t\tlet option, vl, val, i = 0\n\n\t\t\tif (signle) {\n\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\toption = options[i]\n\t\t\t\t\tif (getOptionValue(option) === value) {\n\t\t\t\t\t\toption[SELECTED] = true\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tel[SELECTED_INDEX] = -1\n\t\t\t\tlet map\n\t\t\t\tif (isNil(value)) {\n\t\t\t\t\tmap = EMPTY_MAP\n\t\t\t\t} else if (isArray(value)) {\n\t\t\t\t\tmap = makeMap(value)\n\t\t\t\t} else if (isObj(value)) {\n\t\t\t\t\tmap = value\n\t\t\t\t} else {\n\t\t\t\t\tmap = create(null)\n\t\t\t\t\tmap[value] = true\n\t\t\t\t}\n\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\toption = options[i]\n\t\t\t\t\tif (map[getOptionValue(option)] === true)\n\t\t\t\t\t\toption[SELECTED] = true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})\n\nfunction getOptionValue(el) {\n\tconst val = el.attributes.value\n\treturn !val || val.specified ? el.value : el.text\n}\n","import { assert } from 'devlevel'\nimport { W3C, IE9 } from './util'\nimport {\n\tROOTELEMENT,\n\tDOCUMENT_ELEMENT,\n\tOWNER_DOCUMENT,\n\tCREATE_ELEMENT,\n\tADD_EVENT_LISTENER,\n\tATTACH_EVENT,\n\tPARENT_NODE,\n\tCURRENT_TARGET,\n\tPREVENT_DEFAULT,\n\tSTOP_PROPAGATION,\n\tSTOP_IMMEDIATE_PROPAGATION,\n\tSCROLL_LEFT,\n\tSCROLL_TOP,\n\tCLIENT_TOP,\n\tCLIENT_LEFT,\n\tCLIENTX,\n\tCLIENTY,\n\tPAGEX,\n\tPAGEY,\n\tDISABLED\n} from './util/util'\nimport createHook from './util/hook'\nimport { inherit, create, applyScope, applyNoScope, hasOwnProp, isFn, isStr, makeMap } from '../helper'\nimport { FnList } from '../common'\nimport { DEFAULT_FN_BINDING } from '../common/FnList'\n\nconst TYPE = 'type'\nconst { getHook, hookRevice, addHook } = createHook(null, null, TYPE, TYPE)\n\n// ========================= Mixin =================================\nconst DOM_ELEMENT = '__element__'\n\nconst MIXIN_EVENTS = '__domEvents',\n\tMIXIN_ADD_LISTEN = '__addDomListen',\n\tMIXIN_DEL_LISTEN = '__delDomListen',\n\tMIXIN_EMIT_LISTEN = '__emitDomEvent'\n\nconst EventMixin = {\n\tinitDomEvent() {\n\t\tthis.el[DOM_ELEMENT] = this\n\t\tthis[MIXIN_EVENTS] = create(null)\n\t},\n\ton(type, fn, scope) {\n\t\tassert.fn(fn, 'Invalid Event Listener')\n\n\t\tif (this[MIXIN_ADD_LISTEN](type, fn, scope) === 1) {\n\t\t\tconst el = this.el,\n\t\t\t\thook = getHook(type)\n\t\t\tif (hook) {\n\t\t\t\tif (hook.type) type = hook.type\n\t\t\t\tif (hook.bind && hook.bind(el, type) === false)\n\t\t\t\t\treturn\n\t\t\t}\n\t\t\tbindDispatcher(el, type)\n\t\t}\n\t},\n\tun(type, fn, scope) {\n\t\tassert.fn(fn, 'Invalid Event Listener')\n\n\t\tif (this[MIXIN_DEL_LISTEN](type, fn, scope) === 0) {\n\t\t\tconst el = this.el,\n\t\t\t\thook = getHook(type)\n\t\t\tif (hook) {\n\t\t\t\tif (hook.type) type = hook.type\n\t\t\t\tif (hook.unbind && hook.unbind(el, type) === false)\n\t\t\t\t\treturn\n\t\t\t}\n\t\t\tunbindDispatcher(el, type)\n\t\t}\n\t},\n\tonce(type, fn, scope) {\n\t\tassert.fn(fn, 'Invalid Event Listener')\n\n\t\tconst el = this.el,\n\t\t\tbinding = fn[DEFAULT_FN_BINDING],\n\t\t\tself = this\n\n\t\tif (binding) proxy[DEFAULT_FN_BINDING] = binding\n\n\t\tthis.on(type, proxy, scope)\n\n\t\tif (!binding) fn[DEFAULT_FN_BINDING] = cb[DEFAULT_FN_BINDING]\n\n\t\tfunction proxy() {\n\t\t\tapplyScope(fn, this, arguments)\n\t\t\tself.un(type, proxy, scope)\n\t\t}\n\t}\n}\n\nEventMixin[MIXIN_ADD_LISTEN] = function (type, fn, scope) {\n\tconst events = this[MIXIN_EVENTS],\n\t\tlistens = events[type] || (events[type] = new FnList())\n\treturn listens.add(fn, scope)\n}\n\nEventMixin[MIXIN_DEL_LISTEN] = function (type, fn, scope) {\n\tconst events = this[MIXIN_EVENTS],\n\t\tlistens = events[type]\n\treturn listens && listens.remove(fn, scope)\n}\n\nEventMixin[MIXIN_EMIT_LISTEN] = function (type, event) {\n\tconst events = this[MIXIN_EVENTS],\n\t\tlistens = events[type]\n\tif (listens && listens.size()) {\n\t\tif (!event.$hookEvent) {\n\t\t\tevent = packEvent(type, event)\n\t\t\tconst target = event.target\n\t\t\tevent.targetEl = target\n\t\t\tevent.target = target[DOM_ELEMENT]\n\t\t}\n\t\tevent.current = this\n\t\tevent[IS_IMMEDIATE_PROPAGATION_STOPPED] = false\n\t\tlistens.each((fn, scope) => {\n\t\t\treturn fn.call(scope || this, event, this) !== false &&\n\t\t\t\t!event[IS_IMMEDIATE_PROPAGATION_STOPPED]\n\t\t})\n\t}\n\treturn event\n}\n\nexport default EventMixin\n\nexport function addDomEventHook() {\n\treturn applyNoScope(addHook, arguments)\n}\n\nconst ORIGINAL_EVENT = 'originalEvent',\n\tRETURN_VALUE = 'returnValue',\n\tGET_PREVENT_DEFAULT = 'getPreventDefault',\n\tTIME_STAMP = 'timeStamp',\n\tORIGINAL_PROPS = 'originalProps',\n\tIS_IMMEDIATE_PROPAGATION_STOPPED = 'isImmediatePropagationStopped',\n\tCANCEL_BUBBLE = 'cancelBubble'\n\n\n// ========================= event tool =================================\nconst addEventListener = W3C ? function (el, type, fn) {\n\t\tel[ADD_EVENT_LISTENER](type, fn, type !== 'focus' && type !== 'blur')\n\t} : function (el, type, fn) {\n\t\tel[ATTACH_EVENT]('on' + type, fn)\n\t},\n\tremoveEventListener = W3C ? function (el, type, fn) {\n\t\tel.removeEventListener(type, fn)\n\t} : function (el, type, fn) {\n\t\tel.detachEvent('on' + type, fn)\n\t}\n\n\n// ========================= bind event dispatcher =================================\n\nconst bubbleUpEvents = makeMap(\n\t'click,dblclick,keydown,keypress,keyup,mousedown,mousemove,mouseup,mouseover,' +\n\t'mouseout,wheel,mousewheel,input,beforeinput,compositionstart,compositionupdate,' +\n\t'compositionend,cut,copy,paste,beforecut,beforecopy,beforepaste,focusin,focusout,' +\n\t'DOMFocusIn,DOMFocusOut,DOMActivate,dragend,datasetchanged')\n\nif (W3C)\n\tbubbleUpEvents.change = bubbleUpEvents.select = true\n\nfunction listenEl(el) {\n\treturn bubbleUpEvents[el.type] ? ROOTELEMENT : el\n}\n\nconst DOM_DISPATCH_EVENTS = '__dispatch_events__'\n\nfunction bindDispatcher(el, type) {\n\tel = listenEl(el)\n\tconst events = el[DOM_DISPATCH_EVENTS] || (el[DOM_DISPATCH_EVENTS] = create(null)),\n\t\tnum = events[type] || 0\n\tif (!num) addEventListener(el, type, dispatch)\n\tevents[type] = num + 1\n}\n\nfunction unbindDispatcher(el, type) {\n\tel = listenEl(el)\n\tconst events = el[DOM_DISPATCH_EVENTS],\n\t\tnum = events && events[type]\n\tif (num) {\n\t\tif (num === 1)\n\t\t\tremoveEventListener(el, type, dispatch)\n\t\tevents[type] = num - 1\n\t}\n}\n\n// ========================= hook =================================\nconst keyEventReg = /^key/,\n\tCHARCODE = 'charCode',\n\tKEYCODE = 'keyCode',\n\tWHICH = 'which',\n\tkeyEventProps = ['char', 'key', CHARCODE, KEYCODE],\n\tkeyEventHook = {\n\t\tfix(event, original) {\n\t\t\tevent[ORIGINAL_PROPS](keyEventProps)\n\t\t\tif (!event[WHICH])\n\t\t\t\tevent[WHICH] = original[CHARCODE] != null ? original[CHARCODE] : original[KEYCODE]\n\t\t}\n\t},\n\tmouseEventReg = /^(?:mouse|contextmenu|drag)|click/,\n\tBUTTON = 'button',\n\tmouseEventProps = [BUTTON, BUTTON + 's', CLIENTX, CLIENTY, 'offsetX', 'offsetY', PAGEX, PAGEY, 'screenX', 'screenY', 'toElement'],\n\tmouseEventHook = {\n\t\tfix(event, original) {\n\t\t\tconst button = original[BUTTON]\n\t\t\tevent[ORIGINAL_PROPS](mouseEventProps)\n\t\t\tif (!event[PAGEX] && original[CLIENTX]) {\n\t\t\t\tvar eventDoc = event.target[OWNER_DOCUMENT] || document,\n\t\t\t\t\tdoc = eventDoc[DOCUMENT_ELEMENT],\n\t\t\t\t\tbody = eventDoc.body\n\t\t\t\tevent[PAGEX] = original[CLIENTX] + (doc && doc[SCROLL_LEFT] || body && body[SCROLL_LEFT] || 0) -\n\t\t\t\t\t(doc && doc[CLIENT_LEFT] || body && body[CLIENT_LEFT] || 0)\n\t\t\t\tevent[PAGEY] = original[CLIENTY] + (doc && doc[SCROLL_TOP] || body && body[SCROLL_TOP] || 0) -\n\t\t\t\t\t(doc && doc[CLIENT_TOP] || body && body[CLIENT_TOP] || 0)\n\t\t\t}\n\t\t\tif (!event[WHICH] && button !== undefined)\n\t\t\t\tevent[WHICH] = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)))\n\t\t}\n\t}\n\nlet last = 0\nconst moveEventReg = /move|scroll/\n\nfunction dispatch(event) {\n\tlet type = event.type,\n\t\ttarget = eventTarget(event)\n\n\ttype = hookRevice(type) || type\n\tif (moveEventReg.test(type)) {\n\t\tvar now = new Date()\n\t\tif (now - last < 16) return\n\t\tlast = now\n\t}\n\tlet elem\n\tif (target[DISABLED] !== true || type !== 'click') {\n\t\tif (bubbleUpEvents[type]) {\n\t\t\tdo {\n\t\t\t\tif (elem = target[DOM_ELEMENT])\n\t\t\t\t\tevent = elem[MIXIN_EMIT_LISTEN](type, event)\n\t\t\t\ttarget = target[PARENT_NODE]\n\t\t\t} while (target && !event[CANCEL_BUBBLE])\n\t\t} else {\n\t\t\telem = target[DOM_ELEMENT]\n\t\t\tif (elem) elem[MIXIN_EMIT_LISTEN](type, event)\n\t\t}\n\t}\n}\n\nfunction packEvent(type, originalEvent) {\n\tconst event = new Event(originalEvent, type)\n\tlet hook = getHook(type)\n\tif (!hook) {\n\t\tif (mouseEventReg.test(type)) {\n\t\t\thook = mouseEventHook\n\t\t} else if (keyEventReg.test(type)) {\n\t\t\thook = keyEventHook\n\t\t} else {\n\t\t\thook = {}\n\t\t}\n\t\thook = addHook(type, hook)\n\t}\n\thook.fix && hook.fix(event, originalEvent)\n\treturn event\n}\n\n// ========================= Event =================================\nfunction eventTarget(event) {\n\tconst target = event.target || event.srcElement || document\n\treturn target.nodeType == 3 ? target[PARENT_NODE] : target\n}\n\n\nconst eventProps = 'altKey,bubbles,cancelable,ctrlKey,eventPhase,metaKey,shiftKey,view'.split(',')\n\t.concat(RELATED_TARGET, PROPERTY_NAME, WHICH, CURRENT_TARGET)\n\n\nfunction Event(event, type) {\n\tthis.type = type || event.type\n\tthis[ORIGINAL_EVENT] = event\n\tthis.target = eventTarget(event)\n\tthis[RETURN_VALUE] = !(event.defaultPrevented || event[RETURN_VALUE] === false || (event[GET_PREVENT_DEFAULT] && event[GET_PREVENT_DEFAULT]()))\n\tthis[TIME_STAMP] = event[TIME_STAMP] || new Date().getTime()\n\tthis[ORIGINAL_PROPS](eventProps)\n}\n\nconst EventProto = Event.prototype\nEventProto.$hookEvent = true\nEventProto[ORIGINAL_PROPS] = function (props) {\n\tconst e = this[ORIGINAL_EVENT]\n\tfor (var i = 0, l = props.length; i < l; i++) {\n\t\tthis[props[i]] = e[props[i]]\n\t}\n}\n\nEventProto[PREVENT_DEFAULT] = function () {\n\tconst e = this[ORIGINAL_EVENT]\n\tthis[RETURN_VALUE] = false\n\te[RETURN_VALUE] = false\n\te[PREVENT_DEFAULT] && e[PREVENT_DEFAULT]()\n}\n\nEventProto[STOP_PROPAGATION] = function () {\n\tconst e = this[ORIGINAL_EVENT]\n\tthis[CANCEL_BUBBLE] = true\n\te[CANCEL_BUBBLE] = true\n\te[STOP_PROPAGATION] && e[STOP_PROPAGATION]()\n}\n\nEventProto[STOP_IMMEDIATE_PROPAGATION] = function () {\n\tconst e = this[ORIGINAL_EVENT]\n\tthis[IS_IMMEDIATE_PROPAGATION_STOPPED] = true\n\te[STOP_IMMEDIATE_PROPAGATION] && e[STOP_IMMEDIATE_PROPAGATION]()\n\tthis[STOP_PROPAGATION]()\n}\n\n\n// ========================= hooks =================================\n\nconst PROPERTY_NAME = 'propertyName',\n\tRELATED_TARGET = 'relatedTarget'\n\n// firefox, chrome: mouseenter and mouseleave\nif (ROOTELEMENT.onmouseenter === undefined) {\n\tfunction fix(event) {\n\t\tlet el = event.target,\n\t\t\tt = event[RELATED_TARGET]\n\t\treturn !t || (t !== el && !(el.compareDocumentPosition(t) & 16))\n\t}\n\taddHook({\n\t\t'mouseover': {\n\t\t\ttype: 'mouseenter',\n\t\t\tfix\n\t\t},\n\t\t'mouseout': {\n\t\t\ttype: 'mouseleave',\n\t\t\tfix\n\t\t}\n\t})\n}\n\n// IE9+, W3C: animationend\nif (window.AnimationEvent) {\n\taddHook('animationend', 'AnimationEvent')\n} else if (window.WebKitAnimationEvent) {\n\taddHook('animationend', 'WebKitAnimationEvent')\n}\n\n// IE6-11, chrome: mousewheel, wheelDetla\n// IE9-11: wheel deltaY\n// firefox: DOMMouseScroll detail, wheel detlaY\n// chrome: wheel deltaY\nif (document.onmousewheel === undefined) {\n\tconst fixWheelType = document.onwheel ? 'wheel' : 'DOMMouseScroll',\n\t\tfixWheelDelta = fixWheelType === 'wheel' ? 'deltaY' : 'detail',\n\t\tWHEEL_DELTA = 'wheelDelta',\n\t\tWHEEL_DELTAY = WHEEL_DELTA + 'Y'\n\taddHook('mousewheel', {\n\t\ttype: fixWheelType,\n\t\tfix(event) {\n\t\t\tevent[WHEEL_DELTAY] = event[WHEEL_DELTA] = event[fixWheelDelta] > 0 ? -120 : 120\n\t\t\tevent[WHEEL_DELTAY] = 0\n\t\t}\n\t})\n}\n\nconst INPUT = 'input'\n\n// IE6-9: input\n// IE6-8: change\nif (document[CREATE_ELEMENT](INPUT).oninput === undefined) { // IE6-IE8: input, change\n\tdelete bubbleUpEvents[INPUT]\n\taddHook(INPUT, {\n\t\ttype: 'propertychange',\n\t\tfix(event) {\n\t\t\treturn event[PROPERTY_NAME] === 'value'\n\t\t}\n\t})\n\tlet changeEventNum = 0\n\tconst DOM_CHANGE_EVENT = '__change_event'\n\taddHook('change', {\n\t\tbind(el) {\n\t\t\tif (el.type == 'checkbox' || el.type == 'radio') {\n\t\t\t\tif (changeEventNum++ === 0)\n\t\t\t\t\taddEventListener(ROOTELEMENT, 'click', changeEventDispath)\n\t\t\t\tel[DOM_CHANGE_EVENT] = true\n\t\t\t\treturn false\n\t\t\t}\n\t\t},\n\t\tunbind(el) {\n\t\t\tif (el.type == 'checkbox' || el.type == 'radio') {\n\t\t\t\tif (--changeEventNum === 0)\n\t\t\t\t\tremoveEventListener(ROOTELEMENT, 'click', changeEventDispath)\n\t\t\t\tel[DOM_CHANGE_EVENT] = false\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t})\n\n\tfunction changeEventDispath(event) {\n\t\tconst target = eventTarget(event)\n\t\tif (target[DOM_CHANGE_EVENT])\n\t\t\tdispatch(packEvent('change', event))\n\t}\n} else if (IE9) { // IE9: input\n\tconst OLD_VALUE = 'oldValue'\n\taddHook(INPUT, {\n\t\tfix(event) {\n\t\t\tconst el = event.target\n\t\t\tel[OLD_VALUE] = el.value\n\t\t}\n\t})\n\n\t// http://stackoverflow.com/questions/6382389/oninput-in-ie9-doesnt-fire-when-we-hit-backspace-del-do-cut\n\taddEventListener('selectionchange', function (event) {\n\t\tvar actEl = document.activeElement\n\t\tswitch (actEl.tagName) {\n\t\tcase 'INPUT':\n\t\t\tif (actEl.type !== 'text') return\n\t\tcase 'TEXTAREA':\n\t\t\tif (actEl.value !== actEl[OLD_VALUE]) {\n\t\t\t\tactEl[OLD_VALUE] = actEl.value\n\t\t\t\tdispatch(packEvent(INPUT, event))\n\t\t\t}\n\t\t}\n\t})\n}\n","/*\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-25 17:47:25\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-31 18:36:56\n */\nimport { assert } from 'devlevel'\nimport { VElement } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport ElementMixin from './ElementMixin'\nimport ElementAttrMixin from './ElementAttrMixin'\nimport ElementClassMixin from './ElementClassMixin'\nimport ElementStyleMixin from './ElementStyleMixin'\nimport ElementValueMixin from './ElementValueMixin'\nimport ElementEventMixin from './ElementEventMixin'\nimport { inherit } from '../helper'\n\n\nexport default inherit(function Element(comp, option) {\n\t\tVElement.call(this, comp, option)\n\t}, VElement, HTMLMixin(VElement), ElementMixin,\n\tElementAttrMixin, ElementClassMixin,\n\tElementStyleMixin, ElementValueMixin, ElementEventMixin)\n","import { VComplexElement } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport ElementMixin from './ElementMixin'\nimport ElementAttrMixin from './ElementAttrMixin'\nimport ElementClassMixin from './ElementClassMixin'\nimport ElementStyleMixin from './ElementStyleMixin'\nimport ElementValueMixin from './ElementValueMixin'\nimport ElementEventMixin from './ElementEventMixin'\nimport { DIV, PARENT_NODE, APPEND_CHILD, REPLACE_CHILD, INNER_HTML } from './util/util'\nimport { inherit, isStr } from '../helper'\nimport { PROTOTYPE } from '../helper/constants'\n\nconst { append, appendAll, prepend, insertBefore, insertAfter, replace } = VComplexElement[PROTOTYPE]\n\nconst __TEXT_CONTENT = 'textContent'\nconst TEXT_CONTENT = isStr(DIV[__TEXT_CONTENT]) ? __TEXT_CONTENT : 'innerText'\n\nexport default inherit(function ComplexElement(comp, option) {\n\t\tVComplexElement.call(this, comp, option)\n\t}, VComplexElement, HTMLMixin(VComplexElement), ElementMixin,\n\tElementAttrMixin, ElementClassMixin,\n\tElementStyleMixin, ElementValueMixin, ElementEventMixin, {\n\t\t$htmlComplexElement: true,\n\t\t$childKey: '$htmlNode',\n\t\t$childName: 'HTML Virtual Node',\n\t\tinitChild(child) {\n\t\t\tthis.el[APPEND_CHILD](child.el)\n\t\t},\n\t\thtml(html) {\n\t\t\tconst el = this.el\n\t\t\tif (arguments.length) {\n\t\t\t\tel[INNER_HTML] = html\n\t\t\t\treturn this\n\t\t\t}\n\t\t\treturn el[INNER_HTML]\n\t\t},\n\t\ttext(text) {\n\t\t\tconst el = this.el\n\t\t\tif (arguments.length) {\n\t\t\t\tel[TEXT_CONTENT] = text\n\t\t\t\treturn this\n\t\t\t}\n\t\t\treturn el[TEXT_CONTENT]\n\t\t},\n\t\tappend(node) {\n\t\t\tappend.call(this, node)\n\t\t\tthis.el[APPEND_CHILD](node.el)\n\t\t\treturn this\n\t\t},\n\t\tprepend(node) {\n\t\t\tprepend.call(this, node)\n\t\t\tprependChild(this.el, node.el)\n\t\t\treturn this\n\t\t},\n\t\tinsertBefore(node, target) {\n\t\t\tinsertBefore.call(this, node, target)\n\t\t\tdoInsertBefore(node.el, target.el)\n\t\t\treturn this\n\t\t},\n\t\tinsertAfter(node, target) {\n\t\t\tinsertAfter.call(this, node, target)\n\t\t\tdoInsertAfter(node.el, target.el)\n\t\t\treturn this\n\t\t},\n\t\treplace(node, target) {\n\t\t\treplace.call(this, node, target)\n\t\t\ttarget.el[PARENT_NODE][REPLACE_CHILD](node.el, target.el)\n\t\t\treturn this\n\t\t}\n\t})\n","import { Compontent } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport { inherit } from '../helper'\n\nexport default inherit(function HTMLCompontent(option) {\n\tCompontent.call(this, option)\n}, Compontent, {\n\t$htmlComp: true\n})\n","import { VComment, registerVComment } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport { inherit } from '../helper'\n\nexport default registerVComment(inherit(function Comment(comment) {\n\tVComment.call(this, comment)\n\tthis.el = document.createComment(comment)\n}, VComment, HTMLMixin(VComment), {\n\t$htmlComment: true\n}))\n","import { VText, VBindingText, registerVText, registerVBindingText } from '../vnode'\nimport HTMLMixin from './HTMLMixin'\nimport { inherit } from '../helper'\n\nconst TextMixin = {\n\tupdate(text) {\n\t\tthis.el.data = text\n\t}\n}\n\nexport const HTMLText = registerVText(inherit(function Text(comp, text) {\n\tVText.call(this, comp, text)\n\tthis.el = textNode(text)\n}, VText, HTMLMixin(VText), TextMixin))\n\nexport const HTMLBindingText = registerVBindingText(inherit(function BindingText(comp, expr) {\n\tVBindingText.call(this, comp, expr)\n\tthis.el = textNode('')\n}, VBindingText, HTMLMixin(VBindingText), TextMixin))\n\nfunction textNode(text) {\n\treturn document.createTextNode(text)\n}\n","/*\n *\n * Void elements:\n *      area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr\n *\n * The template elements\n *      template\n *\n * Raw text elements\n *      script, style\n *\n * escapable raw text elements\n *      textarea, title\n *\n * Normal elements\n *      All other allowed HTML elements are normal elements.\n *\n *      Main root:               html\n *      Document metadata:       link, meta, style, title\n *      Sectioning root:         body\n *      Content sectioning:      address, article, aside, footer, header, h1, h2, h3, h4, h5, h6, hgroup, nav, section\n *      Text content:            blockquote, dd, dir, div, dl, dt, figcaption, figure, hr, li, main, ol, p, pre, ul\n *      Inline text semantics:   a, abbr, b, bdi, bdo, br, cite, code, data, dfn, em, i, kbd, mark, nobr, q, rp,\n *                               rt, rtc, ruby, s, samp, small, span, strong, sub, sup, time, tt, u, var, wbr\n *      Image and multimedia:    area, audio, img, map, track, video\n *      Embedded content:        applet, embed, iframe, noembed, object, param, picture, source\n *      Scripting:               canvas, noscript, script\n *      Demarcating edits:       del, ins\n *      Table content:           caption, col, colgroup, table, tbody, td, tfoot, th, thead, tr\n *      Forms:                   button, datalist, fieldset, form, input, label, legend, meter,\n *                               optgroup, option, output, progress, select, textarea\n *      Interactive elements:    details, dialog, menu, menuitem, summary\n *      Web Components:          content, element, shadow, slot, template\n *\n *      Obsolete and deprecated elements:\n *           acronym, applet, basefont, bgsound, big, blink, center, command, content, dir, element,\n *           font, frame, frameset, image, isindex, keygen, listing, marquee, menuitem, multicol, nextid,\n *           nobr, noembed, noframes, plaintext, shadow, spacer, strike, tt, xmp\n *\n * Foreign elements\n *      Elements from the MathML namespace and the SVG namespace.\n *\n *      SVG:\n *          https://developer.mozilla.org/en-US/docs/Web/SVG/Element\n *\n *      MathML:\n *          https://developer.mozilla.org/en-US/docs/Web/MathML/Element\n *\n * links:\n *      https://www.w3.org/TR/html5/syntax.html#writing-html-documents\n *      https://developer.mozilla.org/my/docs/Web/HTML/Element\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-25 18:55:34\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-27 14:29:35\n */\nimport { registerVElement } from '../vnode'\nimport Element from './Element'\nimport ComplexElement from './ComplexElement'\nimport { inherit, createClass } from '../helper';\n\nregister(Element, 'area,br,col,embed,hr,img,input,param,source,track,wbr')\n\nregister(ComplexElement, 'address,article,aside,footer,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n\t'blockquote,dd,dir,div,dl,dt,figcaption,figure,li,main,ol,p,pre,ul,a,abbr,b,bdi,bdo,cite,code,data,dfn,em,i,kbd,' +\n\t'mark,nobr,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,tt,u,var,audio,map,video,applet,iframe,' +\n\t'noembed,object,picture,canvas,noscript,del,ins,caption,colgroup,table,tbody,td,tfoot,th,thead,tr,' +\n\t'button,datalist,fieldset,form,label,legend,meter,optgroup,option,output,progress,select,details,' +\n\t'dialog,menu,menuitem,summary,content,element,shadow,slot')\n\nregister(ComplexElement, 'template')\nregister(ComplexElement, 'textarea')\nregister(ComplexElement, 'script')\nregister(ComplexElement, 'style')\nregister(ComplexElement, 'link,meta,base')\nregister(ComplexElement, 'title')\n\nfunction register(Element, tags) {\n\ttags = tags.split(',')\n\tfor (let i = 0, l = tags.length; i < l; i++) {\n\t\tregisterVElement(tags[i], createClass({\n\t\t\textend: Element,\n\t\t\tname: Element.name,\n\t\t\ttagName: tags[i]\n\t\t}))\n\t}\n}\n","/*\n * Dom Event Expression\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 16:46:41\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-04 17:04:17\n */\nimport { assert } from 'devlevel'\nimport { Expression } from '../../Expression'\nimport { VNodeKeyword, identityHandler } from '../../vnode/expression/identityHandler'\nimport { parsePath } from '../../common'\nimport { create, inherit, isFn } from '../../helper'\n\nexport const eventFilters = create(null)\n\nexport const EventKeyword = '$event'\n\nfunction eventIdentityHandler(prefix, identity, opt) {\n\tidentity = parsePath(identity)\n\tif (identity[0] !== EventKeyword)\n\t\treturn doIdentityHandler(prefix, identity, opt)\n}\n\nconst paramNames = [VNodeKeyword, EventKeyword]\nexport function EventExpression(code, eventFilters, keywords) {\n\tExpression.call(this, code, paramNames, eventIdentityHandler, this.parseFilter.bind(this), keywords)\n\tthis.eventFilters = eventFilters\n}\n\nfunction doFilter(filter, args) {\n\treturn filter(args[1], args)\n}\ninherit(EventExpression, Expression, {\n\ttransformValue(scope, args) {\n\t\treturn this.transform(this.execute(scope, args), scope, args)\n\t},\n\tfilter(scope, args) {\n\t\treturn this.eachFilter(doFilter, scope, args) !== false\n\t},\n\tparseFilter(name) {\n\t\tconst localFilters = this.eventFilters\n\t\tconst filter = (localFilters && localFilters[name]) || eventFilters[name]\n\n\t\tassert(filter, `EventFilter[${name}] is undefined`)\n\n\t\tassert(isFn(filter),\n\t\t\t`Invalid EventFilter[${name}] on ${(localFilters && localFilters[name]) ? 'Local':'Global'} EventFilters`)\n\t\treturn filter\n\t}\n})\n","/*\n * Dom Event Filters\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 18:15:02\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-05 15:30:40\n */\nimport { assert } from 'devlevel'\nimport { eventFilters } from './EventExpression'\nimport { create, makeMap, applyNoScope, isStr, isArray, isInt } from '../../helper'\nimport { STOP_PROPAGATION } from '../util/util'\n\nexport const keyCodes = {\n\tesc: 27,\n\ttab: 9,\n\tenter: 13,\n\tspace: 32,\n\t'delete': [8, 46],\n\tup: 38,\n\tleft: 37,\n\tright: 39,\n\tdown: 40\n}\n\neventFilters.key = function (e, param) {\n\tconst which = e.which,\n\t\tcodes = param.get(),\n\t\tl = codes.length\n\n\tif (!l) return true\n\n\tfor (var i = 0, code, key, j, m; i < l; i++) {\n\t\tcode = codes[i]\n\t\tif (isStr(code)) {\n\t\t\tkey = code\n\t\t\tcode = +code\n\t\t\tif (isNaN(code)) { // key code\n\t\t\t\tcode = keyCodes[key]\n\t\t\t\tassert(isInt(code) || isArray(code), `Invalid Key Code[${key}]`)\n\t\t\t\tif (isArray(code)) { // multi code\n\t\t\t\t\tfor (j = 0, m = code.length; j < m; j++)\n\t\t\t\t\t\tif (which === code[j])\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (which === code)\n\t\t\treturn true\n\t}\n\treturn false\n}\n\neventFilters.stop = function (e) {\n\te[STOP_PROPAGATION]()\n}\n\neventFilters.prevent = function (e) {\n\te.preventDefault()\n}\n\neventFilters.self = function (e) {\n\treturn e.target === e.currentTarget\n}\n","/*\n * Dom Expression\n *\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 18:32:15\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-20 18:35:02\n */\nexport * from './EventExpression'\nexport * from './eventFilters'\n","import { Directive } from '../../vnode'\nimport { isFn, inherit } from '../../helper'\nimport { EventExpression } from '../expression'\n\nexport default inherit(function DomDirective(node, expr, params) {\n\tDirective.call(this, node, params)\n}, Directive, {\n\t$nodeKey: '$htmlElement',\n\t$nodeName: 'HTML Virtual Element',\n})\n","import { assert } from 'devlevel'\nimport DomDirective from './DomDirective'\nimport { isFn, inherit, isNil } from '../../helper'\nimport { TransformExpression } from '../../vnode'\n\nexport default inherit(function ExpressionDirective(node, params) {\n\tDomDirective.call(this, node, params)\n\tthis.expr = params.expr\n}, DomDirective, {\n\tprepare(params) {\n\t\tparams.expr = new TransformExpression(params.value)\n\t},\n\trealValue() {\n\t\treturn this.expr.value(this.comp, [this.node])\n\t},\n\tvalue() {\n\t\treturn this.expr.transformValue(this.comp, [this.node])\n\t},\n\ttransform(value) {\n\t\treturn this.expr.transform(value, this.comp, [this.node])\n\t},\n\tblankValue(value) {\n\t\tif (!arguments.length) value = this.value()\n\t\treturn isNil(value) ? '' : value\n\t},\n\tobserveHandler(path, value) {\n\t\tthis.update(this.expr.simple ? this.transform(value) : this.value())\n\t},\n\tbind() {\n\t\tthis.observeExpr(this.expr, this.observeHandler, this)\n\t\tthis.update(this.value())\n\t},\n\tunbind() {\n\t\tthis.unobserveExpr(this.expr, this.observeHandler, this)\n\t},\n\tupdate(value) {\n\t\tthrow new Error(`abstract method`)\n\t}\n})\n","import { assert } from 'devlevel'\nimport DomDirective from './DomDirective'\nimport { isFn, inherit } from '../../helper'\nimport { EventExpression } from '../expression'\nimport { STOP_PROPAGATION } from '../util/util'\n\nexport default inherit(function EventDirective(node, expr, params) {\n\tDomDirective.call(this, node, params)\n\tthis.expr = params.expr\n}, DomDirective, {\n\tprepare(params) {\n\t\tparams.expr = new EventExpression(params.value)\n\t},\n\thandler(e) {\n\t\tconst expr = this.expr,\n\t\t\tcomp = this.comp,\n\t\t\tnode = this.node,\n\t\t\targs = [node, e]\n\n\t\te[STOP_PROPAGATION]()\n\n\t\tif (expr.filter(comp, args)) {\n\t\t\tconst ret = expr.value(comp, args)\n\t\t\tif (isFn(ret)) {\n\t\t\t\tret.call(comp, e, node)\n\t\t\t} else {\n\t\t\t\tassert(!expr.sample, `Invalid Event Handler: ${this.params.value}`)\n\t\t\t}\n\t\t}\n\t},\n\tbind() {\n\t\tconst node = this.node,\n\t\t\thandler = this.handler,\n\t\t\ttype = this.eventType\n\t\tif (type.push) {\n\t\t\tfor (var i = 0; i < type.length; i++)\n\t\t\t\tnode.on(type[i], handler, this)\n\t\t} else {\n\t\t\tnode.on(type, handler, this)\n\t\t}\n\t},\n\tunbind() {\n\t\tconst node = this.node,\n\t\t\thandler = this.handler,\n\t\t\ttype = this.eventType\n\t\tif (type.push) {\n\t\t\tfor (var i = 0; i < type.length; i++)\n\t\t\t\tnode.un(type[i], handler, this)\n\t\t} else {\n\t\t\tnode.un(type, handler, this)\n\t\t}\n\t}\n})\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 19:54:12\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-08-27 15:26:30\n */\nimport EventDirective from './EventDirective'\nimport { registerDirective } from '../../vnode'\nimport { array2obj, map, upperFirst, isStr } from '../../helper'\n\nexport default array2obj(map(\n\t[\n\t\t'blur', 'change', 'click', 'dblclick', 'error', 'focus', 'keydown', 'keypress', 'keyup',\n\t\t'load', 'mousedown', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'resize', 'scroll',\n\t\t'select', 'submit', 'unload',\n\t\t{\n\t\t\teventName: 'input',\n\t\t\teventType: ['input', 'propertychange']\n\t\t}\n\t], event => {\n\t\tif (isStr(event)) event = { eventName: event, eventType: event }\n\t\tevent.extend = EventDirective\n\t\tevent.name = upperFirst(event.eventName) + 'EventDirective'\n\t\treturn registerDirective('on' + event.eventName, event)\n\t}), directive => directive.name)\n","/*\n * @Author: tao.zeng (tao.zeng.zt@gmail.com)\n * @Date: 2018-08-20 19:53:22\n * @Last Modified by: tao.zeng (tao.zeng.zt@gmail.com)\n * @Last Modified time: 2018-09-05 15:29:52\n */\nimport { assert } from 'devlevel'\nimport ExpressionDirective from './ExpressionDirective'\nimport { registerDirective } from '../../vnode'\nimport { isStr, upperFirst, isObj, assignBy, create, isArray, eachObj, isArrayLike } from '../../helper'\nimport { PROTOTYPE } from '../../helper/constants'\nimport { STOP_PROPAGATION } from '../util/util'\n\nconst DISPLAY = 'display',\n\tNONE = 'none'\neachObj({\n\t// ================ text =================\n\ttext: {\n\t\tupdate(value) {\n\t\t\tthis.node.text(this.blankValue(value))\n\t\t}\n\t},\n\t// ================ html =================\n\thtml: {\n\t\tupdate(value) {\n\t\t\tthis.node.html(this.blankValue(value))\n\t\t}\n\t},\n\t// ================ show =================\n\tshow: {\n\t\tupdate(value) {\n\t\t\tthis.node.css(DISPLAY, value ? '' : NONE)\n\t\t}\n\t},\n\t// ================ hide =================\n\thide: {\n\t\tupdate(value) {\n\t\t\tthis.node.css(DISPLAY, value ? NONE : '')\n\t\t}\n\t},\n\t// ================ focus =================\n\tfocus: {\n\t\tupdate(value) {\n\t\t\tif (value) this.node.focus()\n\t\t}\n\t},\n\t// ================ value (input/textarea/select/option) =================\n\tvalue: {\n\t\tupdate(value) {\n\t\t\tthis.node.value(this.blankValue(value))\n\t\t}\n\t},\n\t// ================ checked (radio/checkbox) =================\n\tchecked: {\n\t\tupdate(value) {\n\t\t\tconst node = this.node\n\t\t\tnode.checked(boolVal(node.value(), value))\n\t\t}\n\t},\n\t// ================ selected (option) =================\n\tselected: {\n\t\tupdate(value) {\n\t\t\tconst node = this.node\n\t\t\tnode.selected(boolVal(node.value(), value))\n\t\t}\n\t},\n\t// ================ class =================\n\t'class': {\n\t\tupdate(value) {\n\t\t\tif (isStr(value)) value = trim(value).split(/\\s+/g)\n\n\t\t\tconst cache = create(null),\n\t\t\t\toldCache = this.cache\n\t\t\tif (oldCache) {\n\t\t\t\tfor (var k in oldCache)\n\t\t\t\t\tif (oldCache[k] === true)\n\t\t\t\t\t\tcache[k] = false\n\t\t\t}\n\t\t\tif (isArrayLike(value)) {\n\t\t\t\tvar i = value.length\n\t\t\t\twhile (i--) cache[value[i]] = true\n\t\t\t} else if (value) {\n\t\t\t\tfor (var k in value)\n\t\t\t\t\tif (value[k] === true) cache[k] = true\n\t\t\t}\n\t\t\tthis.cache = cache\n\t\t\tthis.node.margeClass(cache)\n\t\t}\n\t},\n\t// =================== style =======================\n\tstyle: {\n\t\tupdate(value) {\n\t\t\tlet ncsses\n\t\t\tif (typeof value === 'string' && (value = trim(value))) {\n\t\t\t\tvar split = value.split(styleSplitReg)\n\t\t\t\tncsses = {}\n\t\t\t\tfor (var i = 0, l = split.length, s; i < l; i++) {\n\t\t\t\t\ts = split[i].split(cssSplitReg)\n\t\t\t\t\tncsses[s[0]] = s[1]\n\t\t\t\t}\n\t\t\t} else if (isObj(value)) {\n\t\t\t\tncsses = value\n\t\t\t}\n\t\t\tlet csses = this.csses\n\t\t\tif (csses) {\n\t\t\t\tif (ncsses) {\n\t\t\t\t\tfor (var name in csses)\n\t\t\t\t\t\tif (!ncsses[name])\n\t\t\t\t\t\t\tcss(el, name, '')\n\t\t\t\t} else {\n\t\t\t\t\tfor (var name in csses)\n\t\t\t\t\t\tcss(el, name, '')\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.csses = ncsses\n\t\t\tif (ncsses) {\n\t\t\t\tfor (var name in ncsses)\n\t\t\t\t\tcss(el, name, ncsses[name])\n\t\t\t}\n\t\t}\n\t}\n}, (directive, name) => {\n\t__register(name, directive)\n})\n\nfunction __register(name, directive) {\n\tdirective.extend = ExpressionDirective\n\tdirective.name = upperFirst(name) + 'Directive'\n\tregisterDirective(name, directive)\n}\n\n// ================================= input =======================\nconst EVENT_CHANGE = 'change',\n\tEVENT_INPUT = 'input',\n\tEVENT_CLICK = 'click',\n\tSELECT = 'select',\n\tOPTION = 'option',\n\tTEXTAREA = 'textarea',\n\tINPUT = 'input',\n\tINPUT_RADIO = 'radio',\n\tINPUT_CHECKBOX = 'checkbox'\n\nconst { prepare, bind, unbind } = ExpressionDirective[PROTOTYPE]\n\n__register('input', {\n\tprepare(params, D) {\n\t\tprepare.call(this, params, D)\n\t\tparams.expr.checkRestore()\n\t},\n\tconstructor(node, params) {\n\t\tExpressionDirective.call(this, node, params)\n\n\t\tassert(this.expr.simple, `Invalid Expression[${params.value}] on directive[input]`)\n\n\t\tlet type = node.tagName,\n\t\t\tevent = EVENT_CHANGE,\n\t\t\tdomValue = this.elemValue\n\t\tswitch (type) {\n\t\tcase INPUT:\n\t\t\tswitch (node.el.type) {\n\t\t\tcase INPUT_RADIO:\n\t\t\tcase INPUT_CHECKBOX:\n\t\t\t\ttype = itype\n\t\t\t\tdomValue = this.checkedValue\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tevent = EVENT_INPUT\n\t\t\t}\n\t\t\tbreak\n\t\tcase TEXTAREA:\n\t\t\tevent = EVENT_INPUT\n\t\t\tbreak\n\t\tcase SELECT:\n\t\t\tbreak\n\t\tdefault:\n\t\t\tthrow new TypeError(`<${type}> not support Directive[input], should be <input | textarea | select>`)\n\t\t}\n\t\tthis.type = type\n\t\tthis.event = event\n\t\tthis.domValue = domValue\n\t},\n\tupdate(value) {\n\t\tthis.node.value(this.blankValue(value))\n\t},\n\telemValue(value) {\n\t\tconst node = this.node\n\t\tif (arguments.length === 0)\n\t\t\treturn node.value()\n\t\tnode.value(value)\n\t},\n\tcheckedValue(value) {\n\t\tconst node = this.node\n\t\tif (arguments.length === 0)\n\t\t\treturn node.checked() ? node.value() : undefined\n\t\tnode.checked(value == node.value())\n\t},\n\tonChange(e) {\n\t\tconst expr = this.expr\n\t\tthis.comp.set(expr.simple, expr.restore(this.domValue(), this.comp, [this.node]))\n\t\te[STOP_PROPAGATION]()\n\t},\n\tbind() {\n\t\tbind.call(this)\n\t\tthis.node.on(this.event, this.onChange, this)\n\t},\n\tunbind() {\n\t\tthis.node.un(this.event, this.onChange, this)\n\t\tunbind.call(this)\n\t}\n})\n\nfunction boolVal(elValue, value) {\n\tif (isArray(value)) {\n\t\tvar i = value.length\n\t\twhile (i--)\n\t\t\tif (value[i] === elValue)\n\t\t\t\treturn true\n\t\treturn false\n\t} else if (isStr(value)) {\n\t\treturn value === elValue\n\t} else if (isObj(value)) {\n\t\treturn !!value[elValue]\n\t}\n\treturn !!value\n}\n","import { assert } from 'devlevel'\nimport { match, and, or, any, option, many, anyOne, UNATTACH, UNCAPTURABLE } from '../common/ASTBuilder'\nimport { makeMap, reEscape } from '../helper'\nimport { escapeString } from '../common/format'\n\nconst EXPR_START = '{',\n\tEXPR_END = '}'\n\nconst AutoCloseElems = makeMap('input'),\n\tContentElems = makeMap('textarea')\n\nconst EXPR_START_LEN = EXPR_START.length,\n\tEXPR_END_LEN = EXPR_END.length\n\nconst EXPR_KEY_WORDS = `\"'\\`[{`\n\nconst EXPR_KEYS = match(EXPR_KEY_WORDS.split(''), UNATTACH),\n\tEXPR_STR = match(/\"(?:[^\\\\\"\\n]|\\\\.)*\"|'(?:[^\\\\'\\n]|\\\\.)*'|`(?:[^\\\\`]|\\\\.)*`/, false, `'\"\\``, UNATTACH),\n\tExprObject = and('ExprObject', () => [\n\t\t'{',\n\t\tanyOne('ObjBody', [\n\t\t\tEXPR_STR, // match by \"'`\n\t\t\tExprObject, // match by {\n\t\t\tExprArray, // match by ]\n\t\t\tEXPR_KEYS, // consume start char when EXPR_STR | ExprObject | ExprArray match failed\n\t\t\tnew RegExp(`[^${reEscape(EXPR_KEY_WORDS+'}')}]+`) // consume chars which before start codes of EXPR_STR | ExprObject | ExprArray and \"}\"\n\t\t], UNATTACH),\n\t\t'}'\n\t], UNATTACH),\n\tExprArray = and('ExprArray', () => [\n\t\t'[',\n\t\tanyOne('ArrayBody', [\n\t\t\tEXPR_STR,\n\t\t\tExprObject,\n\t\t\tExprArray,\n\t\t\tEXPR_KEYS,\n\t\t\tnew RegExp(`[^${reEscape(EXPR_KEY_WORDS+']')}]+`)\n\t\t], UNATTACH),\n\t\t']'\n\t]),\n\tExpr = and('Expr', [\n\t\t\t['ExprStart', EXPR_START, attachOffset],\n\t\t\tanyOne('ExprBody', [\n\t\t\t\tEXPR_STR,\n\t\t\t\tExprObject,\n\t\t\t\tExprArray,\n\t\t\t\tmatch((EXPR_KEY_WORDS + EXPR_START[0]).split(''), UNATTACH),\n\t\t\t\tnew RegExp(`[^${reEscape(EXPR_KEY_WORDS + EXPR_START[0] + EXPR_END[0])}]+`)\n\t\t\t], UNATTACH),\n\t\t\t['ExprEnd', EXPR_END, attachOffset]\n\t\t],\n\t\t(d, rs, stream) => {\n\t\t\tconst content_start = d[0],\n\t\t\t\texpr_end = d[1]\n\t\t\trs.add([stream.orgbuff.substring(content_start, expr_end - EXPR_END_LEN),\n\t\t\t\tcontent_start - EXPR_START_LEN, expr_end\n\t\t\t])\n\t\t}\n\t)\n\n\nfunction createStringRule(name, mask, mline) {\n\treturn and(name, [\n\t\tmatch(mask, attachOffset),\n\t\tanyOne([\n\t\t\tExpr,\n\t\t\tEXPR_START[0], // consume expr start char when parse expr failed\n\t\t\tnew RegExp(`(?:[^\\\\\\\\${mline ? '':'\\\\n'}${mask}${reEscape(EXPR_START[0])}]|\\\\\\\\.)+`) // string fragment\n\t\t]),\n\t\tmatch(mask, attachOffset)\n\t], (d, rs, stream) => {\n\t\tconst buff = stream.orgbuff\n\t\tlet start = d[0],\n\t\t\tend = d[2] - 1,\n\t\t\texprs = d[1]\n\t\tif (exprs.length) {\n\t\t\tconst offset = start - 1\n\t\t\tvar i = 0,\n\t\t\t\tl = exprs.length,\n\t\t\t\testart\n\t\t\tconst expr = []\n\n\t\t\tfor (; i < l; i++) {\n\t\t\t\testart = exprs[i][1]\n\t\t\t\tif (start < estart)\n\t\t\t\t\texpr.push(exprStr(buff, start, estart))\n\t\t\t\texpr.push(`(${exprs[i][0]})`)\n\t\t\t\tstart = exprs[i][2]\n\t\t\t}\n\t\t\tif (start < end)\n\t\t\t\texpr.push(exprStr(buff, start, end))\n\n\t\t\trs.add(['expr', expr.join(' + '), offset, end + 1])\n\t\t} else {\n\t\t\trs.add(['string', buff.substring(start, end)])\n\t\t}\n\t})\n\n\tfunction exprStr(buff, start, end) {\n\t\treturn `\"${escapeString(buff.substring(start, end))}\"`\n\t}\n}\n\n\nconst ATTR_NAME = match('AttrName', /([@:$_a-zA-Z][\\w-\\.]*)\\s*/, 1),\n\tAttrValue = or('AttrValue', [\n\t\tcreateStringRule('SQString', \"'\"),\n\t\tcreateStringRule('DQString', '\"'),\n\t\tcreateStringRule('MString', '`', true),\n\t\tand(Expr, attachValue('expr', expr => expr[0][0])),\n\t\tmatch('Number', /-?(0|[1-9]\\d*)(\\.\\d+)?([eE][+-]?\\d+)?/, '-0123456789', attachValue('number', num => +num)),\n\t\tmatch('NaN', attachStaticValue('number', NaN)),\n\t\tmatch('undefined', attachStaticValue('undefined', undefined)),\n\t\tmatch('null', attachStaticValue('null', undefined)),\n\t\tmatch('true', attachStaticValue('boolean', true)),\n\t\tmatch('false', attachStaticValue('boolean', false))\n\t], {\n\t\tcapturable: false,\n\t\tattach(val, rs) {\n\t\t\trs.add(val[0])\n\t\t}\n\t}),\n\tAttrs = any('Attrs', [\n\t\tATTR_NAME,\n\t\toption('AttrValue', [\n\t\t\t[/=\\s*/, false, '=', UNATTACH],\n\t\t\tAttrValue,\n\t\t\t/\\s*/\n\t\t])\n\t], (d, rs) => {\n\t\tconst attrs = {}\n\t\tfor (let i = 0, l = d.length; i < l; i += 2)\n\t\t\tattrs[d[i]] = d[i + 1][0]\n\t\trs.add(attrs)\n\t})\n\nconst ELEM_NAME_REG = '[_a-zA-Z][\\\\w-]*',\n\tELEM_NAME = match('ElemName', new RegExp(`<(${ELEM_NAME_REG})\\\\s*`), 1, '<'),\n\tNodeCollection = anyOne('NodeCollection', () => [\n\t\tElem,\n\t\tand(Expr, (d, rs, stream) => {\n\t\t\trs.add({ type: 'expr', data: d[0][0] })\n\t\t}),\n\t\tmatch('<', (d, rs, stream, rule) => { //consume one char when Elem match failed\n\t\t\tif (stream.nextCode() === 47) // is close element\n\t\t\t\treturn rule.error(stream, 'expect: /<[^\\/]/', true)\n\t\t\tattachText(d, rs, stream, rule) // not element\n\t\t}),\n\t\tmatch(EXPR_START[0], attachText), // consume one char when Expr match failed\n\t\tmatch(new RegExp(`[^\\\\\\\\<${reEscape(EXPR_START[0])}]+|\\\\\\\\${reEscape(EXPR_START[0])}`), attachText)\n\t]),\n\tElem = and('Elem', [\n\t\tELEM_NAME,\n\t\tAttrs,\n\t\tor('ElemBody', [\n\t\t\tmatch(/\\/>\\s*/, false, '/', UNATTACH),\n\t\t\tand('childNodes', [\n\t\t\t\tmatch(/>/, false, '>', UNATTACH),\n\t\t\t\tNodeCollection,\n\t\t\t\toption([\n\t\t\t\t\tmatch('ElemClose', new RegExp(`<\\/(${ELEM_NAME_REG})>\\\\s*`), 1, '<')\n\t\t\t\t], (close, childNodesResult, stream) => {\n\t\t\t\t\tconst closeTag = close[0],\n\t\t\t\t\t\telemResult = childNodesResult.parent.parent,\n\t\t\t\t\t\ttag = elemResult.data[0]\n\n\t\t\t\t\tif (closeTag) {\n\t\t\t\t\t\tif (closeTag !== tag) {\n\t\t\t\t\t\t\tif (AutoCloseElems[tag]) {\n\t\t\t\t\t\t\t\tstream.reset()\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn `expect: </${tag}>`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (!AutoCloseElems[tag]) {\n\t\t\t\t\t\treturn `expect: </${tag}>`\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t])\n\t\t])\n\t], (d, rs) => {\n\t\tconst tag = d[0],\n\t\t\tchildren = d[2][0] && d[2][0][0],\n\t\t\telem = { type: 'elem', tag, attrs: d[1], children }\n\n\t\trs.add(elem)\n\n\t\tif (children && AutoCloseElems[tag]) {\n\t\t\trs.addAll(children)\n\t\t\tchildren.length = 0\n\t\t}\n\t})\n\n\nfunction attachText(text, rs) {\n\tconst data = rs.data,\n\t\tlen = data.length\n\tlet prev\n\tif (len && (prev = data[len - 1]) && prev.type === 'text') {\n\t\tprev.data += text\n\t} else {\n\t\trs.add({ type: 'text', data: text })\n\t}\n}\n\nconst ElemContent = and('Elem-Content', [\n\t/\\s*/,\n\tmany(Elem),\n\tmatch('EOF', /\\s*$/, UNATTACH)\n], (d, rs) => {\n\trs.addAll(d[0])\n}).init()\n\nexport default ElemContent\n\nfunction attachValue(type, valHandler) {\n\treturn function (value, rs) {\n\t\trs.add([type, valHandler(value)])\n\t}\n}\n\nfunction attachStaticValue(type, val) {\n\treturn attachValue(type, v => v)\n}\n\nfunction attachOffset(d, rs, stream) {\n\trs.add(stream.orgOffset())\n}\n"],"names":["__global","window","global","CONSTRUCTOR","PROTOTYPE","PROTO","BOOL","FN","NUM","STR","eq","o1","o2","isNull","o","isUndef","undefined","isNil","isFn","fn","is","Type","c","Array","i","l","length","Object","isObj","C","mkIs","isBool","Boolean","isNum","Number","isStr","String","isDate","Date","isReg","RegExp","isArray","isInt","parseInt","valueOf","isTypedArray","ArrayBuffer","isView","isArrayLike","NodeList","HTMLCollection","Int8Array","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","len","isInstOf","obj","cls","isPrimitive","blankStrReg","isBlank","test","applyBuilder","max_args","scope","offset","args","cases","slice","join","Function","applyScope","applyNoScope","applyScopeN","applyNoScopeN","apply","applyN","createFn","name","body","arguments","concat","varGenReg","fnName","replace","funcProto","bind","rs","QUERY_SELECTOR","QUERY_SELECTOR_ALL","QUERY_RESULTS","document","selector","head","documentElement","firstChild","styleTag","createElement","appendChild","styleSheet","cssText","textnode","createTextNode","scrollBy","ret","selectors","elements","trimReg","trim","str","firstLetterReg","upperHandler","m","toUpperCase","upperFirst","strval","charCode","index","charCodeAt","genCharCodes","start","end","codes","__hasOwn","hasOwnProperty","hasOwnProp","prop","call","getOwnProp","defaultVal","__getProto","getPrototypeOf","__setProto","setPrototypeOf","prototypeOfSupport","prototypeOf","proto","doCreate","parent","props","k","v","value","create","STOP","eachArray","__mkEachArrayLike","arrayValueHandler","eachStr","strValueHandler","reachArray","__mkREachArrayLike","reachStr","each","__mkEach","eachObj","reach","callback","own","key","arrayType","valueHandler","array","charAt","eachChain","SKIP","mapArray","__mkMapArrayLike","mapStr","mapObj","__mkMapObj","map","copy","j","defaultMapCallback","val","REG_ESCAPE","reEscape","s","reUnion","regexps","regStickySupport","sticky","regUnicodeSupport","unicode","array2obj","keyHandler","arrayElementHandler","dist","makeMap","split","arglen","makeArray","cached","cacheKey","cacheVal","cache","__defProp","defineProperty","defPropSupport","get","set","e","desc","assert","defProp","defPropValue","configurable","writeable","enumerable","__assign","overrides","filter","data","override","assign","__assignFilter","assignIf","__assignIfFilter","assignBy","__assignUserFilter","cb","__extend","mixins","extend","__extendFilter","mixin","extendIf","__extendIfFilter","extendBy","__extendUserFilter","__inherit","superCls","inherit","fnProto","objProto","subclassOf","target","CLASS_NAME","EXTEND","STATICS","KEYS","createClass","constructor","buildCls","keyFilter","filterArray","__mkFilter","filterStr","filterObj","findArray","__mkFind","findStr","findObj","find","rfindArray","rfindStr","rfind","indexOfArray","__mkTypeIndexOf","indexOfObj","lastIndexOfArray","indexOf","__mkIndexOf","lastIndexOf","strIndexOf","obj2array","keys","__mkKV","values","handler","DEFAULT_BINDING","List","binding","has","node","add","__insert","tail","addFirst","insertAfter","__getNode","insertBefore","addAll","objs","__insertAll","addFirstAll","insertAfterAll","insertBeforeAll","prev","__siblingObj","next","first","last","remove","scaning","lazyRemoves","push","__remove","__doLazyRemove","toArray","clean","__clean","clone","newlist","newtail","newhead","newprev","__initNode","__doInsert","list","nodeHead","nodeTail","__prev","sibling","DEFAULT_FN_BINDING","DEFAULT_SCOPE_BINDING","FnList","fnBinding","scopeBinding","nodeMap","parseScope","id","nodeId","size","DEFAULT_SCOPE_ID","scopeIdGenerator","fnIdGenerator","fnId","scopeId","ticks","pending","executeTick","flush","MutationObserver","counter","observer","textNode","observe","characterData","setTimeout","nextTick","clearTick","STR_ESCAPE_MAP","STR_ESCAPE","escapeString","pad","chr","leftAlign","padding","replacor","regs","reg","plural","singular","thousandSeparationReg","thousandSeparate","number","formatReg","_format","parseWidth","width","isFinite","parseArg","match","idx","flags","minWidth","precision","type","leftJustify","positivePrefix","zeroPad","prefixBaseX","thousandSeparation","prefix","base","isNaN","fromCharCode","toLowerCase","toFixed","toExponential","toPrecision","sf","Math","min","toString","format","count","pathCache","pathReg","escapeCharReg","parsePath","path","quote","string","formatPath","formatHandle","attr","LINE_REG","Stream","buff","orgbuff","orglen","curr","stack","enter","reset","exit","pop","commit","substring","orgOffset","upOrgOffset","nextCode","consume","position","line","lineOffset","exec","lastIndex","source","idGen","MatchResult","datas","empty","setLen","UNATTACH","UNCAPTURABLE","capturable","UNATTACH_CAPTURABLE","attach","defaultErrorMsg","err","defaultAttach","defaultRuleTest","OPTION_ATTACH","OPTION_ERROR","OPTION_CAPTURABLE","Rule","option","msg","$rule","error","stream","srcErr","$err","success","result","setExpr","expr","defName","mkExpr","EXPECT","getStart","testRuleByIndex","MatchRule","startCodes","ignoreCase","eachCharCodes","code","comsume","defaultCharMatchRuleTest","CharMatchRule","allows","chars","charMatch","RegMatchRule","regexp","pick","pattern","multiline","createRegMatchRulePolicy","R","STREAM","S_BUFF","LIDX","consumCode","pickCode","arr","StrMatchRule","regMatch","strMatch","_pattern","REG_ESPEC_CHARS","eachCharCode","ComplexRule","rules","getRules","getLazyRules","parseComplexRules","names","subNames","EXPECTS","__init","parse","errSource","pos","unshift","substr","SyntaxError","init","idStack","level","idStackPush","parseRule","rule","AndRule","andMatch","OrRule","starts","rStarts","orMatch","upErr","createRepeatRule","defType","Parent","AndRepeatRule","max","prototype","andRepeatMatch","repeat","out","OrRepeatRule","orRepeatMatch","and","buildComplexRule","or","buildRepeatRule","buildAndRepeatRule","any","many","buildOrRepeatRule","anyOne","manyOne","optionOne","repeatOne","build","defaultProps","Proxy","proxyEnabled","impl","proxy","oldValue","__write","newValue","__defineGetter__","__defineSetter__","defined","__watch","defaultPropMap","VBArray","execScript","message","bindingProp","constructorProp","objectProps","classPool","constructorScript","classNameGenerator","parseGetter","buffer","parseSetter","parseVBClass","className","getOrCreateVBClass","classKey","sort","providerName","parseVB","createProxy","vbproxy","propMap","buildProxy","funcs","func","proxyChangeable","sourceOwnProperty","__proxyChanged","doWrite","doRead","OBSERVER_KEY","ARRAY_EVENTS","ArrayProto","arrayHooks","method","newlen","arrayHookLength","hookArray","hook","policy","es6","es5","vb","info","isDefaultProp","noProxyChangeEventHandler","disableWriteEvent","Observer","bubbles","addChangedQueue","watchs","currentObserver","childObserver","allocWatchDescriptor","pathStr","errorPath","arrayPath","registerBubble","DESC_CHILDREN_INDEX","getObserver","setChildObserver","DESC_PATH_INDEX","DESC_HANDLERS_INDEX","unobserve","unwatch","isObserved","disableEvent","_set","disabled","onProxyChange","unProxyChange","DESC_CHILD_NUM_INDEX","DESC_OWNER_INDEX","DESC_OBSERVER_INDEX","DESC_ATTR_INDEX","DESC_PARENT_INDEX","DESC_CHANGED_INDEX","DESC_EVENT_INDEX","DESC_VALUE_INDEX","owner","NO_CHANGED","freeWatchDescriptor","maxLevel","unregisterBubble","descriptor","descs","changedQueue","eventQueue","flushChangedQueue","addEventQueue","bubble","observerValue","newObserver","__bubble","children","oldObserver","nextObserver","parentObserver","setSource","nextObj","isProxyEnabled","$set","_observer","$hasOwnProp","$eq","proxyListens","$getOwnProp","$eachArray","$reachArray","$each","$eachObj","$reach","$mapArray","$mapObj","$map","$filterArray","$filterObj","$filter","$findArray","$findObj","$find","$rfindArray","$rfind","$indexOfArray","$indexOfObj","$lastIndexOfArray","$indexOf","$lastIndexOf","$assign","$assignIf","$assignBy","$obj2array","$keys","$values","CHILD_NODES","PARENT","VIRT_NODE","VIRT_ELEMENT","VIRT_TEXT","VIRT_BINDING_TEXT","VIRT_COMPLEX_ELEMENT","VIRT_COMMENT","VNode","comp","$comp","prepare","mount","unmount","appendTo","$virtComplexElement","append","prependTo","prepend","insertBeforeTo","insertAfterTo","replaceTo","prevSibling","nextSibling","VText","text","update","keywords","wsReg","newlineReg","escapeReg","restoreReg","identityReg","propReg","simplePathReg","escaped","escape","escapeHandler","restore","restoreHandler","escapeStrReg","escapeStrHandler","IDENTITY_OPT_GET","IDENTITY_OPT_SET","IDENTITY_OPT_CALL","identities","identitySize","userIdentityHandler","userKeyWords","isKeyword","identityHandler","identity","optIdx","optChar","opt","makeExecutor","params","console","cleanIdentities","idents","ident","isSimpleExpr","filterSplitReg","filterParamReg","Expression","paramNames","parseFilter","codeSplit","executor","filters","shift","simple","execute","eachFilter","FilterParams","reachFilter","iter","VNodeKeyword","transforms","transformIdentityHandler","TransformExpression","transformValue","transform","checkRestore","by","localTransforms","json","param","indent","JSON","stringify","capitalize","uppercase","lowercase","unit","fmt","units","unitRestoreReg","unitMap","bytes","digit","pow","floor","log","round","splice","VBindingText","observeExpr","exprHandler","unobserveExpr","VElement","initAttrs","attrs","initDirectives","directives","g","D","Directive","$nodeKey","dname","$nodeName","__directives","unbind","VComplexElement","initChildren","$childKey","$childName","N","ename","childNodes","__children","child","initChild","mountChildHandler","unmountChildHandler","childCount","createSibling","createInsert","createInsertSibling","insert","eachChildren","Compontent","$scope","obs","$observer","$getScope","$parent","getScope","destroy","VComment","comment","$directive","registerDirective","directive","generator","VElements","tags","Text","BindingText","Comment","registerVElement","registerVText","registerVBindingText","registerVComment","elem","gen","isExpr","ADD_EVENT_LISTENER","ATTACH_EVENT","DOCUMENT_ELEMENT","DEFAULT_VIEW","PARENT_WINDOW","APPEND_CHILD","REMOVE_CHILD","INSERT_BEFORE","REPLACE_CHILD","PARENT_NODE","CONTAINS","INNER_HTML","CREATE_ELEMENT","OWNER_DOCUMENT","SET_ATTRIBUTE","GET_ATTRIBUTE","REMOVE_ATTRIBUTE","CHECKED","SELECTED","DISABLED","READ_ONLY","TAB_INDEX","HTML_FOR","CURRENT_TARGET","PREVENT_DEFAULT","STOP_PROPAGATION","STOP_IMMEDIATE_PROPAGATION","CLIENT_TOP","CLIENT_LEFT","SCROLL_LEFT","SCROLL_TOP","PAGE_XOFFSET","PAGE_YOFFSET","CLIENTX","CLIENTY","PAGEX","PAGEY","ROOTELEMENT","DIV","getWindow","el","nodeType","inDoc","root","query","querySelector","prependChild","previousSibling","$htmlNode","taget","pEl","DOM_ELEMENT","OUTER_HTML","$htmlElement","tagName","initDomEvent","outerHtml","cloneNode","html","focus","normal","__hooks","defKey","recive","hooks","revices","addHook","getHook","hookMember","member","memberHook","hookRevice","doAdd","GET_ATTRIBUTENODE","NAME","GET","SET","createHook","tabIndex","attributeNode","specified","rfocusable","nodeName","rclickable","href","tabindex","readonly","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","removeAttr","getProp","setProp","checked","propAccessor","selected","PROP","CLASS_LIST","addClass","mkClasslistUpdator","parseClassNameArray","clearClassName","removeClass","parseClassName","margeClass","adds","clears","classList","clearRegCache","removes","parseClassNameArrayByObj","W3C","dispatchEvent","IE8","XDomainRequest","IE9","navigator","userAgent","readyList","fireReady","isReady","READY_STATE","DO_SCROLL","frameElement","external","doScrollCheck","numberCss","nameHooks","getStyle","style","float","OFFSET_PARENT","GET_BOUNDING_CLIENT_RECT","FILTER","POSITION","setCss","camelize","cssHookName","css","num","parseFloat","doc","box","top","left","win","rect","clientTop","clientLeft","scrollTop","scrollLeft","p","offsetParent","getNumStyle","op","scrollTo","cssPrefixes","host","cssPrefixeSize","fixedName","Error","GET_COMPUTED_STYLE","computedStyle","styles","getPropertyValue","RUNTIME_STYLE","rnumnonpx","rposition","border","thin","medium","thick","currentStyle","rsLeft","pixelLeft","camelizeReg","camelizeHandler","OPACITY","FILTERS","salpha","ralpha","alpha","enabled","opacity","zoom","EMPTY_MAP","SELECTED_INDEX","SELECT_ONE","OPTIONS","getOptionValue","select","signle","options","vl","attributes","TYPE","MIXIN_EVENTS","MIXIN_ADD_LISTEN","MIXIN_DEL_LISTEN","MIXIN_EMIT_LISTEN","EventMixin","on","bindDispatcher","un","unbindDispatcher","once","self","events","listens","event","$hookEvent","packEvent","targetEl","current","IS_IMMEDIATE_PROPAGATION_STOPPED","ORIGINAL_EVENT","RETURN_VALUE","GET_PREVENT_DEFAULT","TIME_STAMP","ORIGINAL_PROPS","CANCEL_BUBBLE","addEventListener","removeEventListener","detachEvent","bubbleUpEvents","change","listenEl","DOM_DISPATCH_EVENTS","dispatch","keyEventReg","CHARCODE","KEYCODE","WHICH","keyEventProps","keyEventHook","fix","original","mouseEventReg","BUTTON","mouseEventProps","mouseEventHook","button","eventDoc","moveEventReg","eventTarget","now","originalEvent","Event","srcElement","eventProps","RELATED_TARGET","PROPERTY_NAME","defaultPrevented","getTime","EventProto","onmouseenter","t","compareDocumentPosition","AnimationEvent","WebKitAnimationEvent","onmousewheel","fixWheelType","onwheel","fixWheelDelta","WHEEL_DELTA","WHEEL_DELTAY","INPUT","oninput","changeEventDispath","DOM_CHANGE_EVENT","changeEventNum","OLD_VALUE","actEl","activeElement","Element","HTMLMixin","ElementMixin","ElementAttrMixin","ElementClassMixin","ElementStyleMixin","ElementValueMixin","ElementEventMixin","appendAll","__TEXT_CONTENT","TEXT_CONTENT","ComplexElement","$htmlComplexElement","doInsertBefore","doInsertAfter","HTMLCompontent","$htmlComp","createComment","$htmlComment","TextMixin","HTMLText","HTMLBindingText","register","eventFilters","EventKeyword","eventIdentityHandler","doIdentityHandler","EventExpression","doFilter","localFilters","keyCodes","esc","tab","space","up","right","down","which","stop","prevent","preventDefault","currentTarget","DomDirective","ExpressionDirective","realValue","blankValue","observeHandler","EventDirective","sample","eventType","eventName","DISPLAY","NONE","show","hide","boolVal","oldCache","ncsses","styleSplitReg","cssSplitReg","csses","__register","EVENT_CHANGE","EVENT_INPUT","EVENT_CLICK","SELECT","OPTION","TEXTAREA","INPUT_RADIO","INPUT_CHECKBOX","domValue","elemValue","itype","checkedValue","TypeError","onChange","elValue","EXPR_START","EXPR_END","AutoCloseElems","ContentElems","EXPR_START_LEN","EXPR_END_LEN","EXPR_KEY_WORDS","EXPR_KEYS","EXPR_STR","ExprObject","ExprArray","Expr","attachOffset","d","content_start","expr_end","createStringRule","mask","mline","exprs","estart","exprStr","ATTR_NAME","AttrValue","attachValue","attachStaticValue","NaN","Attrs","ELEM_NAME_REG","ELEM_NAME","NodeCollection","Elem","attachText","close","childNodesResult","closeTag","elemResult","tag","ElemContent","valHandler"],"mappings":"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"}